sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.050965040922165,-0.041448879987001,0.038028590381145,0.162280097603798,-0.263360589742661,0.081000387668610,0.107889242470264,-0.012973484583199,-0.346246719360352,-0.295840471982956,-0.074152320623398,0.017395827919245,-0.128944888710976,-0.070533618330956,-0.125972822308540,0.004015318118036));
res += mul(Get(s0,-dx,0), float4x4(-0.047388587146997,-0.036214690655470,-0.140996977686882,0.056812427937984,-0.095589369535446,-0.068983204662800,0.020600415766239,-0.007645846810192,0.093885518610477,-0.030754623934627,-0.003887403057888,0.033811379224062,0.004149255808443,0.086725413799286,0.004109449218959,-0.109303630888462));
res += mul(Get(s0,-dx,dy), float4x4(-0.036910586059093,0.169480860233307,-0.196057483553886,-0.099837161600590,-0.029645370319486,-0.139548942446709,-0.101388752460480,0.189839020371437,0.135084375739098,0.243742749094963,-0.122338935732841,0.036039300262928,-0.013639152981341,0.071685373783112,-0.130939960479736,-0.097364768385887));
res += mul(Get(s0,0,-dy), float4x4(-0.160887539386749,0.223963171243668,-0.112245991826057,-0.258786380290985,-0.108063213527203,0.143620207905769,0.108179703354836,-0.008976114913821,-0.237516954541206,-0.132910564541817,0.019273966550827,0.043899044394493,0.173262923955917,0.093095362186432,-0.057938303798437,-0.101782545447350));
res += mul(Get(s0,0,0), float4x4(0.122181996703148,0.032283179461956,-0.099003568291664,0.117692686617374,-0.088149249553680,0.163972929120064,-0.051181226968765,0.265448659658432,-0.053005058318377,0.127004832029343,-0.037841197103262,0.075081273913383,0.015388932079077,0.046603202819824,0.116249620914459,-0.124040260910988));
res += mul(Get(s0,0,dy), float4x4(-0.112163528800011,0.095744177699089,-0.051833137869835,0.064793348312378,0.047352090477943,0.184262320399284,-0.181307077407837,0.035334698855877,0.208291143178940,-0.043273378163576,0.013996881432831,-0.078451275825500,-0.070229105651379,0.035001739859581,0.018404316157103,-0.032644964754581));
res += mul(Get(s0,dx,-dy), float4x4(-0.021571701392531,0.101220041513443,-0.016798058524728,-0.123459488153458,-0.132014110684395,0.023168018087745,0.054873958230019,-0.097426243126392,-0.184503093361855,0.207877561450005,-0.051397338509560,0.018643142655492,0.094667948782444,-0.008055509999394,-0.035528175532818,-0.137329846620560));
res += mul(Get(s0,dx,0), float4x4(-0.055831409990788,-0.169454142451286,0.111400365829468,-0.109018571674824,0.125813230872154,0.062362831085920,0.132346838712692,-0.065700180828571,-0.008695063181221,0.220466196537018,-0.045486558228731,0.145516693592072,-0.051732309162617,-0.078501954674721,0.057882901281118,-0.029764737933874));
res += mul(Get(s0,dx,dy), float4x4(0.033168405294418,-0.248452842235565,-0.030074127018452,-0.193387642502785,-0.016327247023582,-0.158786296844482,0.024562695994973,-0.060373526066542,0.118629418313503,-0.142193228006363,-0.098576992750168,0.185321033000946,0.093428775668144,0.172107368707657,0.026614382863045,0.085298798978329));
res += mul(Get(s1,-dx,-dy), float4x4(-0.158965766429901,-0.098139218986034,-0.029547495767474,0.121286891400814,0.076539792120457,-0.137559905648232,-0.160367637872696,-0.041448332369328,-0.094062522053719,-0.071785621345043,0.139899477362633,0.039447478950024,-0.083334200084209,0.135102912783623,-0.014280924573541,-0.085506223142147));
res += mul(Get(s1,-dx,0), float4x4(0.094529591500759,-0.064187280833721,-0.119209542870522,0.030186453834176,-0.009851663373411,-0.074988037347794,-0.073832258582115,0.019228221848607,-0.026219969615340,0.129464551806450,-0.047899071127176,0.122254431247711,-0.074184522032738,-0.000612101110164,0.012571061961353,-0.103337377309799));
res += mul(Get(s1,-dx,dy), float4x4(0.029117291793227,0.004866035655141,0.190240666270256,0.066894911229610,0.078824892640114,-0.055217035114765,-0.033778037875891,0.022966839373112,-0.028400897979736,0.044961243867874,-0.088596798479557,0.285174101591110,-0.008992898277938,0.026038771495223,0.126908287405968,-0.065832428634167));
res += mul(Get(s1,0,-dy), float4x4(0.052516318857670,0.005893677007407,0.003068655263633,-0.035364493727684,0.078254021704197,-0.114746965467930,0.106448046863079,0.062037613242865,0.053603339940310,-0.137789547443390,0.020781079307199,-0.102178744971752,-0.008518550544977,-0.005093350075185,0.039314240217209,0.020662479102612));
res += mul(Get(s1,0,0), float4x4(-0.061779115349054,-0.106114655733109,0.179880261421204,-0.115182422101498,-0.101407356560230,0.099272422492504,0.098914861679077,0.211667761206627,-0.010332004167140,-0.101092763245106,-0.147724851965904,-0.006525155156851,0.092818036675453,-0.043946627527475,0.062464699149132,0.019620116800070));
res += mul(Get(s1,0,dy), float4x4(0.065838485956192,-0.132474571466446,0.002908341120929,-0.129378974437714,-0.134043008089066,0.042882531881332,0.032122943550348,-0.077878631651402,0.197274729609489,0.128875270485878,0.053461570292711,0.158995255827904,-0.031194647774100,0.042738229036331,-0.063768066465855,0.188407421112061));
res += mul(Get(s1,dx,-dy), float4x4(-0.012901745736599,-0.057522930204868,0.122874930500984,-0.102139577269554,-0.097120001912117,-0.042088128626347,-0.007825646549463,0.055649619549513,-0.003716167062521,0.174444913864136,0.150910824537277,0.099273130297661,-0.110380999743938,0.022438352927566,0.002271035918966,0.005760121159256));
res += mul(Get(s1,dx,0), float4x4(0.026155764237046,-0.020516887307167,0.055540349334478,0.010088659822941,-0.093965329229832,0.160578519105911,0.056768372654915,-0.187045767903328,0.024155132472515,0.177152097225189,-0.122429050505161,0.001543541438878,0.043026339262724,-0.114825636148453,0.121304243803024,0.038501247763634));
res += mul(Get(s1,dx,dy), float4x4(-0.069714263081551,0.023922070860863,-0.001546584884636,-0.169378608465195,-0.119985751807690,0.118729911744595,-0.051579695194960,0.077761530876160,0.147855505347252,0.040298715233803,-0.147066786885262,-0.035673599690199,0.026384374126792,0.030540404841304,0.087894171476364,-0.066132970154285));
res += mul(Get(s2,-dx,-dy), float4x4(0.109947457909584,0.216733455657959,-0.087646029889584,-0.042829785495996,0.144344568252563,0.036133985966444,0.036252796649933,-0.204007133841515,0.001447544083931,0.018545901402831,-0.196127995848656,0.052332665771246,-0.015294406563044,0.055457420647144,-0.092524625360966,0.158344000577927));
res += mul(Get(s2,-dx,0), float4x4(-0.004823880270123,0.040283143520355,-0.061232626438141,-0.181487187743187,0.110254682600498,0.002222805749625,0.213306680321693,-0.064194247126579,-0.037506379187107,0.023525042459369,-0.034744229167700,0.175832986831665,0.105494573712349,-0.133077472448349,0.086499609053135,0.005620124284178));
res += mul(Get(s2,-dx,dy), float4x4(-0.061624582856894,0.200932979583740,0.237406983971596,-0.063290424644947,-0.091180630028248,0.225050836801529,0.062319841235876,-0.083096042275429,0.082400478422642,-0.162625223398209,0.200143113732338,-0.120592437684536,-0.064667224884033,0.003554946277291,0.144280567765236,-0.144613385200500));
res += mul(Get(s2,0,-dy), float4x4(0.025850044563413,-0.035783790051937,0.027525039389729,-0.055478077381849,0.092690125107765,0.175246715545654,-0.032568119466305,-0.133773639798164,-0.032768413424492,0.020867045968771,-0.034008447080851,0.013811315409839,-0.138092949986458,-0.172759488224983,0.051088921725750,-0.006808421574533));
res += mul(Get(s2,0,0), float4x4(-0.050803881138563,0.017339829355478,-0.091756850481033,0.152444764971733,-0.022129252552986,0.001857352675870,-0.047240197658539,-0.127733021974564,0.036452293395996,-0.056131526827812,-0.084213793277740,0.009611026383936,-0.008111231029034,0.055322051048279,-0.042884439229965,0.307594507932663));
res += mul(Get(s2,0,dy), float4x4(-0.190822273492813,0.048074536025524,-0.056188121438026,0.050575256347656,-0.009057987481356,-0.024229858070612,0.111996456980705,0.130308389663696,-0.124606527388096,-0.194840937852859,0.023402510210872,0.100249446928501,0.087053805589676,0.135527417063713,-0.055598970502615,-0.274005681276321));
res += mul(Get(s2,dx,-dy), float4x4(0.058580655604601,-0.157401546835899,0.021144036203623,0.019733352586627,0.013351691886783,0.073916010558605,-0.004545568022877,-0.047136824578047,0.040744367986917,-0.059392221271992,0.061167422682047,0.144316777586937,0.158778399229050,-0.215702652931213,-0.178565949201584,0.051647722721100));
res += mul(Get(s2,dx,0), float4x4(0.040867213159800,-0.065497092902660,0.129908397793770,0.122195988893509,0.022712556645274,-0.055799294263124,0.019063826650381,-0.010692574083805,0.087576627731323,-0.083312131464481,-0.103801928460598,0.119206950068474,0.094828724861145,0.156322941184044,0.001059115515091,-0.017928555607796));
res += mul(Get(s2,dx,dy), float4x4(0.124809786677361,0.035710342228413,0.013072268106043,-0.038135323673487,0.146140500903130,0.154664039611816,-0.105539791285992,-0.034022018313408,0.140536487102509,0.097105577588081,-0.261313945055008,0.009980758652091,-0.081339314579964,0.013678228482604,-0.148849695920944,-0.056587480008602));
res += mul(Get(s3,-dx,-dy), float4x4(0.034476108849049,-0.124393641948700,0.051519382745028,-0.165823072195053,-0.155252695083618,-0.148868620395660,-0.047618184238672,-0.065261431038380,-0.044919505715370,-0.075676456093788,-0.006086017470807,0.116863764822483,-0.270841836929321,-0.040052317082882,-0.041341260075569,-0.146797850728035));
res += mul(Get(s3,-dx,0), float4x4(-0.111695230007172,0.250252366065979,-0.134040266275406,-0.190362066030502,-0.109229765832424,-0.051851972937584,0.061830122023821,-0.087175272405148,-0.066228121519089,0.029942762106657,-0.056202583014965,-0.086500249803066,-0.236766830086708,0.024763159453869,-0.205392941832542,0.027558263391256));
res += mul(Get(s3,-dx,dy), float4x4(0.062518112361431,0.199793785810471,-0.005208435002714,0.033739831298590,-0.172581225633621,0.114491291344166,-0.072335742413998,-0.042315404862165,0.085299104452133,0.086544670164585,0.100751101970673,0.125889673829079,0.124654814600945,-0.031470187008381,-0.084366142749786,-0.232022196054459));
res += mul(Get(s3,0,-dy), float4x4(0.041614979505539,0.046942610293627,0.127228483557701,0.224465623497963,0.043550435453653,-0.149472787976265,-0.079348489642143,0.087623700499535,0.064149424433708,0.056727744638920,-0.022518869489431,0.112407118082047,-0.014245157130063,0.048727039247751,0.099555402994156,-0.171857163310051));
res += mul(Get(s3,0,0), float4x4(-0.156496852636337,-0.014492989517748,-0.032064966857433,0.054659128189087,-0.096333995461464,-0.042893875390291,-0.041764687746763,0.238249838352203,-0.038753874599934,-0.087155707180500,0.055230844765902,-0.097227551043034,-0.016846183687449,-0.135747820138931,0.147594556212425,0.002986992476508));
res += mul(Get(s3,0,dy), float4x4(-0.031600728631020,0.118835583329201,0.043884281069040,0.068843528628349,0.009961206465960,0.066992715001106,0.100882932543755,0.024711936712265,0.255056113004684,0.197741463780403,0.060596343129873,0.042532030493021,0.053625695407391,-0.289566725492477,0.010119642131031,-0.074157454073429));
res += mul(Get(s3,dx,-dy), float4x4(0.171547189354897,0.107528358697891,-0.007178372703493,-0.052987240254879,0.070281438529491,-0.310203045606613,0.055240042507648,-0.019622733816504,-0.147023648023605,0.032249864190817,0.050838820636272,0.158553898334503,0.000337162375217,0.031289078295231,0.196907281875610,-0.221649199724197));
res += mul(Get(s3,dx,0), float4x4(-0.207053124904633,-0.235093384981155,-0.044625539332628,0.022577192634344,-0.033834185451269,0.160524368286133,0.096451535820961,-0.136273935437202,-0.146426826715469,0.097371734678745,0.006370590534061,-0.045729763805866,-0.053659424185753,-0.102799087762833,0.022140283137560,-0.001618578331545));
res += mul(Get(s3,dx,dy), float4x4(-0.069140270352364,-0.078398160636425,0.027939312160015,-0.085731282830238,0.065297447144985,-0.220664754509926,0.224749654531479,0.082108676433563,0.169784307479858,-0.096782743930817,0.167203947901726,-0.003152177901939,0.049779407680035,-0.089617036283016,-0.019872881472111,-0.106162391602993));
return max(float4(0,0,0,0), res);
}
