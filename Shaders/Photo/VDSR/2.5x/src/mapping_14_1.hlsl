sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.080267019569874,-0.031226517632604,0.050367601215839,-0.061044603586197,-0.030730243772268,0.007029124535620,0.006231900304556,-0.005936048924923,-0.028398005291820,0.001977871870622,-0.002640367718413,0.008548022247851,0.038447584956884,-0.028844857588410,-0.043705236166716,0.023462893441319));
res += mul(Get(s0,-dx,0), float4x4(-0.071771845221519,0.030981278046966,-0.062048461288214,-0.014101230539382,0.083323881030083,0.062459789216518,-0.041872154921293,0.014604412019253,-0.045808687806129,0.044223319739103,0.045763317495584,-0.014742917381227,-0.097695730626583,-0.015647642314434,0.063821740448475,-0.005522261373699));
res += mul(Get(s0,-dx,dy), float4x4(-0.035181250423193,0.085019901394844,-0.111691966652870,0.142869651317596,-0.046263404190540,-0.068141907453537,-0.023364523425698,-0.112465940415859,-0.054047044366598,0.087012380361557,0.007849848829210,0.050180751830339,-0.046383913606405,-0.009341017343104,-0.035034496337175,0.109196163713932));
res += mul(Get(s0,0,-dy), float4x4(-0.042525451630354,0.021498259156942,0.062556669116020,-0.090824380517006,0.113083533942699,-0.003685062518343,0.039825104176998,0.070325493812561,0.148672565817833,0.038329847157001,0.032063521444798,0.098058655858040,0.038607116788626,-0.078778430819511,-0.056685209274292,-0.028509175404906));
res += mul(Get(s0,0,0), float4x4(-0.062862165272236,0.162753850221634,-0.077393554151058,0.013683553785086,0.209204956889153,-0.075538247823715,-0.050829060375690,0.150488004088402,0.131408467888832,0.253655135631561,0.035843171179295,0.112153232097626,-0.074237555265427,-0.022104404866695,-0.021923784166574,-0.084357731044292));
res += mul(Get(s0,0,dy), float4x4(0.041594929993153,-0.044095657765865,-0.014285370707512,-0.010868328623474,0.094166040420532,-0.007976726628840,0.120961658656597,-0.106337450444698,0.176949918270111,0.114096954464912,-0.029516160488129,0.167883485555649,-0.069322973489761,-0.127883732318878,-0.083325900137424,0.057782858610153));
res += mul(Get(s0,dx,-dy), float4x4(-0.033190988004208,0.113621689379215,0.039663568139076,-0.037345975637436,-0.070025779306889,-0.041454628109932,0.072216711938381,-0.039940193295479,-0.048463944345713,-0.030254695564508,0.050064578652382,-0.052153050899506,0.031246129423380,-0.010421805083752,-0.100282922387123,-0.005921972915530));
res += mul(Get(s0,dx,0), float4x4(-0.028201714158058,0.042750831693411,-0.004164612386376,0.032771289348602,-0.040900435298681,-0.063162520527840,-0.018593499436975,-0.019903574138880,-0.081329330801964,0.258134573698044,-0.059210818260908,0.021097486838698,-0.064102828502655,0.078797496855259,-0.043192315846682,0.046321351081133));
res += mul(Get(s0,dx,dy), float4x4(0.003688832046464,-0.098468288779259,-0.033242110162973,-0.000554074649699,-0.018673643469810,0.090049691498280,-0.044940542429686,0.048544563353062,-0.025010693818331,-0.026870025321841,0.032642725855112,0.075987271964550,-0.070579878985882,-0.149478867650032,-0.010229920037091,0.023771075531840));
res += mul(Get(s1,-dx,-dy), float4x4(0.030845139175653,0.082287915050983,-0.168215155601501,0.113723702728748,-0.073972560465336,0.029781626537442,0.044197760522366,0.046231571584940,-0.005232749041170,-0.035614706575871,0.107764355838299,-0.097871482372284,-0.042317599058151,-0.161288216710091,-0.025911435484886,-0.038260787725449));
res += mul(Get(s1,-dx,0), float4x4(0.035484470427036,0.021615603938699,-0.048428613692522,-0.069878071546555,-0.001555466558784,0.020198708400130,-0.061919152736664,-0.132514342665672,0.001401125802658,0.010319806635380,-0.093579933047295,0.163246318697929,0.010682472959161,-0.096363998949528,-0.027876926586032,-0.036530070006847));
res += mul(Get(s1,-dx,dy), float4x4(-0.057039033621550,-0.030940970405936,0.085218787193298,-0.167745545506477,0.078118287026882,-0.012402752414346,0.122012905776501,0.005361248739064,-0.040842350572348,-0.019811417907476,-0.012951466254890,-0.115694850683212,-0.041373666375875,0.015727557241917,-0.018540972843766,-0.143200546503067));
res += mul(Get(s1,0,-dy), float4x4(0.032266560941935,-0.030318645760417,-0.081522092223167,0.034364644438028,-0.024643160402775,0.045577023178339,-0.041523229330778,0.007191697135568,-0.034446604549885,0.059551481157541,-0.016279261559248,0.118811152875423,0.043692637234926,0.003861195640638,-0.046667769551277,0.076901338994503));
res += mul(Get(s1,0,0), float4x4(-0.043764635920525,-0.104347169399261,-0.107291124761105,-0.197433799505234,0.025558833032846,-0.032047066837549,-0.094351626932621,-0.050715416669846,0.023668551817536,-0.067208789288998,-0.065764553844929,0.092582218348980,-0.012035225518048,0.025580070912838,-0.077284760773182,-0.045305397361517));
res += mul(Get(s1,0,dy), float4x4(-0.084888227283955,-0.055978730320930,0.068022735416889,-0.103264234960079,0.032251525670290,-0.059090308845043,0.192323312163353,-0.077818006277084,-0.111910767853260,-0.003819224890321,0.029276115819812,-0.078653298318386,-0.007849913090467,0.011305055581033,0.067984297871590,0.006051908712834));
res += mul(Get(s1,dx,-dy), float4x4(0.145621627569199,-0.092554241418839,-0.159907802939415,0.070539839565754,0.007343032862991,-0.045970622450113,0.074186742305756,0.057349272072315,-0.005031947046518,-0.008299372158945,-0.008887800388038,0.017573196440935,0.033907473087311,0.054138153791428,-0.066293448209763,0.090436130762100));
res += mul(Get(s1,dx,0), float4x4(0.079863712191582,-0.087908156216145,-0.073418214917183,-0.047581799328327,0.031250655651093,-0.062662690877914,0.170201897621155,-0.012011954560876,-0.018969895318151,0.055812828242779,-0.022126933559775,0.104693308472633,-0.033701349049807,-0.016607193276286,-0.029073270037770,-0.051754917949438));
res += mul(Get(s1,dx,dy), float4x4(-0.065873444080353,0.000719852221664,0.116267457604408,-0.182159289717674,0.052779670804739,-0.052088823169470,0.143240675330162,-0.005421799607575,-0.005740811116993,0.022567922249436,-0.012828872539103,-0.021329080685973,-0.112447246909142,-0.082673251628876,0.005070297513157,-0.012050509452820));
res += mul(Get(s2,-dx,-dy), float4x4(-0.069810271263123,0.022852022200823,-0.002827469026670,-0.051630638539791,-0.072455726563931,-0.022959509864450,0.019777711480856,0.113619171082973,0.060456361621618,-0.004145776387304,-0.039131451398134,-0.069157414138317,0.006727795582265,-0.019967213273048,0.047717142850161,-0.050467718392611));
res += mul(Get(s2,-dx,0), float4x4(0.003641746705398,-0.038127109408379,-0.064645580947399,0.037576109170914,0.004103570245206,-0.064103424549103,-0.035788744688034,0.095109112560749,-0.004045180510730,0.062668748199940,0.092853680253029,-0.091192558407784,-0.083613030612469,0.064065821468830,-0.102653086185455,-0.019755218178034));
res += mul(Get(s2,-dx,dy), float4x4(-0.108998596668243,-0.016931358724833,0.074892833828926,-0.103878289461136,0.120188012719154,-0.086325474083424,-0.000893157266546,-0.090891852974892,0.063035130500793,0.049998238682747,0.145535290241241,0.029039558023214,0.000744221964851,0.065261624753475,-0.143884316086769,0.150667786598206));
res += mul(Get(s2,0,-dy), float4x4(0.024514682590961,0.032753527164459,-0.038410138338804,-0.050138514488935,-0.165571480989456,0.011902176775038,0.009163513779640,0.045602474361658,-0.002368748188019,-0.050465080887079,-0.076236896216869,-0.021284520626068,-0.059497680515051,-0.042340081185102,-0.022651882842183,0.086355999112129));
res += mul(Get(s2,0,0), float4x4(-0.018983719870448,-0.019030563533306,0.082425951957703,-0.040223680436611,0.110794030129910,-0.058560781180859,-0.032624144107103,0.043802361935377,0.020209871232510,0.048255346715450,-0.115833759307861,0.004684991668910,-0.060280673205853,0.188468709588051,0.048533149063587,-0.002440168289468));
res += mul(Get(s2,0,dy), float4x4(-0.026058442890644,0.077609926462173,-0.099449940025806,0.056828845292330,0.036566343158484,-0.041122250258923,-0.040134664624929,-0.084446720778942,-0.016818724572659,-0.070093311369419,0.208475753664970,-0.173377871513367,0.014278971590102,-0.030313827097416,-0.113996796309948,0.126476645469666));
res += mul(Get(s2,dx,-dy), float4x4(-0.035175498574972,0.039554845541716,0.012190392240882,-0.045198258012533,-0.026548512279987,0.012759055942297,0.021639445796609,0.021931229159236,0.026476627215743,-0.095690444111824,-0.042769424617290,-0.053019583225250,0.009290472604334,-0.039357699453831,0.056390020996332,0.107414074242115));
res += mul(Get(s2,dx,0), float4x4(-0.017317337915301,0.092866845428944,-0.033129129558802,-0.070496737957001,-0.008614443242550,-0.028055733069777,-0.004694035276771,0.031622853130102,-0.005023582838476,-0.096575133502483,-0.107662454247475,-0.041481863707304,-0.060909710824490,0.018238563090563,-0.027429001405835,0.105798572301865));
res += mul(Get(s2,dx,dy), float4x4(-0.005216341000050,0.030693503096700,-0.055693112313747,0.100003562867641,-0.008600518107414,-0.028512971475720,-0.032974261790514,0.054594554007053,-0.031404469162226,-0.043936870992184,0.149578228592873,-0.167036697268486,-0.020046437159181,-0.020112747326493,0.065854348242283,0.104057349264622));
res += mul(Get(s3,-dx,-dy), float4x4(0.033991295844316,-0.003281009616330,0.114987082779408,0.031487587839365,0.043645657598972,0.001007107668556,-0.048038657754660,0.089980192482471,0.153960570693016,-0.018043769523501,-0.006820307113230,0.073202542960644,-0.040123384445906,-0.118257157504559,0.117649167776108,-0.088372834026814));
res += mul(Get(s3,-dx,0), float4x4(0.033456560224295,0.031246475875378,0.002651898423210,0.041019316762686,-0.075301028788090,0.000720324693248,-0.065585173666477,-0.032230958342552,0.093690492212772,-0.001241181511432,0.209631398320198,-0.014624625444412,0.025622002780437,-0.052283372730017,0.097026370465755,-0.006695349700749));
res += mul(Get(s3,-dx,dy), float4x4(0.019572520628572,-0.009103370830417,-0.019269553944468,0.067881308495998,-0.043409220874310,-0.075633741915226,0.064679741859436,-0.084869712591171,-0.032882813364267,0.015099828131497,-0.020750546827912,0.028985666111112,-0.031052950769663,-0.089186303317547,-0.085432283580303,0.013204477727413));
res += mul(Get(s3,0,-dy), float4x4(0.088509842753410,0.025775512680411,0.122007772326469,0.042798433452845,0.120108358561993,-0.005757937207818,-0.061813574284315,0.074116431176662,0.094832070171833,-0.006774752866477,-0.046173430979252,0.081483632326126,-0.039316248148680,-0.068090029060841,0.217409968376160,-0.176676675677299));
res += mul(Get(s3,0,0), float4x4(0.184534385800362,-0.003965429496020,0.031712152063847,0.207231745123863,-0.004102640319616,-0.035347700119019,-0.031165955588222,-0.000526989519130,-0.008632520213723,-0.017467213794589,0.148505821824074,0.088731177151203,-0.048671711236238,0.028916373848915,-0.021687408909202,-0.083821907639503));
res += mul(Get(s3,0,dy), float4x4(0.112419188022614,-0.002630078000948,0.031335193663836,0.105418346822262,-0.060460060834885,-0.022826530039310,0.027960389852524,-0.119365841150284,-0.018865194171667,0.022924521937966,-0.032193191349506,0.016855290159583,0.108736805617809,-0.036844301968813,-0.067923881113529,0.154408827424049));
res += mul(Get(s3,dx,-dy), float4x4(0.018685694783926,-0.037664622068405,0.099230550229549,-0.022904304787517,0.040760036557913,0.052999369800091,-0.048566885292530,-0.069392815232277,0.099858343601227,-0.031475037336349,0.022251026704907,0.130350530147552,-0.022265091538429,-0.003862927202135,0.169672951102257,-0.134025663137436));
res += mul(Get(s3,dx,0), float4x4(-0.017131147906184,0.017526805400848,0.051260020583868,-0.051162686198950,-0.095688194036484,0.042327284812927,0.013305721804500,-0.111781567335129,0.135358303785324,0.002320096595213,0.139761045575142,0.205493599176407,-0.057741809636354,0.020340142771602,0.021407211199403,-0.014806492254138));
res += mul(Get(s3,dx,dy), float4x4(-0.020031420513988,-0.017946826294065,0.002462581032887,-0.019962018355727,-0.047122806310654,0.021993437781930,-0.028943054378033,-0.063660919666290,-0.058116581290960,-0.028750311583281,0.079903230071068,0.112342923879623,0.031170450150967,-0.028778178617358,-0.126436978578568,0.046611525118351));
return max(float4(0,0,0,0), res);
}
