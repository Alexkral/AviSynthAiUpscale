sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.156992137432098,0.060450699180365,-0.006304746028036,0.082140706479549,0.031836435198784,0.045674178749323,-0.057617988437414,-0.076894015073776,0.045013472437859,0.100718125700951,-0.048514448106289,0.083173304796219,0.063192360103130,0.346649795770645,-0.066005751490593,0.068486556410789));
res += mul(Get(s0,-dx,0), float4x4(0.054170776158571,-0.061531215906143,0.018724521622062,-0.007627521641552,0.160853609442711,-0.104568071663380,0.020990760996938,0.061453096568584,-0.052913352847099,-0.150446623563766,-0.031650010496378,-0.060082662850618,-0.045724432915449,-0.123562194406986,0.007259356323630,-0.181108474731445));
res += mul(Get(s0,-dx,dy), float4x4(0.029414162039757,0.171894356608391,0.043760437518358,0.196597814559937,-0.035729818046093,-0.028526725247502,0.074719823896885,0.037694673985243,0.147066906094551,-0.123329631984234,-0.065926596522331,-0.016644241288304,-0.017297489568591,0.052602663636208,-0.054155673831701,-0.065512493252754));
res += mul(Get(s0,0,-dy), float4x4(0.076917380094528,-0.106167688965797,-0.066548585891724,0.082014195621014,-0.131759300827980,0.030314262956381,-0.050912924110889,0.012597809545696,-0.056980017572641,0.061315994709730,0.076127454638481,0.082940429449081,-0.154624164104462,0.066719651222229,0.078398168087006,0.061849400401115));
res += mul(Get(s0,0,0), float4x4(-0.040034834295511,-0.154149219393730,-0.105980820953846,-0.042320806533098,-0.003902198048308,0.029035314917564,-0.115749366581440,0.111316710710526,0.211392685770988,0.029177520424128,-0.085119061172009,-0.202235817909241,-0.003536313306540,-0.088903851807117,0.000836966966745,-0.057290509343147));
res += mul(Get(s0,0,dy), float4x4(0.088812276721001,-0.106700539588928,0.088660322129726,-0.139459386467934,0.049211468547583,-0.015856223180890,0.100677154958248,0.034986302256584,0.209780216217041,-0.011000031605363,-0.213347330689430,0.067024253308773,0.226293578743935,0.035940617322922,-0.077912703156471,0.018562041223049));
res += mul(Get(s0,dx,-dy), float4x4(0.017106788232923,-0.067537508904934,-0.053752560168505,0.002035163110122,0.036410789936781,0.098581925034523,-0.086202628910542,0.024362444877625,-0.059517897665501,0.148404881358147,0.066344499588013,0.090607695281506,0.025761548429728,-0.067412614822388,0.044457465410233,0.106029398739338));
res += mul(Get(s0,dx,0), float4x4(0.133735239505768,0.023588122799993,-0.017030950635672,-0.012567933648825,0.019431974738836,-0.135862112045288,0.076683461666107,-0.062968708574772,0.174750849604607,-0.050160426646471,-0.236884981393814,-0.039138764142990,0.223875999450684,0.044126398861408,-0.048459779471159,0.005026571452618));
res += mul(Get(s0,dx,dy), float4x4(0.159807816147804,0.027044139802456,0.086060091853142,-0.133001059293747,-0.004870729055256,-0.152360513806343,-0.099967464804649,-0.032555252313614,0.076440140604973,0.035986404865980,-0.082448445260525,-0.004742133431137,0.045153208076954,0.035486072301865,0.004669145680964,0.031928457319736));
res += mul(Get(s1,-dx,-dy), float4x4(-0.043858908116817,-0.093711100518703,-0.003570652566850,-0.138172179460526,0.043265830725431,-0.042421795427799,-0.124418720602989,-0.034298479557037,0.000974728143774,-0.139225408434868,-0.113635592162609,0.080447778105736,-0.053259614855051,-0.050899561494589,-0.212149202823639,-0.121867559850216));
res += mul(Get(s1,-dx,0), float4x4(-0.005612863693386,0.152475789189339,-0.031712390482426,0.012668774463236,-0.152538925409317,-0.089783988893032,0.166643962264061,-0.206002160906792,-0.115919478237629,0.011648835614324,0.099971249699593,0.054851289838552,0.177461937069893,-0.163776412606239,-0.014361796900630,0.010598498396575));
res += mul(Get(s1,-dx,dy), float4x4(0.023397635668516,-0.151830956339836,0.255107402801514,0.061741117388010,-0.004423355683684,0.057076625525951,0.022420834749937,0.087958835065365,0.055363446474075,-0.075011573731899,0.148065000772476,0.050213165581226,0.056680940091610,0.162714913487434,-0.080913700163364,0.080053821206093));
res += mul(Get(s1,0,-dy), float4x4(-0.155191496014595,0.009900711476803,-0.071978941559792,-0.048091217875481,-0.159114241600037,-0.053525775671005,-0.005445397458971,0.092020176351070,0.056292265653610,0.071231171488762,-0.059862844645977,-0.009908098727465,-0.036776296794415,-0.098891742527485,-0.030460441485047,-0.076754264533520));
res += mul(Get(s1,0,0), float4x4(-0.243135988712311,-0.079611137509346,0.027599561959505,0.083564899861813,-0.338961809873581,0.016073569655418,-0.122639648616314,0.089438259601593,0.095561482012272,0.123517788946629,0.017632145434618,-0.119168318808079,0.065251715481281,-0.106537729501724,-0.131110280752182,-0.007586359977722));
res += mul(Get(s1,0,dy), float4x4(0.002477433299646,0.110115006566048,0.049029801040888,0.081699125468731,0.076804772019386,0.039440616965294,-0.129241585731506,-0.102687962353230,0.144433289766312,-0.042913723737001,-0.022994350641966,0.029588174074888,0.085162937641144,-0.014460520818830,0.036001466214657,-0.046362001448870));
res += mul(Get(s1,dx,-dy), float4x4(0.119448006153107,0.045533116906881,0.105624064803123,0.026493785902858,0.142977625131607,-0.133623659610748,-0.059800442308187,-0.013263337314129,-0.034181002527475,0.074972204864025,-0.157389551401138,-0.048192858695984,0.038670405745506,-0.083077363669872,-0.027218246832490,0.036736812442541));
res += mul(Get(s1,dx,0), float4x4(-0.060400985181332,-0.011201657354832,-0.008473556488752,0.208105534315109,-0.052546355873346,0.137808576226234,-0.232955858111382,0.124445214867592,0.012403495609760,-0.017116054892540,0.050396330654621,0.055721811950207,0.071635887026787,0.071861892938614,-0.021992217749357,0.059481106698513));
res += mul(Get(s1,dx,dy), float4x4(0.081936895847321,0.048021234571934,0.079717405140400,-0.009239134378731,-0.046082034707069,-0.063492335379124,-0.010521070100367,-0.037202492356300,0.058727655559778,-0.132780760526657,-0.106750249862671,0.176823869347572,-0.076796427369118,-0.009592732414603,-0.068706214427948,-0.137105882167816));
res += mul(Get(s2,-dx,-dy), float4x4(-0.052126578986645,-0.197787687182426,0.062723152339458,0.010058213025331,0.012949338182807,-0.042983930557966,0.107075445353985,-0.061642382293940,-0.041863229125738,-0.054402202367783,-0.116468377411366,0.053249213844538,0.112237140536308,-0.098267465829849,-0.079669110476971,0.071353293955326));
res += mul(Get(s2,-dx,0), float4x4(0.012245202437043,0.193640336394310,0.142535239458084,0.098791867494583,0.057556722313166,0.041724663227797,-0.025041120126843,-0.187803134322166,0.197061926126480,0.076662875711918,0.105072885751724,0.123302273452282,0.012554427608848,0.092595472931862,0.102111943066120,0.081127695739269));
res += mul(Get(s2,-dx,dy), float4x4(0.132112637162209,0.207702964544296,-0.134677931666374,0.115043140947819,-0.091235227882862,0.037010677158833,-0.025320770218968,-0.043829184025526,-0.160102769732475,-0.121379926800728,0.040106594562531,-0.113839007914066,-0.141862854361534,0.161868706345558,0.044825281947851,0.164578467607498));
res += mul(Get(s2,0,-dy), float4x4(-0.056684508919716,0.121940009295940,0.015551095828414,0.176288381218910,-0.059969507157803,0.076674878597260,0.203344330191612,0.098215125501156,0.048981580883265,0.069988280534744,0.056724518537521,0.106665953993797,-0.027966773137450,-0.078809022903442,0.124940261244774,0.052811857312918));
res += mul(Get(s2,0,0), float4x4(0.035204779356718,-0.163180768489838,-0.048242058604956,0.145291373133659,-0.060152541846037,0.085864074528217,-0.077945671975613,-0.216858640313148,0.138210535049438,0.049020364880562,-0.043314665555954,0.170434653759003,0.227486431598663,-0.039247244596481,0.036778490990400,-0.178417846560478));
res += mul(Get(s2,0,dy), float4x4(0.062724903225899,-0.095246881246567,-0.011899158358574,0.055980052798986,-0.109857045114040,-0.064272642135620,-0.041832268238068,-0.146837085485458,-0.274850994348526,0.114458605647087,0.128362104296684,0.132203504443169,-0.071002461016178,-0.078385815024376,0.087840847671032,-0.069830253720284));
res += mul(Get(s2,dx,-dy), float4x4(0.012257335707545,0.023406552150846,0.035055935382843,-0.036666128784418,0.084726423025131,-0.149655297398567,0.097674258053303,-0.079330563545227,0.206967979669571,0.029344646260142,-0.078428350389004,0.011961667798460,-0.063527032732964,-0.025885052978992,0.054067559540272,-0.043538596481085));
res += mul(Get(s2,dx,0), float4x4(0.005594779271632,-0.175272554159164,-0.052335418760777,0.175285816192627,0.043067876249552,-0.023807618767023,0.113180115818977,0.067393369972706,0.010685956105590,0.122379057109356,0.036850683391094,0.042899094521999,-0.065703488886356,0.142027497291565,-0.026320433244109,-0.191656053066254));
res += mul(Get(s2,dx,dy), float4x4(0.006814655847847,-0.100877277553082,-0.078420773148537,0.135738536715508,0.103607974946499,0.128710106015205,-0.044036906212568,0.112042948603630,-0.112772345542908,-0.039575122296810,-0.017178317531943,-0.013737577944994,0.231336414813995,-0.138277247548103,-0.053287196904421,0.061362918466330));
res += mul(Get(s3,-dx,-dy), float4x4(-0.028858214616776,-0.024235339835286,0.054309971630573,-0.097128070890903,0.045385975390673,0.068448059260845,0.127423301339149,-0.111003056168556,0.052310500293970,-0.044148992747068,0.027063379064202,0.089755199849606,-0.051304779946804,-0.050938233733177,0.094207815825939,-0.127640306949615));
res += mul(Get(s3,-dx,0), float4x4(0.067211985588074,-0.067057497799397,0.111250214278698,-0.063764676451683,0.069412820041180,0.074620828032494,0.118141159415245,-0.093483641743660,0.080319933593273,0.000636946584564,-0.095948331058025,0.153892055153847,0.006095826625824,0.008236120454967,0.015156161971390,-0.034435484558344));
res += mul(Get(s3,-dx,dy), float4x4(-0.119988776743412,-0.076030030846596,0.168759077787399,-0.024309538304806,-0.054075337946415,0.084182456135750,0.067248202860355,0.038203738629818,-0.044500268995762,0.072184383869171,-0.014036784879863,0.064618721604347,-0.029296044260263,-0.053891353309155,0.042192343622446,-0.001269350876100));
res += mul(Get(s3,0,-dy), float4x4(0.078104220330715,-0.070362225174904,-0.112905688583851,0.149141639471054,0.081196792423725,0.060530636459589,0.012950672768056,0.008926012553275,-0.058873899281025,0.178048387169838,0.167509615421295,-0.100020766258240,0.015477774664760,-0.055859651416540,-0.203074455261230,-0.086839422583580));
res += mul(Get(s3,0,0), float4x4(0.082630254328251,-0.046445924788713,-0.059620019048452,0.153917044401169,-0.026751954108477,-0.019264990463853,-0.044388376176357,-0.017825899645686,0.198830410838127,0.130251541733742,0.012773233465850,0.065294086933136,-0.067013196647167,-0.061151076108217,0.009773282334208,0.132597342133522));
res += mul(Get(s3,0,dy), float4x4(-0.022877365350723,-0.003341213101521,0.145312994718552,0.009191168472171,-0.105807200074196,-0.128469109535217,-0.026383122429252,-0.087963163852692,-0.232912182807922,0.019642898812890,0.321208506822586,-0.092374868690968,0.123674198985100,0.075129799544811,0.077702417969704,-0.165384143590927));
res += mul(Get(s3,dx,-dy), float4x4(-0.002332521136850,-0.105266705155373,-0.010457254946232,-0.031182209029794,0.163376212120056,0.110541701316833,-0.080685593187809,-0.067917436361313,-0.106172643601894,0.003998921252787,0.045812703669071,-0.001530156354420,-0.022919941693544,0.064821742475033,-0.023149088025093,-0.176872357726097));
res += mul(Get(s3,dx,0), float4x4(0.080815650522709,-0.062997788190842,-0.013836363330483,-0.003548391861841,-0.084944777190685,0.016575533896685,-0.167080208659172,-0.111033119261265,-0.241396814584732,0.008772260509431,0.078127905726433,-0.016881486400962,0.071594402194023,-0.016293507069349,-0.043374951928854,0.142169639468193));
res += mul(Get(s3,dx,dy), float4x4(-0.058151241391897,0.020224759355187,-0.041424967348576,-0.098953783512115,-0.226622119545937,-0.029427561908960,0.124293722212315,-0.112487502396107,-0.009810631163418,0.040821261703968,0.125981241464615,-0.023800047114491,-0.116763368248940,0.108721196651459,-0.165881246328354,0.042422369122505));
return max(float4(0,0,0,0), res);
}
