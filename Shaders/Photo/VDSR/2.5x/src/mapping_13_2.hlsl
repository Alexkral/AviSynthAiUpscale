sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.015462939627469,0.189284220337868,-0.085984006524086,0.071936085820198,-0.044486127793789,0.080534182488918,0.002693388378248,0.065370649099350,0.065898016095161,-0.049513839185238,-0.089024797081947,-0.014410012401640,-0.076702341437340,0.022540770471096,-0.008960871025920,0.032014060765505));
res += mul(Get(s0,-dx,0), float4x4(-0.052500665187836,0.045207902789116,-0.069301575422287,0.145851135253906,-0.082712896168232,-0.040280759334564,0.105856783688068,0.122046455740929,0.077373407781124,-0.069253124296665,0.048396855592728,0.041746336966753,-0.004637231118977,0.036846831440926,0.043330766260624,0.065381631255150));
res += mul(Get(s0,-dx,dy), float4x4(-0.031924445182085,0.083154544234276,0.104050360620022,0.106264263391495,-0.075743578374386,-0.043531443923712,-0.082777708768845,0.114770479500294,0.127871379256248,-0.038267530500889,-0.092851683497429,0.016160743311048,-0.005859058815986,-0.000540506152902,-0.021237010136247,0.080300420522690));
res += mul(Get(s0,0,-dy), float4x4(-0.098613940179348,0.029041433706880,-0.144049659371376,0.104084990918636,0.062280546873808,0.063089102506638,0.037757318466902,0.157697066664696,-0.056208301335573,0.065571539103985,-0.008140959776938,-0.052780836820602,-0.037244647741318,0.025520641356707,-0.012217565439641,-0.075889967381954));
res += mul(Get(s0,0,0), float4x4(-0.095738492906094,-0.025635099038482,-0.077067002654076,0.017772587016225,-0.065744295716286,-0.099783502519131,-0.002148924861103,-0.006738729309291,-0.092217534780502,0.010578758083284,0.100981011986732,0.074146851897240,-0.039763603359461,0.025430131703615,-0.043174386024475,0.070201717317104));
res += mul(Get(s0,0,dy), float4x4(-0.062652394175529,-0.017928628250957,0.337107360363007,0.034912612289190,-0.022722350433469,-0.066856458783150,-0.067203618586063,0.057905416935682,-0.034026023000479,-0.051366157829762,-0.085983082652092,0.018240643665195,-0.006747746840119,-0.079472787678242,-0.039082415401936,-0.013099699281156));
res += mul(Get(s0,dx,-dy), float4x4(-0.060346756130457,0.038421612232924,-0.004536336287856,-0.051509119570255,0.077317245304585,-0.061051730066538,-0.036135751754045,0.066613428294659,-0.058821257203817,0.064721159636974,0.011373034678400,0.066253066062927,0.086636483669281,-0.013745277188718,-0.003233475843444,-0.026161503046751));
res += mul(Get(s0,dx,0), float4x4(0.103449568152428,0.087144650518894,0.185327559709549,0.031295858323574,0.012792917899787,-0.051498770713806,-0.068255215883255,-0.126921668648720,-0.037339333444834,-0.038545668125153,0.038171544671059,0.076885364949703,0.075225368142128,0.038399659097195,-0.045849196612835,-0.050609536468983));
res += mul(Get(s0,dx,dy), float4x4(-0.033859666436911,0.045894388109446,-0.078366927802563,-0.054431796073914,-0.036452539265156,-0.031000792980194,0.018313057720661,-0.070956639945507,-0.031760640442371,-0.063154414296150,-0.055947877466679,0.077268309891224,0.107944339513779,0.011139197275043,-0.124484054744244,0.096187643706799));
res += mul(Get(s1,-dx,-dy), float4x4(0.049982298165560,0.010282525792718,-0.114977702498436,-0.012432603165507,0.099644288420677,0.079360261559486,-0.006087219342589,-0.067353807389736,-0.010345574468374,-0.024918986484408,-0.056574508547783,0.060362234711647,0.025477927178144,-0.025853950530291,0.103241316974163,-0.058440215885639));
res += mul(Get(s1,-dx,0), float4x4(0.071677967905998,-0.070777453482151,0.017924845218658,-0.041031699627638,-0.057685531675816,-0.090135335922241,-0.013370445929468,-0.028067911043763,-0.006072883028537,0.028686402365565,0.026260180398822,0.129346981644630,0.006415535230190,-0.033509586006403,-0.018648285418749,-0.060712810605764));
res += mul(Get(s1,-dx,dy), float4x4(0.120588958263397,-0.010841844603419,-0.078503042459488,-0.017486440017819,0.031304247677326,-0.112307943403721,0.083132922649384,-0.008705665357411,0.041225798428059,0.116255581378937,0.008838263340294,0.109765015542507,-0.050170112401247,-0.022864840924740,-0.109845526516438,-0.000589323171880));
res += mul(Get(s1,0,-dy), float4x4(-0.146908760070801,0.031896222382784,-0.088644184172153,-0.088995426893234,-0.027593187987804,-0.028050361201167,-0.045182459056377,-0.096587404608727,0.028273876756430,0.031488433480263,0.027042001485825,0.057038784027100,0.095996007323265,-0.092525787651539,-0.035441175103188,-0.030879141762853));
res += mul(Get(s1,0,0), float4x4(-0.104578584432602,-0.101380363106728,-0.001137322746217,-0.083276033401489,-0.065748892724514,-0.027747433632612,0.011595359072089,0.057779636234045,0.030894858762622,0.049671906977892,0.079572550952435,0.113715149462223,0.004047116730362,-0.099598482251167,-0.023556994274259,-0.005662539973855));
res += mul(Get(s1,0,dy), float4x4(-0.018543539568782,-0.107199102640152,-0.101286903023720,0.076177634298801,0.106401838362217,-0.065777599811554,0.073485516011715,-0.027189774438739,0.048169735819101,-0.013542211614549,-0.005016651935875,0.104228474199772,-0.072416916489601,-0.062033809721470,-0.028271352872252,-0.055788267403841));
res += mul(Get(s1,dx,-dy), float4x4(0.018409797921777,-0.059663377702236,-0.023663438856602,-0.021220181137323,-0.003991254605353,-0.041141852736473,0.044135566800833,0.046108625829220,-0.005484268534929,0.059209112077951,0.058454960584641,0.133098602294922,0.063874229788780,-0.044557921588421,-0.005580861121416,-0.145949199795723));
res += mul(Get(s1,dx,0), float4x4(-0.006543966475874,-0.018363356590271,-0.021994659677148,0.121004708111286,0.091266699135303,0.061606127768755,0.019506985321641,0.006850430276245,0.005416853353381,0.014155028387904,0.020914604887366,0.062895365059376,0.072757229208946,-0.012657014653087,0.025389580056071,-0.110642626881599));
res += mul(Get(s1,dx,dy), float4x4(0.019857436418533,-0.084549717605114,-0.032628860324621,0.067774347960949,0.151632308959961,0.024826042354107,-0.053439270704985,0.064800851047039,0.013491198420525,-0.002585194539279,0.009592073038220,0.164575845003128,-0.046172570437193,0.008342889137566,-0.016051888465881,-0.148843377828598));
res += mul(Get(s2,-dx,-dy), float4x4(-0.002055378397927,-0.019284382462502,0.075846150517464,-0.054717615246773,0.040609791874886,-0.036763779819012,0.006856263615191,0.019770188257098,-0.034405991435051,0.005804666783661,-0.006948277354240,0.005389585625380,-0.000699413241819,0.081078864634037,0.097173623740673,0.024279041215777));
res += mul(Get(s2,-dx,0), float4x4(0.037240810692310,0.074008964002132,0.025827061384916,0.010500259697437,0.012270333245397,0.015933547168970,-0.024075539782643,-0.071225918829441,-0.001765325316228,0.024744601920247,0.067937672138214,-0.009298072196543,0.057428207248449,0.076926901936531,-0.068704850971699,0.089988552033901));
res += mul(Get(s2,-dx,dy), float4x4(0.153927266597748,0.116993360221386,0.085292622447014,-0.018558753654361,0.028802385553718,0.044087458401918,0.044411838054657,-0.026814132928848,-0.042828932404518,-0.021424211561680,0.089389063417912,0.010667196474969,0.088354803621769,0.017408037558198,0.021291550248861,-0.033870659768581));
res += mul(Get(s2,0,-dy), float4x4(0.021081492304802,-0.062756970524788,0.043169289827347,0.002520936075598,0.032775308936834,0.039016135036945,-0.000486488715978,-0.054031666368246,-0.017249662429094,-0.032626632601023,0.054702747613192,-0.191226944327354,-0.005763512104750,0.058697514235973,-0.007978797890246,0.071015894412994));
res += mul(Get(s2,0,0), float4x4(-0.095349520444870,-0.015135180205107,-0.014864479191601,-0.088201776146889,-0.061127588152885,-0.049386281520128,0.023290267214179,0.002638417528942,0.187569379806519,-0.044732637703419,0.022708740085363,0.047135509550571,-0.059807471930981,0.095503859221935,0.021440116688609,0.071596175432205));
res += mul(Get(s2,0,dy), float4x4(-0.031263459473848,0.118747495114803,-0.004921157378703,-0.060313127934933,-0.027999198064208,-0.067232012748718,0.010546120814979,0.009193371981382,0.004884815774858,-0.025553071871400,-0.019103188067675,0.068967491388321,-0.029400238767266,0.059360098093748,0.070253238081932,-0.015641389414668));
res += mul(Get(s2,dx,-dy), float4x4(0.036803428083658,-0.145455777645111,-0.014136590063572,-0.063641682267189,-0.081087775528431,0.028904426842928,-0.089120231568813,-0.067604146897793,0.065867312252522,0.087262324988842,0.015153639949858,0.076415948569775,0.117821112275124,-0.004594660364091,0.020521158352494,0.052556090056896));
res += mul(Get(s2,dx,0), float4x4(-0.048838939517736,0.017513435333967,0.038595367223024,-0.125841647386551,-0.058063231408596,-0.152356788516045,0.005912886001170,0.058810081332922,0.102111034095287,-0.072708532214165,-0.121328286826611,-0.050928603857756,0.056260842829943,0.107581526041031,0.036894820630550,0.008318150416017));
res += mul(Get(s2,dx,dy), float4x4(0.009067028760910,-0.017077814787626,0.014888947829604,0.044820908457041,-0.085783421993256,0.057343415915966,0.007473034318537,0.057355150580406,0.005864687729627,0.027904054149985,-0.062487293034792,-0.017328491434455,0.004578258376569,0.033664751797915,-0.016332184895873,-0.021468725055456));
res += mul(Get(s3,-dx,-dy), float4x4(0.034407880157232,-0.058786522597075,-0.113362021744251,0.000189657643205,0.054060332477093,0.035080760717392,0.018670659512281,-0.054359685629606,0.086490616202354,0.034013528376818,-0.011521662585437,-0.013870310969651,0.084940217435360,-0.164502009749413,-0.000531623954885,-0.031647462397814));
res += mul(Get(s3,-dx,0), float4x4(-0.020656760782003,-0.030350234359503,-0.092940583825111,-0.049526788294315,0.007752250880003,-0.001628780388273,0.023939147591591,0.074974872171879,0.080033496022224,0.013273456133902,0.001675329171121,-0.038197711110115,0.006529706530273,-0.080095909535885,0.120271347463131,-0.042073290795088));
res += mul(Get(s3,-dx,dy), float4x4(0.126117229461670,0.110273070633411,-0.046887785196304,0.047686681151390,-0.054700795561075,0.070118680596352,0.026268579065800,-0.134109765291214,0.031253363937140,0.034894172102213,-0.009935844689608,-0.056718315929174,0.093556337058544,-0.045904859900475,0.054089352488518,-0.028960183262825));
res += mul(Get(s3,0,-dy), float4x4(0.052206892520189,-0.125196248292923,-0.139615640044212,-0.004202228039503,0.083321787416935,0.168074175715446,0.037603080272675,0.029225442558527,-0.021999852731824,0.160099640488625,-0.040422510355711,-0.027502927929163,-0.033783983439207,-0.046070754528046,0.162838652729988,-0.053688298910856));
res += mul(Get(s3,0,0), float4x4(0.036303564906120,-0.028061140328646,-0.093803249299526,-0.000737106194720,-0.121115289628506,-0.023190667852759,-0.082048930227757,-0.034839153289795,0.046272967010736,0.120186664164066,-0.032066456973553,-0.063190288841724,0.128349334001541,-0.031662698835135,0.020086087286472,0.026326235383749));
res += mul(Get(s3,0,dy), float4x4(0.060595180839300,0.135629817843437,0.068264044821262,0.014095951803029,-0.138205349445343,-0.060992732644081,-0.022472003474832,-0.066764444112778,-0.003251581918448,0.150975912809372,-0.018790101632476,-0.026327511295676,-0.046327590942383,-0.022139299660921,-0.140492737293243,-0.068535700440407));
res += mul(Get(s3,dx,-dy), float4x4(0.125380203127861,-0.015048194676638,-0.125843361020088,0.077789761126041,0.041055075824261,0.086906366050243,0.034970492124557,0.004744725301862,-0.035020168870687,0.002931841183454,0.001193893491291,0.053108453750610,0.033924780786037,-0.108714535832405,0.199556082487106,-0.073799937963486));
res += mul(Get(s3,dx,0), float4x4(0.016253909096122,0.274098247289658,-0.010829411447048,0.068717032670975,-0.084050901234150,-0.076195091009140,-0.080314569175243,0.053160976618528,-0.007319435477257,0.055631842464209,0.041508652269840,0.110031239688396,0.071106866002083,-0.043564446270466,0.040131345391273,-0.035354167222977));
res += mul(Get(s3,dx,dy), float4x4(0.124578088521957,0.113971054553986,-0.114013276994228,0.059755839407444,-0.110982932150364,-0.029582813382149,-0.031711384654045,0.004761738702655,-0.000943084305618,-0.014877374283969,0.082621835172176,0.024266978725791,0.009516001679003,0.003680585650727,0.098555296659470,0.024336306378245));
return max(float4(0,0,0,0), res);
}
