sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.163972616195679,0.059223752468824,-0.135416924953461,0.055945154279470,0.048752937465906,-0.047746621072292,0.080623783171177,-0.002344728447497,-0.058507818728685,-0.041087161749601,0.090391509234905,0.029174998402596,-0.029801400378346,-0.000753689440899,-0.045574247837067,-0.014155546203256));
res += mul(Get(s0,-dx,0), float4x4(0.053281091153622,0.062154754996300,-0.054797284305096,-0.038111511617899,-0.077193878591061,-0.075320035219193,-0.036903247237206,0.024441899731755,0.038863588124514,-0.070307061076164,-0.047308426350355,0.055943906307220,0.102493599057198,0.036061115562916,0.039502069354057,-0.028331546112895));
res += mul(Get(s0,-dx,dy), float4x4(-0.193742677569389,0.018718421459198,-0.127275958657265,-0.014553909189999,0.050952199846506,-0.015385933220387,0.028512412682176,0.052978981286287,0.052577365189791,-0.007374931126833,0.059665966778994,0.016512578353286,-0.158972173929214,-0.020804299041629,0.373273134231567,-0.037760682404041));
res += mul(Get(s0,0,-dy), float4x4(0.084268689155579,-0.069457031786442,-0.035761553794146,-0.009699423797429,0.110198408365250,-0.004878423176706,0.038289468735456,0.065518490970135,0.091667115688324,0.270211070775986,0.035724259912968,0.043169502168894,-0.018299309536815,-0.076490864157677,-0.119156055152416,-0.079350046813488));
res += mul(Get(s0,0,0), float4x4(-0.039949025958776,-0.012882621958852,0.119650050997734,0.007426247000694,-0.034603696316481,-0.013325782492757,-0.036574400961399,-0.210453137755394,0.116494022309780,0.197491601109505,-0.118508361279964,0.120336256921291,0.069963224232197,0.060925114899874,-0.038934949785471,0.036995209753513));
res += mul(Get(s0,0,dy), float4x4(-0.175725102424622,0.066651165485382,0.020877553150058,0.015724854543805,0.135890454053879,-0.082650005817413,-0.025248959660530,-0.018310168758035,0.149914205074310,0.043857950717211,-0.036406751722097,0.060042541474104,-0.085294514894485,-0.060470998287201,0.257640570402145,0.043745484203100));
res += mul(Get(s0,dx,-dy), float4x4(0.120525874197483,-0.100796662271023,0.035106770694256,0.002650925191119,0.178443878889084,-0.025215364992619,-0.050247557461262,0.067801915109158,0.049975175410509,-0.048141617327929,-0.002093388931826,-0.001677180407569,0.004000088199973,-0.047250390052795,-0.164035722613335,-0.089148022234440));
res += mul(Get(s0,dx,0), float4x4(0.011493381112814,-0.057682394981384,0.044833764433861,-0.054584152996540,0.155032545328140,-0.055165406316519,0.000557550636586,0.088892832398415,0.082944169640541,-0.017779747024179,-0.058475859463215,0.044815827161074,0.067703358829021,-0.053204268217087,-0.037985276430845,-0.067019559442997));
res += mul(Get(s0,dx,dy), float4x4(-0.015319195576012,-0.026911318302155,0.013257401064038,-0.034021869301796,-0.113783344626427,-0.048069160431623,0.125553190708160,-0.085546307265759,0.093675225973129,-0.030851680785418,-0.027437554672360,-0.019864149391651,-0.020321223884821,-0.008000715635717,0.011191450990736,0.024680994451046));
res += mul(Get(s1,-dx,-dy), float4x4(-0.079567223787308,-0.121403641998768,0.187697112560272,-0.145665720105171,0.049622289836407,0.048903796821833,0.048594228923321,-0.084617137908936,-0.032071817666292,-0.016202762722969,0.056789856404066,-0.058165155351162,-0.014279548078775,0.069573476910591,-0.056843198835850,-0.003311801236123));
res += mul(Get(s1,-dx,0), float4x4(-0.008079173043370,-0.036585986614227,0.102998815476894,-0.086846321821213,-0.047435317188501,-0.027950206771493,-0.030833790078759,-0.054046981036663,-0.025024525821209,-0.001119858236052,0.047457683831453,-0.014051167294383,-0.016813237220049,0.006578726693988,-0.152169749140739,-0.007011430338025));
res += mul(Get(s1,-dx,dy), float4x4(0.005210947245359,-0.034026503562927,0.102650173008442,0.093160860240459,-0.122402489185333,-0.118673101067543,0.023332586511970,-0.066320769488811,0.193485841155052,0.019225401803851,0.011821907013655,-0.061070300638676,0.058095544576645,0.030438547953963,-0.073910683393478,-0.054520368576050));
res += mul(Get(s1,0,-dy), float4x4(-0.035935144871473,-0.052250906825066,-0.072395093739033,-0.100159034132957,0.005812736693770,0.034042865037918,0.064866505563259,-0.033370494842529,-0.104534395039082,-0.075398094952106,0.104674741625786,-0.010258788242936,0.000354868330760,-0.070042558014393,0.139117211103439,0.138421192765236));
res += mul(Get(s1,0,0), float4x4(0.132044225931168,-0.035398960113525,-0.164864733815193,-0.087135292589664,-0.116306290030479,-0.027347166091204,-0.035068199038506,-0.074700713157654,-0.006280843634158,-0.012288253754377,0.039497505873442,-0.072148464620113,-0.110780365765095,0.023289080709219,0.018330343067646,0.043907836079597));
res += mul(Get(s1,0,dy), float4x4(-0.081115677952766,-0.040150899440050,-0.101100631058216,-0.031635746359825,-0.119217805564404,0.050433069467545,-0.040264081209898,-0.069631852209568,0.104306273162365,0.062274880707264,-0.049580901861191,-0.093191139400005,0.036562148481607,0.068822570145130,-0.027148168534040,0.055891837924719));
res += mul(Get(s1,dx,-dy), float4x4(-0.060096371918917,-0.054169293493032,-0.075683727860451,-0.005202384199947,0.001741361105815,-0.062581807374954,0.041524291038513,0.010792100802064,-0.005521808750927,0.006733152549714,-0.003243835642934,0.025358470156789,-0.088972769677639,0.040809292346239,0.121076010167599,-0.081375837326050));
res += mul(Get(s1,dx,0), float4x4(-0.022798858582973,-0.098010905086994,-0.099933184683323,-0.063601657748222,0.039466414600611,-0.027501311153173,0.031404927372932,-0.004435906652361,0.120674639940262,-0.016737699508667,-0.024826269596815,-0.023955980315804,-0.003866749582812,0.118059590458870,-0.034175410866737,0.029377048835158));
res += mul(Get(s1,dx,dy), float4x4(-0.060546565800905,-0.132529780268669,0.038636088371277,-0.087263204157352,0.013468835502863,0.003302402561530,0.094901442527771,0.046964325010777,0.034847013652325,-0.030848493799567,0.021086502820253,-0.008990560658276,0.028519984334707,0.017148241400719,-0.048283662647009,0.090530216693878));
res += mul(Get(s2,-dx,-dy), float4x4(-0.115565225481987,-0.076931692659855,0.159718364477158,0.030409943312407,-0.041620235890150,-0.026524422690272,0.069692939519882,-0.095819070935249,-0.056858338415623,-0.001066583790816,0.031895231455564,0.130960464477539,0.078904554247856,0.015460390597582,-0.039418693631887,0.029190605506301));
res += mul(Get(s2,-dx,0), float4x4(-0.039234794676304,-0.088648743927479,0.019334208220243,-0.069334089756012,-0.036164235323668,-0.082849405705929,-0.045126806944609,-0.040439981967211,-0.026096513494849,0.020668132230639,0.040452577173710,0.143834710121155,0.118141666054726,0.055040571838617,0.062765024602413,0.107361271977425));
res += mul(Get(s2,-dx,dy), float4x4(-0.016001304611564,-0.014262981712818,-0.057989131659269,-0.056199103593826,0.010081263259053,-0.011560088023543,-0.203169047832489,0.005403300281614,0.056131612509489,0.049085319042206,0.090769253671169,0.150674656033516,-0.101798839867115,-0.096616141498089,-0.005211329553276,0.005037682596594));
res += mul(Get(s2,0,-dy), float4x4(-0.089624829590321,0.056021492928267,0.022339543327689,0.045705452561378,-0.046022623777390,0.005409081932157,0.128365069627762,-0.069853797554970,0.036756832152605,-0.049507167190313,0.019870590418577,-0.049337521195412,-0.016407942399383,-0.075964421033859,-0.105884328484535,-0.020793067291379));
res += mul(Get(s2,0,0), float4x4(0.019374854862690,0.085242338478565,-0.191320121288300,0.051361098885536,-0.010392003692687,-0.039991155266762,-0.026527641341090,0.043664526194334,-0.143065422773361,-0.124628253281116,0.044828817248344,-0.032763089984655,0.064243920147419,-0.041315618902445,0.023563640192151,0.174352347850800));
res += mul(Get(s2,0,dy), float4x4(-0.048416830599308,0.060857959091663,-0.146843373775482,0.083149738609791,0.083865709602833,0.041322190314531,-0.161322310566902,-0.004894807003438,0.085013665258884,0.047511748969555,0.125725865364075,0.063661292195320,0.136819168925285,0.067882351577282,0.035298634320498,0.123563580214977));
res += mul(Get(s2,dx,-dy), float4x4(-0.042812000960112,-0.083821050822735,0.129857212305069,-0.105384372174740,0.055546522140503,-0.097673863172531,0.211862295866013,0.073550827801228,-0.032806202769279,-0.021701220422983,-0.011172096244991,0.062571726739407,0.073241069912910,-0.047145187854767,0.058825340121984,0.154295235872269));
res += mul(Get(s2,dx,0), float4x4(0.043670266866684,-0.074807740747929,0.037983901798725,0.067539818584919,0.023647623136640,-0.059927623718977,0.066291801631451,0.014251562766731,-0.084880277514458,-0.010177721269429,-0.115114822983742,0.063264764845371,-0.024745624512434,-0.065725140273571,-0.079055115580559,0.077250026166439));
res += mul(Get(s2,dx,dy), float4x4(-0.011140935122967,-0.026875125244260,0.078747794032097,0.061744906008244,-0.061901409178972,-0.078992843627930,-0.035729113966227,0.010051865130663,-0.053967881947756,-0.029714977368712,-0.046726308763027,-0.169711396098137,0.108939282596111,0.002266676630825,-0.068268939852715,0.107977412641048));
res += mul(Get(s3,-dx,-dy), float4x4(0.035664737224579,-0.033393282443285,0.083497390151024,0.015391096472740,-0.080740272998810,0.021373869851232,0.103742197155952,-0.048615701496601,-0.012689518742263,-0.041836235672235,0.028908079490066,0.015752255916595,-0.147854074835777,0.016760215163231,-0.112978428602219,-0.091983295977116));
res += mul(Get(s3,-dx,0), float4x4(0.015518024563789,-0.018923321738839,-0.029400365427136,0.035468220710754,-0.044020142406225,0.008464909158647,-0.141041412949562,-0.036662269383669,0.046427752822638,-0.009359782561660,-0.062885977327824,-0.018524598330259,-0.105260230600834,0.073010377585888,0.032181091606617,0.004225697368383));
res += mul(Get(s3,-dx,dy), float4x4(-0.023751439526677,-0.056677147746086,0.020616201683879,0.006097079254687,0.049559585750103,-0.002305153058842,0.033580623567104,-0.009153830818832,0.149632990360260,0.027261396870017,-0.035213809460402,-0.051224090158939,-0.011840199120343,-0.011612391099334,-0.117420881986618,0.029807457700372));
res += mul(Get(s3,0,-dy), float4x4(0.121210701763630,0.048394571989775,0.060678854584694,0.184788376092911,-0.115449346601963,-0.046295620501041,0.042280115187168,-0.053796261548996,-0.021966114640236,-0.040995202958584,0.054299946874380,-0.039963845163584,0.067637018859386,0.046983320266008,0.016870371997356,0.126550421118736));
res += mul(Get(s3,0,0), float4x4(-0.000815460050944,0.155263528227806,0.008624891750515,0.124907590448856,0.013514111749828,-0.035790290683508,-0.185906156897545,-0.061321884393692,0.018598284572363,-0.021554846316576,-0.007186762988567,-0.063513718545437,0.004216151311994,0.061483912169933,0.125149086117744,0.093642450869083));
res += mul(Get(s3,0,dy), float4x4(0.048259224742651,0.089058004319668,0.058883167803288,0.032060757279396,-0.009113498032093,0.069463483989239,-0.025342362001538,-0.054054085165262,0.103581786155701,0.012794986367226,-0.025885483250022,-0.018308494240046,-0.044747903943062,-0.046596344560385,-0.059662308543921,-0.044922441244125));
res += mul(Get(s3,dx,-dy), float4x4(-0.007496708072722,-0.003292846027762,0.058193944394588,0.056325756013393,-0.076589353382587,-0.074581451714039,0.139477089047432,-0.074554935097694,0.017568077892065,-0.023765789344907,0.079893708229065,0.027712563052773,-0.169086545705795,-0.120134562253952,-0.036250475794077,-0.044320352375507));
res += mul(Get(s3,dx,0), float4x4(-0.056902050971985,0.067524790763855,-0.046784657984972,0.141442045569420,-0.046167381107807,-0.052951417863369,-0.032703001052141,-0.068049214780331,0.085948050022125,-0.059203032404184,-0.058702170848846,-0.051841404289007,-0.076464302837849,0.043621107935905,-0.004159016534686,-0.039447676390409));
res += mul(Get(s3,dx,dy), float4x4(0.033537592738867,0.003424518043175,0.022730696946383,0.040310151875019,-0.036681704223156,-0.056610755622387,0.089096538722515,-0.014720477163792,0.189885601401329,-0.069548793137074,0.012218707241118,-0.065752848982811,-0.001336863497272,-0.009444853290915,-0.211671948432922,-0.019372629001737));
return max(float4(0,0,0,0), res);
}
