sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.061800278723240,0.059929847717285,0.075985245406628,0.052789766341448,0.027872852981091,0.046144645661116,0.071243658661842,-0.147319361567497,-0.031828638166189,-0.089862801134586,-0.035192959010601,0.044461142271757,0.056677665561438,0.027632230892777,-0.143426448106766,0.065873697400093));
res += mul(Get(s0,-dx,0), float4x4(0.125489085912704,-0.149975478649139,0.179017379879951,-0.084377624094486,-0.118453539907932,-0.019963013008237,0.150057807564735,-0.058078311383724,0.046515300869942,-0.072356656193733,-0.117320418357849,0.145926669239998,0.108508713543415,0.024443617090583,-0.205044507980347,0.135995402932167));
res += mul(Get(s0,-dx,dy), float4x4(-0.069093197584152,0.035265620797873,-0.009724941104650,-0.083065904676914,-0.093898728489876,-0.023111509159207,0.059766460210085,0.086190782487392,0.116385050117970,0.021913301199675,0.182079508900642,0.032766051590443,0.113643646240234,0.074779085814953,0.022248111665249,-0.092156186699867));
res += mul(Get(s0,0,-dy), float4x4(0.092203535139561,0.067087493836880,-0.007586971856654,0.027740569785237,0.053329419344664,-0.038705691695213,-0.012925799936056,0.045694373548031,0.195549741387367,-0.046759773045778,0.055329080671072,0.087032116949558,0.034167557954788,-0.044037915766239,-0.161158114671707,0.018791034817696));
res += mul(Get(s0,0,0), float4x4(-0.019850157201290,0.055860981345177,-0.080905273556709,0.041616290807724,-0.015818754211068,-0.091616034507751,0.148951351642609,-0.105792753398418,-0.071763806045055,0.128777027130127,-0.000194943670067,0.057632204145193,0.129319265484810,-0.101378269493580,-0.085649453103542,0.013057627715170));
res += mul(Get(s0,0,dy), float4x4(-0.094705887138844,0.029252152889967,-0.046964578330517,0.215965926647186,-0.236347302794456,0.090025715529919,-0.224284425377846,0.030239176005125,-0.007511142641306,0.036153227090836,0.130431070923805,-0.040327582508326,0.012099699117243,-0.064247384667397,0.115141116082668,0.036081034690142));
res += mul(Get(s0,dx,-dy), float4x4(0.048685643821955,-0.019367258995771,0.014855413697660,-0.011122574098408,0.194751664996147,-0.079596556723118,-0.057434748858213,-0.043432466685772,0.111386828124523,-0.141056135296822,0.021885188296437,-0.126481607556343,0.111096203327179,-0.030560456216335,0.076212458312511,-0.033564962446690));
res += mul(Get(s0,dx,0), float4x4(0.059812296181917,0.086214520037174,0.148621469736099,-0.112229712307453,0.068130195140839,-0.059520319104195,-0.050523336976767,-0.025031642988324,0.013193742372096,0.109362013638020,0.023718507960439,0.053684152662754,0.000892058305908,-0.073795437812805,-0.103684313595295,-0.103096708655357));
res += mul(Get(s0,dx,dy), float4x4(-0.046799156814814,-0.046266123652458,-0.028317762538791,0.119641527533531,0.061919253319502,-0.144905000925064,0.019196996465325,-0.016137463971972,-0.125479742884636,-0.146043017506599,-0.077094249427319,0.078304938971996,0.099250346422195,-0.020969428122044,0.014929251745343,-0.127845942974091));
res += mul(Get(s1,-dx,-dy), float4x4(0.034845270216465,-0.228399008512497,0.124003782868385,-0.120200954377651,-0.068684831261635,-0.071224473416805,-0.108572483062744,-0.086183801293373,-0.266137689352036,-0.128384187817574,-0.025217929854989,0.026100944727659,-0.081000402569771,0.081542044878006,-0.100731194019318,-0.068651638925076));
res += mul(Get(s1,-dx,0), float4x4(-0.042852398008108,-0.009668365120888,0.057197019457817,0.161891043186188,0.003657657653093,0.041237331926823,0.142944574356079,0.056776840239763,0.132419019937515,0.004811000544578,0.004048618953675,0.068494081497192,0.046114366501570,-0.055121641606092,0.037449050694704,-0.124968588352203));
res += mul(Get(s1,-dx,dy), float4x4(0.166060239076614,-0.110318675637245,0.148451611399651,0.053723350167274,-0.156296655535698,-0.041642624884844,0.133278831839561,0.006470706779510,0.088560760021210,0.143942534923553,-0.097671411931515,0.032072704285383,0.125634700059891,-0.011513053439558,-0.206590220332146,-0.145386800169945));
res += mul(Get(s1,0,-dy), float4x4(-0.052387718111277,-0.003594537964091,-0.247403055429459,0.106914624571800,-0.100633323192596,-0.012272338382900,-0.016573965549469,0.064240314066410,0.101486057043076,-0.151496052742004,0.047497838735580,-0.177662372589111,0.067986436188221,-0.071079783141613,0.076836548745632,-0.188577950000763));
res += mul(Get(s1,0,0), float4x4(0.063672840595245,-0.128227949142456,-0.021254669874907,0.030950022861362,-0.031561166048050,0.132998019456863,-0.123047105967999,-0.001149634248577,0.092143945395947,-0.015743670985103,0.083836600184441,-0.156888008117676,0.066979125142097,-0.070227488875389,0.074676729738712,-0.034978307783604));
res += mul(Get(s1,0,dy), float4x4(-0.016484130173922,-0.049107305705547,0.189834341406822,-0.078117705881596,0.032372161746025,-0.047376334667206,-0.053830977529287,-0.082665480673313,0.104722909629345,0.101351000368595,-0.021810626611114,-0.118760347366333,-0.114857599139214,-0.057155225425959,0.152221456170082,0.164087668061256));
res += mul(Get(s1,dx,-dy), float4x4(-0.020903397351503,0.027618505060673,-0.150972396135330,0.116913996636868,0.087442018091679,-0.038008965551853,-0.171051859855652,-0.023285431787372,-0.052954617887735,0.204022735357285,-0.024604961276054,0.065939046442509,-0.093687772750854,0.002379036042839,-0.112782657146454,0.092594541609287));
res += mul(Get(s1,dx,0), float4x4(0.082329802215099,0.060233809053898,-0.171446859836578,-0.192855730652809,0.202583402395248,0.115615338087082,-0.154940202832222,-0.064143300056458,-0.017418228089809,-0.061397988349199,-0.030170060694218,0.187843084335327,0.103408500552177,-0.043821427971125,-0.071004308760166,0.242378875613213));
res += mul(Get(s1,dx,dy), float4x4(0.082577928900719,-0.140824958682060,-0.128755137324333,0.096777752041817,-0.069102890789509,-0.117955155670643,0.084137216210365,-0.061161994934082,0.009575688280165,-0.016906417906284,0.006673699710518,0.058124329894781,-0.069506675004959,0.014579473063350,0.173871621489525,0.314238548278809));
res += mul(Get(s2,-dx,-dy), float4x4(-0.114679343998432,-0.009304805658758,0.112437449395657,0.065211273729801,-0.172851219773293,-0.041376817971468,0.008535243570805,-0.011072709225118,0.096614904701710,0.135071277618408,-0.050183910876513,-0.052858389914036,0.005224802065641,-0.003464458743110,0.078801885247231,0.022905694320798));
res += mul(Get(s2,-dx,0), float4x4(-0.125419214367867,-0.021612493321300,-0.086400672793388,-0.117230944335461,0.033009205013514,-0.118792556226254,-0.094336569309235,-0.080974809825420,-0.024635031819344,-0.034612715244293,0.169440895318985,0.083947695791721,0.105228804051876,-0.059645000845194,0.380987763404846,0.001242850208655));
res += mul(Get(s2,-dx,dy), float4x4(0.057899627834558,-0.051161304116249,-0.046326607465744,-0.167884379625320,0.110825151205063,0.140843629837036,0.024549802765250,-0.083721257746220,-0.129287526011467,0.159636065363884,0.058485724031925,-0.012983357533813,-0.108066834509373,0.110365442931652,0.142979413270950,0.046703144907951));
res += mul(Get(s2,0,-dy), float4x4(-0.121079333126545,0.163127601146698,-0.112908005714417,0.175130680203438,0.102643199265003,0.150336205959320,0.108185105025768,-0.147076234221458,-0.104200541973114,0.179612547159195,0.039960257709026,-0.005413155537099,0.036645572632551,0.009152285754681,0.053121738135815,0.017524173483253));
res += mul(Get(s2,0,0), float4x4(0.130552113056183,-0.165946409106255,-0.223855197429657,0.090266942977905,-0.040194012224674,-0.038520302623510,0.045621674507856,-0.131172493100166,0.044491048902273,0.068355768918991,-0.140100672841072,0.167427390813828,-0.091235674917698,0.098909966647625,0.060825139284134,0.139457643032074));
res += mul(Get(s2,0,dy), float4x4(0.004678935278207,-0.004955251235515,-0.067970544099808,0.072783149778843,-0.017248164862394,0.019316963851452,0.066406883299351,-0.098162367939949,0.083197012543678,0.000916477350984,0.086777068674564,0.079680532217026,-0.104690328240395,0.034225970506668,-0.040758442133665,0.026530148461461));
res += mul(Get(s2,dx,-dy), float4x4(-0.050042103976011,0.064296595752239,0.230532154440880,0.125332400202751,-0.006840570829809,-0.082611009478569,0.012318169698119,-0.168662905693054,0.083758279681206,0.051841340959072,-0.034742500633001,0.127868309617043,0.054637867957354,0.003906243247911,-0.074974626302719,0.035033266991377));
res += mul(Get(s2,dx,0), float4x4(0.024644549936056,0.022318094968796,0.022509040310979,0.057036761194468,-0.051549676805735,0.009011341258883,-0.143076673150063,0.055415976792574,0.094278112053871,-0.051349673420191,-0.017887119203806,0.041981931775808,0.018402840942144,-0.284290641546249,0.075663812458515,-0.086387835443020));
res += mul(Get(s2,dx,dy), float4x4(0.100464381277561,-0.117665328085423,-0.055500533431768,0.136064782738686,0.075422763824463,-0.089452095329762,-0.033179320394993,-0.091504201292992,-0.164784178137779,-0.182419359683990,-0.091766662895679,-0.126958444714546,0.190713629126549,-0.157243281602859,0.048398006707430,0.100812405347824));
res += mul(Get(s3,-dx,-dy), float4x4(0.023115672171116,0.034086659550667,-0.173779189586639,-0.109411559998989,-0.054614011198282,-0.046369723975658,-0.008847505785525,-0.189190492033958,0.080147318542004,0.042578760534525,0.111658148467541,-0.162670910358429,0.002298675710335,-0.105181440711021,0.007254447322339,0.045876514166594));
res += mul(Get(s3,-dx,0), float4x4(-0.028283400461078,0.140245407819748,-0.002097152639180,-0.093877710402012,0.080861948430538,-0.232037007808685,0.032661572098732,-0.033865612000227,-0.052081625908613,-0.042149484157562,-0.072804592549801,-0.129038095474243,-0.059268929064274,0.030179822817445,0.018692638725042,0.125563144683838));
res += mul(Get(s3,-dx,dy), float4x4(-0.089312307536602,0.053101453930140,-0.158386662602425,-0.103712812066078,-0.028829824179411,-0.290420293807983,0.186448559165001,0.086090423166752,0.037729863077402,-0.073805078864098,-0.052339918911457,-0.215691611170769,0.015806080773473,-0.075936622917652,0.034961070865393,-0.097470782697201));
res += mul(Get(s3,0,-dy), float4x4(0.036848716437817,0.075532384216785,0.077655211091042,-0.192604035139084,-0.132380291819572,0.000122783181723,-0.287861317396164,-0.244303762912750,-0.109437108039856,0.074130825698376,0.019043633714318,-0.152632415294647,0.175642982125282,-0.045324277132750,-0.064743071794510,0.027040489017963));
res += mul(Get(s3,0,0), float4x4(0.023595998063684,-0.068264789879322,0.025981018319726,0.092138238251209,-0.061355244368315,-0.122354269027710,-0.128221794962883,-0.057380020618439,0.024257645010948,0.134100750088692,-0.047946419566870,0.097081333398819,0.190449431538582,0.147126659750938,-0.000899119710084,-0.019043916836381));
res += mul(Get(s3,0,dy), float4x4(0.103899329900742,0.010689258575439,0.104712449014187,0.022208521142602,0.087741158902645,0.158570900559425,-0.054586026817560,-0.032827120274305,0.071713872253895,-0.040694963186979,-0.096844412386417,-0.110524170100689,0.163434147834778,-0.220105588436127,-0.015210236422718,-0.022178277373314));
res += mul(Get(s3,dx,-dy), float4x4(0.172538787126541,0.002720699645579,-0.016679430380464,0.092435248196125,0.082811750471592,-0.059130858629942,0.079476758837700,-0.173769995570183,0.027220165356994,-0.050906561315060,0.084087215363979,0.112281449139118,-0.021871179342270,0.121524035930634,-0.082760334014893,0.114520266652107));
res += mul(Get(s3,dx,0), float4x4(0.043248061090708,0.035857971757650,0.125590860843658,0.032029539346695,0.031984355300665,-0.019102882593870,0.095507755875587,0.133360877633095,0.092494197189808,-0.067637547850609,-0.052831660956144,-0.065111748874187,-0.077825136482716,-0.016362430527806,-0.112551741302013,0.083293609321117));
res += mul(Get(s3,dx,dy), float4x4(0.098145529627800,0.000549333170056,0.038280699402094,0.030478872358799,-0.080972500145435,-0.090370647609234,-0.215650022029877,-0.136348396539688,0.100453846156597,0.150183275341988,0.055498249828815,0.087138295173645,0.004202987067401,-0.157198235392570,0.046307757496834,0.025428811088204));
return max(float4(0,0,0,0), res);
}
