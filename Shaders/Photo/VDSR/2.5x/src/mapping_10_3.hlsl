sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.107455790042877,-0.036655124276876,0.060771089047194,-0.056196250021458,-0.106800355017185,0.093720816075802,0.006819955073297,-0.125475585460663,0.060140166431665,-0.142813250422478,0.016352398321033,0.010744788683951,0.012988737784326,0.110862657427788,0.055852662771940,-0.095007359981537));
res += mul(Get(s0,-dx,0), float4x4(-0.096483804285526,0.015220668166876,0.074488796293736,0.130878672003746,-0.091119840741158,-0.033427879214287,-0.031606946140528,-0.015791911631823,-0.018419412896037,-0.111165791749954,-0.167921140789986,0.086297579109669,-0.056065510958433,0.040551673620939,-0.006645838730037,-0.052494287490845));
res += mul(Get(s0,-dx,dy), float4x4(0.093417905271053,-0.055386438965797,-0.073434904217720,0.062550179660320,-0.129589125514030,0.031897526234388,-0.039138175547123,0.054459411650896,0.086179070174694,-0.025441113859415,0.089699573814869,-0.022815346717834,0.078918695449829,0.079184427857399,-0.138809159398079,0.012138081714511));
res += mul(Get(s0,0,-dy), float4x4(-0.023847585543990,0.101436339318752,-0.052620224654675,-0.149226471781731,-0.106397151947021,0.041456453502178,0.082068488001823,-0.028917167335749,0.038826361298561,-0.056320145726204,0.072449661791325,-0.005529017187655,-0.062220823019743,-0.000509385485202,0.005621822550893,-0.044346198439598));
res += mul(Get(s0,0,0), float4x4(-0.116998054087162,0.034493930637836,-0.052395213395357,-0.089220054447651,-0.073734328150749,-0.019228745251894,0.052309822291136,0.026473097503185,-0.053586423397064,-0.038653574883938,-0.003585075028241,-0.049447808414698,-0.100798040628433,-0.069377854466438,-0.075560078024864,0.013826850801706));
res += mul(Get(s0,0,dy), float4x4(0.009838092140853,-0.010759576223791,0.041091501712799,0.103215046226978,-0.059106126427650,-0.011164430528879,-0.051916118711233,-0.097075201570988,-0.075799867510796,0.062345791608095,0.037356898188591,0.079804889857769,0.030179612338543,0.005294491536915,-0.043221119791269,0.074186265468597));
res += mul(Get(s0,dx,-dy), float4x4(-0.042118076235056,0.164428830146790,-0.053803011775017,-0.091383166611195,-0.113358825445175,-0.078664295375347,-0.023416465148330,0.175103992223740,0.016303950920701,-0.088482342660427,0.061108738183975,0.056496862322092,-0.088025592267513,0.004181278403848,0.055371765047312,-0.054151464253664));
res += mul(Get(s0,dx,0), float4x4(0.040980104357004,-0.034737318754196,-0.117210313677788,0.041493803262711,0.132103770971298,0.018328089267015,-0.043389696627855,0.051623668521643,-0.005817145109177,-0.035086549818516,-0.066565677523613,-0.058903258293867,-0.053866285830736,0.000139211450005,0.073269560933113,-0.001540451776236));
res += mul(Get(s0,dx,dy), float4x4(-0.024564029648900,-0.132237583398819,-0.030163202434778,0.041047740727663,-0.001034070039168,0.017878316342831,-0.005717372056097,0.016431609168649,-0.060345578938723,0.144142329692841,-0.095403485000134,-0.024900300428271,0.043082676827908,0.011529440991580,-0.055321518331766,0.069646343588829));
res += mul(Get(s1,-dx,-dy), float4x4(0.056625179946423,0.000010955161997,0.011497613042593,-0.146746009588242,-0.076817460358143,-0.080124303698540,-0.086318694055080,-0.046311680227518,0.043652199208736,0.036884408444166,0.069653637707233,0.010598378255963,-0.068168178200722,-0.089398525655270,-0.096457771956921,0.038228068500757));
res += mul(Get(s1,-dx,0), float4x4(-0.050624027848244,0.100378602743149,-0.026847500354052,-0.070432581007481,-0.056541819125414,-0.019035728648305,-0.027263989672065,0.036918930709362,-0.040191695094109,0.113624393939972,0.088037811219692,0.033975586295128,0.139763996005058,0.065463110804558,0.007694695144892,0.053845558315516));
res += mul(Get(s1,-dx,dy), float4x4(0.080853700637817,0.024986447766423,-0.033564109355211,-0.033001895993948,0.090902574360371,-0.046824134886265,-0.038285363465548,-0.092860162258148,0.099206842482090,0.050629183650017,0.038797140121460,0.079821221530437,-0.057875812053680,0.062093332409859,-0.051983091980219,0.085560627281666));
res += mul(Get(s1,0,-dy), float4x4(0.129017665982246,0.085994273424149,0.003575709648430,-0.114417053759098,-0.112048223614693,-0.081730522215366,0.075680382549763,-0.025219477713108,0.048661086708307,0.056029301136732,0.074038416147232,-0.030378745868802,-0.076478309929371,-0.021735636517406,0.141948550939560,-0.000056423948990));
res += mul(Get(s1,0,0), float4x4(-0.022389642894268,-0.036416359245777,-0.096121691167355,0.048516526818275,0.029654180631042,-0.079144626855850,0.000951300316956,0.050312869250774,-0.178101077675819,-0.032455313950777,-0.016505120322108,0.002587056718767,0.081304788589478,0.054677866399288,0.099644787609577,0.042700618505478));
res += mul(Get(s1,0,dy), float4x4(-0.038434669375420,-0.043129716068506,-0.030340764671564,0.011277026496828,-0.181923568248749,0.052593104541302,-0.121792390942574,-0.001771982060745,-0.054543390870094,-0.024741169065237,-0.026092071086168,0.241361811757088,-0.021122619509697,0.014821206219494,0.065248802304268,0.084621325135231));
res += mul(Get(s1,dx,-dy), float4x4(0.040390212088823,0.021955408155918,0.068507157266140,0.036791928112507,0.029746653512120,-0.123902186751366,0.109703078866005,-0.011422525160015,0.036620967090130,0.074598871171474,-0.100532598793507,0.021619174629450,-0.026119399815798,-0.014624676667154,0.114721141755581,-0.017782226204872));
res += mul(Get(s1,dx,0), float4x4(0.031328234821558,0.192935898900032,0.142483443021774,0.056963417679071,-0.125769123435020,-0.059513691812754,0.189746901392937,-0.016450315713882,-0.068960294127464,0.104024425148964,0.070309422910213,-0.044089324772358,0.131130144000053,-0.049819424748421,0.020699337124825,0.024785265326500));
res += mul(Get(s1,dx,dy), float4x4(-0.084782518446445,-0.188982695341110,0.105630025267601,0.007930280640721,-0.158984422683716,0.041363276541233,-0.040703151375055,-0.019635727629066,-0.060195479542017,-0.048601135611534,0.090539850294590,0.184008866548538,-0.102289743721485,0.063116230070591,0.071357846260071,-0.054006543010473));
res += mul(Get(s2,-dx,-dy), float4x4(-0.058194324374199,-0.077127568423748,-0.114590376615524,0.089719146490097,-0.077737383544445,-0.067169696092606,0.047295548021793,0.053132060915232,-0.070216424763203,0.178495913743973,0.162495508790016,-0.098064221441746,-0.090392835438251,-0.006173468194902,-0.127993553876877,-0.127894461154938));
res += mul(Get(s2,-dx,0), float4x4(-0.077906757593155,-0.023181168362498,-0.039955995976925,0.043861575424671,-0.039349053055048,0.004751991946250,0.035179279744625,0.118620298802853,0.015168174169958,0.125181943178177,0.115791134536266,-0.056712266057730,0.009993586689234,-0.072877869009972,-0.148028627038002,-0.114194452762604));
res += mul(Get(s2,-dx,dy), float4x4(0.078972630202770,0.082673445343971,0.015991875901818,-0.063940234482288,-0.039864260703325,0.005463355686516,-0.051704276353121,0.182707458734512,0.037600677460432,0.044610701501369,-0.017052860930562,-0.017284540459514,-0.052567407488823,0.007469655945897,-0.051359653472900,-0.112094037234783));
res += mul(Get(s2,0,-dy), float4x4(0.013967885635793,-0.082719609141350,-0.030628615990281,0.053360056132078,0.035328052937984,-0.098162025213242,-0.098976545035839,0.059322804212570,0.024622222408652,-0.041028857231140,-0.059362549334764,-0.040893711149693,-0.029879074543715,-0.040575757622719,0.123290412127972,-0.038177959620953));
res += mul(Get(s2,0,0), float4x4(0.019506130367517,0.045435812324286,0.114104010164738,0.097374804317951,0.036444760859013,-0.119804881513119,-0.045515939593315,0.025998150929809,0.021263692528009,-0.108566246926785,-0.051620863378048,0.080750212073326,-0.088041014969349,-0.091613166034222,-0.032353863120079,0.022052317857742));
res += mul(Get(s2,0,dy), float4x4(0.256725162267685,0.231414914131165,-0.042373858392239,0.072070367634296,-0.055916216224432,-0.000716181064490,-0.077419668436050,0.067904181778431,0.091727271676064,-0.086716890335083,-0.044953159987926,0.110526680946350,0.008025922812521,0.011225554160774,0.015228701755404,-0.053828287869692));
res += mul(Get(s2,dx,-dy), float4x4(0.120626255869865,-0.137097060680389,0.034045100212097,-0.129429310560226,0.058574751019478,-0.088874228298664,-0.059230808168650,0.015833396464586,-0.009778860025108,-0.041229847818613,0.012446666136384,-0.072659499943256,-0.128385767340660,-0.114023111760616,0.003870924236253,-0.076656058430672));
res += mul(Get(s2,dx,0), float4x4(-0.007150237914175,0.003725196467713,0.135070532560349,-0.110508061945438,0.109004236757755,-0.025663066655397,0.014579804614186,-0.096331954002380,0.036279652267694,-0.090429618954659,-0.046136654913425,-0.037808734923601,-0.143097788095474,-0.030791576951742,0.025774877518415,-0.047037925571203));
res += mul(Get(s2,dx,dy), float4x4(0.009347704239190,0.066966116428375,-0.056099914014339,-0.008716545999050,-0.081695549190044,-0.062826275825500,-0.110824830830097,0.070721402764320,-0.003452090546489,-0.132325097918510,0.088757507503033,0.049635272473097,-0.011382977478206,0.064879141747952,0.103314541280270,-0.090575158596039));
res += mul(Get(s3,-dx,-dy), float4x4(0.075195997953415,0.043178036808968,-0.076759994029999,0.046636302024126,-0.042475055903196,-0.002705038757995,-0.015563818626106,-0.052173856645823,-0.019519597291946,-0.023664427921176,-0.078760355710983,-0.042034834623337,-0.031823515892029,-0.027964869514108,-0.018834091722965,-0.053543448448181));
res += mul(Get(s3,-dx,0), float4x4(0.006964578293264,-0.037356991320848,-0.132129892706871,-0.027580508962274,-0.004383487161249,-0.063489027321339,-0.018707344308496,-0.003038733964786,-0.017576331272721,-0.050451274961233,-0.112902037799358,0.060778688639402,-0.071666844189167,0.011618767865002,0.048398844897747,0.001659939065576));
res += mul(Get(s3,-dx,dy), float4x4(0.189356327056885,-0.030762635171413,0.040642358362675,-0.161334946751595,0.039371933788061,-0.046357885003090,0.030399208888412,-0.037518128752708,0.092522971332073,-0.048602692782879,-0.043797310441732,-0.046181891113520,-0.011282665655017,-0.043633926659822,0.013097948394716,0.032719716429710));
res += mul(Get(s3,0,-dy), float4x4(-0.021538620814681,0.052264790982008,-0.038552731275558,0.075052820146084,0.096766903996468,-0.083924651145935,-0.076723784208298,0.080468080937862,0.049599893391132,0.012281635776162,0.152944773435593,-0.057926904410124,-0.086353279650211,0.034743368625641,-0.085446201264858,-0.042764544487000));
res += mul(Get(s3,0,0), float4x4(0.016129339113832,-0.008755622431636,-0.047191955149174,-0.001629198668525,0.116147875785828,-0.053946681320667,0.007358768023551,0.025987265631557,-0.026445895433426,0.053440943360329,-0.126954779028893,0.027237286791205,-0.119496062397957,0.097073927521706,0.110034085810184,0.130444258451462));
res += mul(Get(s3,0,dy), float4x4(0.095434948801994,0.064937680959702,-0.018223891034722,-0.044481519609690,0.089814640581608,0.028180984780192,-0.080693423748016,-0.138033866882324,0.150032401084900,-0.082037888467312,-0.009455777704716,0.135444000363350,0.039809275418520,-0.006543614435941,0.012649668380618,0.231375992298126));
res += mul(Get(s3,dx,-dy), float4x4(0.124020859599113,0.078532718122005,-0.072836533188820,0.101920261979103,0.112039104104042,-0.071285210549831,-0.118177652359009,0.014364216476679,-0.021077601239085,-0.082750760018826,-0.137215852737427,-0.052361600100994,-0.074694529175758,0.007065370678902,-0.074774816632271,-0.028226299211383));
res += mul(Get(s3,dx,0), float4x4(-0.000924070132896,-0.028457721695304,0.034631915390491,-0.025437813252211,-0.054089974611998,-0.132248818874359,0.069767981767654,0.127836003899574,-0.041702836751938,-0.165157347917557,0.124098494648933,0.012126169167459,-0.067475810647011,-0.037245485931635,0.088859356939793,-0.002308045513928));
res += mul(Get(s3,dx,dy), float4x4(0.065063245594501,0.131082415580750,0.037441473454237,-0.026630057021976,-0.059772752225399,0.123844981193542,-0.101521968841553,0.096668891608715,0.082048840820789,-0.206548795104027,0.147334724664688,0.146834045648575,0.091797575354576,-0.068415008485317,-0.015618616715074,-0.135392144322395));
return max(float4(0,0,0,0), res);
}
