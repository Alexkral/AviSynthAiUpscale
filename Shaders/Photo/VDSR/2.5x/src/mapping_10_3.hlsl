sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.047111541032791,0.005352376494557,-0.141426920890808,-0.054562456905842,0.051675636321306,-0.140582457184792,0.047953985631466,-0.184923127293587,0.144260615110397,-0.163282826542854,-0.056593503803015,-0.052109729498625,-0.127886906266212,0.133829236030579,0.028361180797219,0.002417702227831));
res += mul(Get(s0,-dx,0), float4x4(-0.068312950432301,0.054648403078318,0.183404311537743,0.030716136097908,0.009315259754658,-0.016199618577957,-0.016407029703259,0.081777758896351,0.012144173495471,0.014701251871884,0.061474751681089,-0.046145226806402,0.118524849414825,-0.015222345478833,0.108211502432823,-0.012771459296346));
res += mul(Get(s0,-dx,dy), float4x4(0.038058917969465,-0.074808716773987,-0.074755184352398,-0.073555864393711,-0.114057660102844,-0.006376851350069,0.015487206168473,-0.010210544802248,-0.160086050629616,-0.051167443394661,0.073010347783566,-0.177539944648743,-0.000121726472571,-0.016548221930861,0.045860871672630,-0.128010526299477));
res += mul(Get(s0,0,-dy), float4x4(-0.050965555012226,0.117496393620968,-0.171714380383492,-0.042809683829546,-0.046760447323322,0.126352041959763,-0.031215038150549,-0.209219828248024,-0.112997457385063,-0.100614920258522,0.128108158707619,0.135636255145073,-0.014491037465632,-0.046859033405781,-0.132601305842400,-0.156554773449898));
res += mul(Get(s0,0,0), float4x4(0.009110971353948,0.034687459468842,-0.076627366244793,-0.068867340683937,-0.040136367082596,0.013529173098505,0.001428486313671,-0.122880525887012,-0.037863686680794,-0.036978837102652,-0.042831458151340,-0.090067900717258,-0.139876395463943,-0.010386335663497,-0.118919596076012,0.116203241050243));
res += mul(Get(s0,0,dy), float4x4(-0.037685781717300,0.131011113524437,0.007134525105357,-0.043155100196600,0.018275937065482,-0.132331088185310,0.041838698089123,-0.149170234799385,0.034053280949593,0.000286274589598,-0.079984247684479,-0.058112226426601,0.070489063858986,0.125102028250694,0.062022339552641,-0.069603495299816));
res += mul(Get(s0,dx,-dy), float4x4(0.013027683831751,0.136079281568527,0.012940092012286,-0.135354682803154,-0.040976945310831,0.115420214831829,0.003853221423924,0.162246823310852,0.072212003171444,0.000666668871418,0.142386257648468,0.035088203847408,0.004333922639489,-0.080017782747746,-0.064035877585411,-0.272525161504745));
res += mul(Get(s0,dx,0), float4x4(0.136578634381294,0.117277659475803,0.102967590093613,-0.066042363643646,0.019011665135622,-0.055930789560080,0.188260674476624,0.034282259643078,0.035191860049963,0.052265193313360,-0.064009048044682,-0.038728643208742,-0.017388427630067,0.011845231987536,0.037835091352463,-0.036837894469500));
res += mul(Get(s0,dx,dy), float4x4(0.144733741879463,0.114826723933220,0.000935078249313,-0.089869372546673,0.118328727781773,-0.056334476917982,0.027156513184309,0.069221623241901,-0.135516658425331,0.253983199596405,-0.010775881819427,0.029853653162718,0.133549138903618,-0.037492226809263,0.080725178122520,-0.069939158856869));
res += mul(Get(s1,-dx,-dy), float4x4(-0.082934990525246,-0.054281134158373,0.083132334053516,-0.041784133762121,-0.124242201447487,-0.068728253245354,0.016948692500591,-0.090675055980682,0.192313164472580,0.026424746960402,-0.235357463359833,-0.009375681169331,-0.121279127895832,0.169160708785057,-0.099784895777702,-0.110262677073479));
res += mul(Get(s1,-dx,0), float4x4(-0.128778100013733,0.106704711914063,0.029943509027362,-0.010043805465102,0.057470865547657,-0.028836790472269,-0.140350908041000,0.000424585537985,0.036753047257662,0.094068154692650,-0.026359850540757,-0.069020681083202,0.120178230106831,-0.039757192134857,0.039328206330538,-0.021839737892151));
res += mul(Get(s1,-dx,dy), float4x4(-0.013656559400260,0.068441145122051,-0.212923511862755,-0.038845013827085,-0.041480775922537,0.009949047118425,-0.040853831917048,0.002399337710813,0.044501423835754,-0.004457371309400,0.049153666943312,-0.005444779526442,-0.048463769257069,0.068621374666691,0.167409613728523,0.034166611731052));
res += mul(Get(s1,0,-dy), float4x4(0.282580733299255,0.013314695097506,0.177917510271072,-0.146202370524406,0.075432561337948,0.135983049869537,0.108298204839230,0.162164553999901,0.079067364335060,0.201730340719223,-0.144276559352875,-0.037149049341679,-0.207912445068359,0.029640935361385,0.168278723955154,0.177046269178391));
res += mul(Get(s1,0,0), float4x4(0.010750517249107,-0.010571026243269,-0.114000521600246,0.264006823301315,0.016753891482949,-0.258329451084137,-0.058505162596703,0.076360590755939,0.009548703208566,-0.069324858486652,-0.085632398724556,0.019794588908553,-0.022428508847952,0.010343692265451,0.173137813806534,-0.023170450702310));
res += mul(Get(s1,0,dy), float4x4(-0.076391890645027,0.049663107842207,-0.011282389052212,-0.204480618238449,0.016642907634377,-0.081997111439705,-0.226393789052963,0.154679536819458,-0.176947236061096,-0.083824850618839,-0.076476812362671,0.055407155305147,0.129777461290359,0.177979186177254,-0.009991675615311,-0.162351563572884));
res += mul(Get(s1,dx,-dy), float4x4(-0.094721235334873,-0.027443613857031,-0.055162273347378,0.094713613390923,0.175752773880959,0.046397473663092,0.017987554892898,-0.171301722526550,0.039854492992163,0.078430891036987,-0.210292831063271,0.120178870856762,0.055042311549187,0.020676957443357,-0.212745383381844,0.086200870573521));
res += mul(Get(s1,dx,0), float4x4(0.020071648061275,0.122434511780739,0.169766083359718,0.076263017952442,0.027590218931437,-0.184201791882515,0.072935461997986,0.006866502109915,-0.091140732169151,0.083263315260410,-0.038127150386572,-0.007292535621673,-0.096542492508888,0.055943995714188,0.060265645384789,0.086387030780315));
res += mul(Get(s1,dx,dy), float4x4(0.098897829651833,-0.082038424909115,0.064401216804981,-0.175414279103279,-0.157564014196396,0.172702789306641,0.071516752243042,-0.055145967751741,0.114030562341213,0.112699575722218,0.120639368891716,0.160781487822533,0.044358644634485,0.162877798080444,0.128372013568878,-0.064517959952354));
res += mul(Get(s2,-dx,-dy), float4x4(-0.279337346553802,0.158625110983849,-0.092161469161510,0.148397922515869,-0.233206808567047,0.049458440393209,-0.053662698715925,-0.139724045991898,0.095102518796921,0.057257391512394,0.165637820959091,0.120295666158199,-0.140155479311943,-0.071418300271034,-0.128379762172699,0.117010481655598));
res += mul(Get(s2,-dx,0), float4x4(0.226498872041702,-0.003112954087555,0.110578961670399,0.156115740537643,0.075880520045757,-0.032254029065371,0.142157465219498,0.168880477547646,0.098681986331940,0.175495713949203,-0.107442490756512,0.045998442918062,0.142602667212486,-0.067986808717251,0.004684643354267,0.139171943068504));
res += mul(Get(s2,-dx,dy), float4x4(0.094385303556919,0.171389266848564,0.058173500001431,-0.074034996330738,-0.150025784969330,0.179366737604141,0.072950728237629,0.060290627181530,0.039023991674185,-0.010474043898284,0.039591785520315,-0.218026518821716,-0.014400912448764,0.145310461521149,0.032472651451826,-0.070488065481186));
res += mul(Get(s2,0,-dy), float4x4(0.219091042876244,-0.019319983199239,-0.120593488216400,0.001908246893436,0.105135075747967,0.065884880721569,-0.238697439432144,0.019182195886970,0.016202248632908,0.029056385159492,0.126889154314995,-0.132091864943504,-0.102349914610386,-0.048114888370037,0.021226992830634,-0.105127640068531));
res += mul(Get(s2,0,0), float4x4(-0.171824544668198,0.009756323881447,0.093145258724689,-0.013760604895651,-0.001430915086530,0.087200179696083,-0.165136232972145,-0.067092157900333,0.133228272199631,-0.196569949388504,-0.007971419021487,-0.008375810459256,-0.016940841451287,-0.149748370051384,-0.082262270152569,0.052637692540884));
res += mul(Get(s2,0,dy), float4x4(0.047258492559195,0.121516868472099,0.111955173313618,-0.010170367546380,-0.124603092670441,-0.025460379198194,-0.100399926304817,-0.026719143614173,0.180276751518250,-0.069190122187138,-0.024642720818520,-0.048063639551401,-0.046216029673815,-0.085191249847412,0.222863480448723,-0.059550553560257));
res += mul(Get(s2,dx,-dy), float4x4(0.100702650845051,-0.155027732253075,-0.074163384735584,-0.056193780153990,0.028775678947568,0.087616108357906,-0.060449909418821,0.223386138677597,0.060631915926933,0.017133878543973,-0.043745320290327,-0.127661317586899,-0.025318011641502,0.106228075921535,-0.016865288838744,-0.060085516422987));
res += mul(Get(s2,dx,0), float4x4(-0.095549695193768,-0.081667363643646,0.167687863111496,-0.012074727565050,-0.046107005327940,0.029900483787060,-0.057849831879139,-0.104792259633541,0.233627945184708,-0.078901059925556,0.098106309771538,-0.005971678998321,0.037258714437485,0.226833030581474,-0.012865349650383,-0.088877022266388));
res += mul(Get(s2,dx,dy), float4x4(-0.054492238909006,0.079083800315857,-0.157838106155396,-0.014530127868056,0.023771565407515,-0.131651282310486,0.111109808087349,-0.083802722394466,-0.139504522085190,-0.075646549463272,0.184933170676231,-0.008753478527069,0.009045421145856,-0.006668730638921,-0.169823139905930,0.080803424119949));
res += mul(Get(s3,-dx,-dy), float4x4(-0.135377764701843,-0.097314655780792,-0.022428404539824,-0.003580143908039,-0.041867896914482,0.090342141687870,-0.090231359004974,-0.119388386607170,0.040383119136095,0.021327635273337,-0.122151941061020,0.006615967024118,0.028672059997916,-0.089876115322113,-0.136129111051559,-0.155065655708313));
res += mul(Get(s3,-dx,0), float4x4(-0.105705052614212,-0.062379371374846,0.070458263158798,-0.027688425034285,-0.077321194112301,0.068587131798267,0.121137127280235,-0.173122540116310,-0.032279036939144,-0.030786937102675,-0.121657408773899,0.040556527674198,-0.099466115236282,-0.046621594578028,-0.025362189859152,-0.200839042663574));
res += mul(Get(s3,-dx,dy), float4x4(0.017205616459250,-0.231084659695625,0.045651234686375,-0.125652328133583,0.013310556299984,0.087523691356182,-0.013641812838614,-0.096783757209778,0.224803626537323,0.021804599091411,-0.162899866700172,0.139710992574692,-0.084397777915001,-0.169625625014305,-0.094456501305103,0.031419504433870));
res += mul(Get(s3,0,-dy), float4x4(0.175897911190987,-0.004306082613766,-0.097423680126667,0.186238363385201,0.023666035383940,0.051760539412498,0.113968595862389,0.033261559903622,-0.165806680917740,-0.160370126366615,0.411628067493439,-0.201665550470352,0.000253654026892,-0.116015262901783,0.016647666692734,-0.213159129023552));
res += mul(Get(s3,0,0), float4x4(0.094621807336807,0.135714530944824,-0.000512593367603,0.010627407580614,0.046884614974260,0.007464941591024,-0.011864802800119,0.003944073338062,-0.157415881752968,0.071354195475578,0.003409123979509,-0.007233556360006,0.011223736219108,0.059007018804550,-0.052066426724195,-0.028654748573899));
res += mul(Get(s3,0,dy), float4x4(-0.084870621562004,0.098784342408180,0.177128419280052,-0.101238109171391,-0.076598748564720,0.133755102753639,0.115870982408524,-0.077650748193264,-0.159702777862549,-0.031539916992188,-0.034993987530470,-0.007848575711250,-0.075676314532757,-0.115317344665527,-0.075085900723934,-0.084203600883484));
res += mul(Get(s3,dx,-dy), float4x4(-0.008690784685314,-0.084426291286945,-0.190211355686188,0.052223369479179,-0.025320421904325,-0.137633666396141,-0.070552773773670,-0.110419146716595,0.011849319562316,0.132863610982895,0.064263679087162,-0.031410358846188,-0.143774658441544,0.084612898528576,-0.038131274282932,0.214816480875015));
res += mul(Get(s3,dx,0), float4x4(0.036799095571041,0.005739375017583,-0.062151011079550,0.092091396450996,-0.086497075855732,-0.179512649774551,0.004880249500275,0.123556323349476,-0.070189639925957,0.042386017739773,0.013375360518694,-0.000126238417579,-0.139339059591293,0.142004504799843,0.092228569090366,0.030030502006412));
res += mul(Get(s3,dx,dy), float4x4(-0.131403893232346,0.165781930088997,0.051033850759268,0.095988251268864,0.015522609464824,0.091502413153648,0.094521492719650,0.011833949014544,-0.120261073112488,0.021327815949917,0.046201530843973,0.126012444496155,0.137721791863441,0.093431979417801,0.060721017420292,-0.006053676828742));
return max(float4(0,0,0,0), res);
}
