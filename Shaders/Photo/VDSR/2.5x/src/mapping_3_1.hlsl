sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.021213416010141,-0.113414965569973,0.016350023448467,-0.093277230858803,0.076906770467758,-0.041469223797321,-0.123719833791256,0.070637106895447,-0.021799229085445,-0.014847978949547,-0.132458239793777,-0.074107557535172,0.100863732397556,-0.045131713151932,0.165868595242500,0.148156166076660));
res += mul(Get(s0,-dx,0), float4x4(-0.113630138337612,-0.006852073594928,0.153645291924477,-0.049328234046698,0.098782397806644,-0.008299174718559,0.008622011169791,0.115801885724068,-0.033082276582718,-0.033551190048456,-0.057942554354668,0.006921472027898,-0.040616206824780,0.063633054494858,0.167834788560867,-0.037387698888779));
res += mul(Get(s0,-dx,dy), float4x4(-0.161522626876831,0.132810950279236,0.013403209857643,0.080057241022587,0.066030807793140,-0.145122557878494,0.059532538056374,0.195080280303955,-0.013699195347726,-0.028565051034093,-0.017576690763235,0.002738048788160,-0.121518827974796,0.053483899682760,-0.208453387022018,-0.176438510417938));
res += mul(Get(s0,0,-dy), float4x4(-0.059959996491671,-0.051230277866125,0.154833629727364,-0.034306339919567,-0.006046838592738,0.045275408774614,0.073718488216400,0.074854463338852,-0.013361956924200,0.003008179832250,-0.133459135890007,-0.022295840084553,0.203566014766693,0.136077240109444,-0.080902583897114,-0.261860966682434));
res += mul(Get(s0,0,0), float4x4(-0.065332204103470,-0.059567235410213,-0.105267755687237,-0.025020672008395,0.108579561114311,0.100643061101437,0.113085910677910,-0.019142886623740,-0.020286427810788,0.162241980433464,-0.147348076105118,-0.106957271695137,0.158064156770706,-0.075712770223618,0.322756141424179,0.072179183363914));
res += mul(Get(s0,0,dy), float4x4(-0.147561326622963,0.242495745420456,-0.021588373929262,0.116378888487816,-0.041558910161257,0.012685721740127,0.064446210861206,-0.013537170365453,-0.032028909772635,0.105983845889568,0.036520201712847,-0.006125583313406,-0.048079233616590,-0.099534071981907,0.157907620072365,0.214320510625839));
res += mul(Get(s0,dx,-dy), float4x4(-0.185136660933495,0.058784872293472,0.258198201656342,0.113846622407436,-0.209277778863907,0.069294832646847,-0.066868275403976,0.000707223312929,-0.030305508524179,-0.109398126602173,-0.043089330196381,-0.095961555838585,-0.104292564094067,-0.021239407360554,-0.161376178264618,-0.147456228733063));
res += mul(Get(s0,dx,0), float4x4(-0.094473078846931,-0.074309088289738,-0.095487684011459,-0.058810684829950,-0.066664285957813,0.055142078548670,0.040874414145947,0.035261847078800,-0.026154240593314,0.200403794646263,-0.024975880980492,0.048826757818460,-0.031565129756927,-0.120844729244709,-0.173575252294540,0.187985628843307));
res += mul(Get(s0,dx,dy), float4x4(-0.055889230221510,-0.038559611886740,-0.030281620100141,0.103354655206203,-0.014452975243330,0.013370409607887,0.048170913010836,0.058540642261505,-0.052399471402168,0.100171282887459,-0.040029760450125,0.033605761826038,0.143239945173264,-0.029470793902874,-0.027213852852583,0.233130469918251));
res += mul(Get(s1,-dx,-dy), float4x4(0.114042952656746,0.075067602097988,0.112147055566311,-0.021606208756566,0.009709682315588,-0.130597338080406,0.051357131451368,-0.149053946137428,0.102553799748421,-0.017522675916553,-0.075438804924488,0.012308319099247,-0.006258214358240,-0.114107005298138,-0.024879006668925,0.017005350440741));
res += mul(Get(s1,-dx,0), float4x4(0.043006084859371,0.136352643370628,0.082253083586693,-0.098039962351322,-0.202033951878548,-0.264367192983627,0.103904917836189,-0.147254645824432,0.109008952975273,-0.113393887877464,-0.107867524027824,-0.013950365595520,-0.045934632420540,-0.183839708566666,-0.033874586224556,-0.048596315085888));
res += mul(Get(s1,-dx,dy), float4x4(0.027326462790370,0.057021465152502,-0.026038963347673,-0.002286558737978,0.051544502377510,-0.151505738496780,0.178833320736885,-0.031911209225655,0.005957011599094,-0.032042250037193,-0.108923926949501,0.044027920812368,-0.020097656175494,-0.038315445184708,-0.054732188582420,0.007411655969918));
res += mul(Get(s1,0,-dy), float4x4(-0.014184286817908,0.023830970749259,0.002934620482847,-0.028446460142732,0.009429840371013,-0.023677550256252,-0.016655078157783,-0.120138108730316,-0.078325212001801,-0.031837329268456,-0.004454260226339,0.041065130382776,-0.018272044137120,0.068228870630264,-0.066609203815460,-0.099253870546818));
res += mul(Get(s1,0,0), float4x4(0.096273623406887,0.061968602240086,0.048034656792879,-0.056616414338350,0.026970690116286,-0.017577273771167,-0.112807735800743,-0.107155047357082,-0.149146974086761,-0.064177215099335,0.141818016767502,-0.060469746589661,-0.026728255674243,-0.031596545130014,-0.063736677169800,-0.055384263396263));
res += mul(Get(s1,0,dy), float4x4(0.036516103893518,-0.007470217999071,-0.057151526212692,-0.003110491437837,0.072307258844376,0.233551457524300,0.156430274248123,0.092662863433361,-0.155468955636024,-0.095885708928108,-0.063549615442753,-0.079032883048058,-0.013857303187251,-0.070994295179844,-0.007530675735325,-0.021753940731287));
res += mul(Get(s1,dx,-dy), float4x4(-0.078093849122524,0.003516463795677,-0.052072942256927,0.075675383210182,-0.027165858075023,0.418892979621887,-0.100996337831020,-0.060056459158659,-0.073637396097183,0.101154543459415,-0.068806193768978,0.055886749178171,-0.009939468465745,-0.007584938313812,-0.039639733731747,-0.054058913141489));
res += mul(Get(s1,dx,0), float4x4(0.113958798348904,-0.009957315400243,0.025342117995024,0.014384764246643,0.074232228100300,0.223666563630104,-0.239773467183113,-0.170013546943665,-0.086572095751762,-0.071053899824619,0.087910667061806,0.230099260807037,-0.019343303516507,0.040879156440496,-0.020413264632225,-0.053164634853601));
res += mul(Get(s1,dx,dy), float4x4(0.132894977927208,0.067449100315571,-0.037450138479471,-0.090533576905727,0.129740104079247,-0.068206548690796,-0.273885607719421,-0.017192335799336,-0.201170712709427,0.086914621293545,-0.086618117988110,0.052518948912621,-0.027441062033176,-0.053094003349543,0.034247446805239,-0.016270272433758));
res += mul(Get(s2,-dx,-dy), float4x4(-0.043792858719826,0.050150301307440,-0.060649823397398,-0.038570340722799,-0.088033102452755,-0.172510802745819,0.053253296762705,0.030238253995776,-0.035356670618057,0.050180178135633,0.074173450469971,0.000844412425067,0.043171256780624,-0.003478951752186,0.049343694001436,-0.073903739452362));
res += mul(Get(s2,-dx,0), float4x4(-0.011301283724606,-0.011561652645469,0.022476304322481,0.093916401267052,0.142189592123032,-0.174797341227531,0.088498197495937,-0.017734181135893,-0.142750620841980,0.016568044200540,0.043121736496687,-0.060038924217224,0.068211324512959,-0.085538059473038,-0.036135770380497,0.009583965875208));
res += mul(Get(s2,-dx,dy), float4x4(0.030857317149639,-0.094768986105919,-0.069504417479038,0.092311657965183,0.177250117063522,0.144060954451561,0.121495366096497,-0.031581647694111,-0.017019169405103,-0.028354045003653,0.161003038287163,0.026954242959619,0.060536276549101,0.097311109304428,0.158429145812988,-0.091357894241810));
res += mul(Get(s2,0,-dy), float4x4(-0.104354500770569,-0.126319020986557,-0.087748833000660,-0.134757354855537,-0.064755752682686,0.025384496897459,-0.025650037452579,-0.041889600455761,-0.141335636377335,0.010576983913779,-0.057079330086708,0.052687175571918,-0.090612970292568,-0.014297183603048,0.042000770568848,0.170143812894821));
res += mul(Get(s2,0,0), float4x4(-0.047354482114315,-0.068639814853668,0.042940571904182,-0.089945383369923,0.137936428189278,0.021330069750547,0.039340175688267,0.027687977999449,-0.066338919103146,-0.191429659724236,-0.015742018818855,-0.046729203313589,0.089723549783230,-0.090200789272785,-0.185161858797073,-0.099360443651676));
res += mul(Get(s2,0,dy), float4x4(0.046330470591784,-0.098537892103195,0.039075169712305,-0.043072655797005,0.011510133743286,0.141505464911461,0.007105724886060,-0.088901281356812,-0.135980859398842,-0.000766042328905,-0.044052589684725,-0.015954503789544,0.079769745469093,-0.110200650990009,0.030793091282248,0.043275300413370));
res += mul(Get(s2,dx,-dy), float4x4(-0.167531266808510,-0.046744987368584,0.069486483931541,-0.061806060373783,-0.003409187309444,0.177808359265327,-0.101363420486450,-0.109529174864292,-0.196305617690086,-0.052329864352942,0.000038288508222,0.104138314723969,-0.096008382737637,-0.007303325925022,-0.079799346625805,0.047990795224905));
res += mul(Get(s2,dx,0), float4x4(-0.068633325397968,0.113512061536312,0.023402836173773,-0.049267504364252,0.103889085352421,0.026940807700157,-0.108864217996597,0.070812411606312,-0.092346720397472,-0.143784463405609,-0.050590448081493,-0.029828010126948,-0.076190739870071,0.099919795989990,0.214056655764580,0.063011042773724));
res += mul(Get(s2,dx,dy), float4x4(0.090683892369270,0.011450504884124,-0.058888725936413,0.047837283462286,-0.070371635258198,0.088711090385914,-0.124648436903954,-0.071967966854572,-0.094881311058998,-0.167358070611954,0.020215488970280,0.000023720112949,0.051030699163675,0.293156951665878,-0.135680869221687,-0.005590037908405));
res += mul(Get(s3,-dx,-dy), float4x4(-0.214391216635704,0.194644629955292,0.163791045546532,0.044304236769676,-0.159365862607956,-0.087550379335880,0.127670392394066,0.061811722815037,0.003688187571242,0.050001867115498,-0.074298538267612,-0.044757734984159,-0.018679792061448,0.060137223452330,0.001996648730710,0.058462060987949));
res += mul(Get(s3,-dx,0), float4x4(-0.104581259191036,0.073782660067081,-0.071479566395283,-0.185418367385864,-0.149410545825958,-0.092460349202156,0.082097865641117,0.070734433829784,0.118676438927650,0.003738326486200,-0.005443393252790,0.055544365197420,-0.086945243179798,-0.035656869411469,0.118382066488266,-0.036581706255674));
res += mul(Get(s3,-dx,dy), float4x4(-0.044298324733973,0.005638319533318,-0.121696017682552,-0.145829319953918,-0.236473858356476,-0.128840714693069,0.080111421644688,-0.012888375669718,0.014684408903122,-0.093836940824986,-0.006455172318965,0.014359158463776,-0.248140037059784,0.045674793422222,-0.116163574159145,-0.026313355192542));
res += mul(Get(s3,0,-dy), float4x4(0.196872353553772,-0.065038852393627,0.015212690457702,-0.046700388193130,-0.134293809533119,-0.104322597384453,-0.006131466012448,-0.072705172002316,0.009812371805310,0.141447454690933,0.044289398938417,-0.080166161060333,-0.163773283362389,-0.046633262187243,-0.086228691041470,-0.182563140988350));
res += mul(Get(s3,0,0), float4x4(-0.041567333042622,-0.024149898439646,-0.049092620611191,-0.076642043888569,-0.086536951363087,0.097227051854134,-0.059445507824421,-0.114085115492344,0.046133868396282,0.040733031928539,0.097463838756084,0.063661530613899,-0.301561743021011,-0.148368477821350,0.114616714417934,-0.075703233480453));
res += mul(Get(s3,0,dy), float4x4(-0.106033295392990,-0.045015789568424,-0.088301502168179,0.105057738721371,-0.190186068415642,-0.000638979661744,-0.089547835290432,0.004141838289797,0.012099486775696,-0.157843738794327,-0.059405006468296,0.139707922935486,-0.135585069656372,-0.110908865928650,-0.125999823212624,-0.066676393151283));
res += mul(Get(s3,dx,-dy), float4x4(0.233785271644592,-0.111925236880779,0.030064191669226,-0.094393379986286,-0.219482541084290,-0.149370640516281,0.017581423744559,0.061526883393526,-0.016804542392492,0.021226486191154,-0.063186027109623,-0.101198069751263,-0.003350249724463,0.102412141859531,0.225456312298775,-0.227914243936539));
res += mul(Get(s3,dx,0), float4x4(-0.001625601667911,0.012918123975396,-0.074547424912453,0.022819327190518,-0.121713139116764,0.230121776461601,-0.211305499076843,-0.017316553741693,0.034772690385580,-0.121422007679939,-0.142264053225517,0.042777687311172,-0.073157846927643,0.096869155764580,0.272250771522522,-0.031280547380447));
res += mul(Get(s3,dx,dy), float4x4(0.009828738868237,-0.097455188632011,0.051135011017323,0.218001872301102,-0.227942317724228,-0.075473293662071,-0.029921051114798,0.049797356128693,-0.005890542175621,-0.165644139051437,0.060934033244848,0.084807351231575,0.026721464470029,-0.043434225022793,-0.140330418944359,-0.024056270718575));
return max(float4(0,0,0,0), res);
}
