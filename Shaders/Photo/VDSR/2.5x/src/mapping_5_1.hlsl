sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.038218237459660,-0.036580990999937,0.164131671190262,0.049749452620745,-0.032219227403402,-0.014605619013309,-0.013918779790401,-0.104479163885117,0.007005691062659,-0.058870878070593,0.106563366949558,0.007532469462603,-0.123582221567631,0.116105042397976,-0.054038506001234,-0.084963507950306));
res += mul(Get(s0,-dx,0), float4x4(0.208728805184364,0.038934718817472,-0.098292872309685,-0.255561649799347,-0.088399045169353,0.055431421846151,-0.031731184571981,-0.097426570951939,0.071614392101765,0.133677914738655,0.066028445959091,0.009674830362201,0.047194585204124,-0.019403284415603,0.116480983793736,-0.023141907528043));
res += mul(Get(s0,-dx,dy), float4x4(0.019850835204124,0.088646769523621,0.174320325255394,0.145577937364578,-0.024921553209424,0.120232224464417,0.093054927885532,-0.049233827739954,-0.051517285406590,0.172159925103188,-0.070207163691521,0.028240442276001,0.128802761435509,-0.118940196931362,-0.070171378552914,0.090679377317429));
res += mul(Get(s0,0,-dy), float4x4(-0.150857940316200,0.043405637145042,-0.041301872581244,0.082060590386391,0.085052855312824,-0.084859944880009,0.004205417819321,0.019137449562550,0.208041250705719,0.018824316561222,0.138709530234337,0.153391376137733,0.122175917029381,0.069917678833008,0.027687611058354,-0.096427939832211));
res += mul(Get(s0,0,0), float4x4(-0.026551255956292,-0.087381877005100,-0.068371973931789,0.132183045148849,0.096617870032787,-0.181125283241272,0.038954582065344,0.010837467387319,-0.083014354109764,0.026347881183028,0.103784695267677,0.142118424177170,0.142760515213013,0.140336766839027,0.040024284273386,-0.003615480149165));
res += mul(Get(s0,0,dy), float4x4(-0.101995036005974,-0.004963126033545,0.086318798363209,-0.066809765994549,-0.081361889839172,0.081033416092396,0.104482442140579,0.190298512578011,0.007343629375100,0.055389128625393,-0.076290369033813,-0.075559377670288,0.010072306729853,0.027043405920267,-0.025314560160041,0.212620109319687));
res += mul(Get(s0,dx,-dy), float4x4(0.008748712018132,-0.023206232115626,0.161004990339279,0.112650603055954,-0.071158990263939,-0.036693088710308,-0.076043970882893,0.321207582950592,-0.085066609084606,-0.046394806355238,-0.006124919746071,0.229116782546043,0.073578432202339,0.031222162768245,-0.058805834501982,-0.122695542871952));
res += mul(Get(s0,dx,0), float4x4(-0.015775091946125,0.039940703660250,-0.077268645167351,-0.009926548227668,-0.014421369880438,0.004416061565280,0.244542643427849,-0.058698862791061,-0.056693192571402,-0.166834279894829,-0.102515578269958,0.156915843486786,0.032892912626266,0.056950885802507,0.305279791355133,-0.010625801980495));
res += mul(Get(s0,dx,dy), float4x4(-0.169793978333473,0.028727119788527,0.302581757307053,-0.049530439078808,0.051595557481050,-0.000259162188740,0.070408232510090,-0.055647730827332,0.076671749353409,0.062449563294649,0.087762042880058,-0.078954666852951,0.026051698252559,0.013238138519228,0.074154846370220,0.077187761664391));
res += mul(Get(s1,-dx,-dy), float4x4(-0.181553602218628,-0.007987047545612,-0.024077413603663,0.009917704388499,0.059634976089001,0.092888496816158,-0.135773077607155,-0.124687924981117,-0.167348414659500,-0.078150384128094,0.200687095522881,0.092561155557632,0.012971511110663,0.028258226811886,-0.198271721601486,0.010971473529935));
res += mul(Get(s1,-dx,0), float4x4(0.000227714714129,0.101619504392147,-0.051280874758959,-0.076108746230602,0.009869272820652,0.046137940138578,0.097295939922333,0.164627239108086,-0.155459359288216,-0.039448555558920,0.065269030630589,0.157648473978043,0.222062587738037,-0.122839853167534,0.164582520723343,0.073411159217358));
res += mul(Get(s1,-dx,dy), float4x4(-0.298325479030609,-0.095851823687553,0.222927808761597,-0.071443736553192,0.067953094840050,0.056764550507069,0.083366595208645,0.007491385564208,-0.189304873347282,0.030242284759879,0.086898714303970,-0.164576694369316,-0.036708921194077,0.014011348597705,-0.160970762372017,-0.051929816603661));
res += mul(Get(s1,0,-dy), float4x4(0.029716622084379,0.018513787537813,-0.039053484797478,0.032041329890490,0.138787522912025,0.049338761717081,-0.016552923247218,-0.093156799674034,0.011654008179903,0.000379191420507,0.012800334952772,0.158432334661484,0.026355886831880,0.069173581898212,0.235477805137634,0.202825054526329));
res += mul(Get(s1,0,0), float4x4(0.264973521232605,-0.000105352679384,0.015925515443087,-0.054603591561317,-0.030068263411522,-0.169973924756050,-0.034131463617086,-0.049657542258501,0.037892132997513,-0.051024749875069,0.075437299907207,-0.134025529026985,0.190432712435722,-0.026051215827465,0.081620872020721,-0.018204672262073));
res += mul(Get(s1,0,dy), float4x4(0.098719112575054,0.041528876870871,-0.156992152333260,-0.247879773378372,-0.032419741153717,0.032369330525398,-0.154953435063362,-0.053270682692528,0.108802460134029,-0.008029469288886,-0.089800313115120,-0.098707742989063,-0.088471800088882,-0.145597621798515,-0.168088316917419,-0.201534241437912));
res += mul(Get(s1,dx,-dy), float4x4(0.126689806580544,-0.105324015021324,-0.131481930613518,-0.097214579582214,0.113851472735405,0.174167856574059,0.105465017259121,0.223053753376007,0.101283416152000,-0.100712984800339,0.019808448851109,-0.027312504127622,0.010596903041005,-0.093119688332081,-0.020278608426452,-0.034256096929312));
res += mul(Get(s1,dx,0), float4x4(-0.015686135739088,-0.121419042348862,-0.110863797366619,0.022304911166430,0.057168800383806,0.095133937895298,0.121596485376358,-0.232012435793877,0.198781669139862,0.092611372470856,-0.051495384424925,0.044565271586180,-0.056434188038111,0.073893569409847,0.083978198468685,-0.129861384630203));
res += mul(Get(s1,dx,dy), float4x4(-0.098470240831375,-0.222893759608269,0.024435697123408,0.103460811078548,-0.194198831915855,0.001121281180531,-0.014683554880321,-0.079031251370907,-0.047650586813688,0.091355763375759,-0.134656488895416,-0.022971415892243,-0.047491487115622,-0.013774501159787,-0.031120130792260,-0.134493559598923));
res += mul(Get(s2,-dx,-dy), float4x4(0.040845405310392,-0.020372735336423,0.131470620632172,0.074674211442471,0.087053120136261,0.186805635690689,-0.078188054263592,0.061751771718264,0.067790947854519,-0.065833374857903,0.074544191360474,-0.119398064911366,-0.069890618324280,-0.023851213976741,-0.030543951317668,0.154311329126358));
res += mul(Get(s2,-dx,0), float4x4(-0.116425700485706,-0.017557440325618,-0.063191324472427,-0.073409438133240,0.107518546283245,0.081285297870636,0.130650207400322,0.054168060421944,0.057405855506659,0.154150351881981,0.235695213079453,-0.071050137281418,-0.017981017008424,-0.066424474120140,0.086228229105473,0.034579843282700));
res += mul(Get(s2,-dx,dy), float4x4(-0.006852631922811,0.010984322987497,-0.102146960794926,-0.025245327502489,0.089080728590488,0.002644943073392,-0.125170558691025,0.003389636753127,-0.062170114368200,0.212779551744461,-0.057924151420593,0.170064419507980,0.039953861385584,-0.004593063145876,0.068816252052784,0.002833036473021));
res += mul(Get(s2,0,-dy), float4x4(-0.049719769507647,0.021177574992180,0.143090710043907,0.161655992269516,-0.016096798703074,-0.047372404485941,0.012052510865033,-0.229522511363029,0.126038566231728,0.260187745094299,0.037642635405064,-0.172556057572365,0.115698218345642,-0.134444937109947,0.062343385070562,-0.137087509036064));
res += mul(Get(s2,0,0), float4x4(-0.093320630490780,0.057933405041695,0.076174460351467,0.039543811231852,-0.172297284007072,-0.176181763410568,-0.146053969860077,0.086550869047642,-0.065813668072224,-0.007590421475470,-0.101747684180737,-0.111198745667934,0.238264814019203,-0.075950272381306,0.020285170525312,-0.212167754769325));
res += mul(Get(s2,0,dy), float4x4(0.081518664956093,0.018487442284822,0.075437426567078,0.042527526617050,0.055928118526936,0.001084977528080,0.152582228183746,0.022458754479885,-0.035654716193676,-0.079256214201450,-0.120175197720528,-0.126179739832878,0.017246127128601,-0.063773185014725,0.023649901151657,0.070254810154438));
res += mul(Get(s2,dx,-dy), float4x4(0.192780122160912,0.049850035458803,-0.043932043015957,0.053304743021727,0.027587156742811,-0.011845504865050,0.002248018980026,0.063952207565308,0.043124776333570,-0.032769966870546,-0.026834284886718,-0.029528362676501,-0.020003596320748,-0.031738016754389,-0.060764152556658,-0.035548657178879));
res += mul(Get(s2,dx,0), float4x4(-0.101145304739475,-0.014392368495464,-0.002804106567055,0.145312905311584,-0.018071128055453,0.073080345988274,0.044080000370741,0.059014659374952,-0.009876504540443,0.007911077700555,-0.009671132080257,-0.012721889652312,-0.140561416745186,0.160426110029221,0.139269530773163,0.050154481083155));
res += mul(Get(s2,dx,dy), float4x4(0.049665000289679,0.124888278543949,0.040524717420340,-0.204280927777290,0.068807207047939,-0.077631287276745,-0.121552817523479,-0.107059016823769,-0.022837886586785,0.024175763130188,-0.173262476921082,0.113332405686378,0.131679162383080,-0.025118589401245,0.165448382496834,0.004007404204458));
res += mul(Get(s3,-dx,-dy), float4x4(0.026492342352867,0.043372608721256,-0.079087577760220,-0.156885638833046,-0.118652500212193,-0.136803850531578,0.036143656820059,-0.188460037112236,-0.185963407158852,0.056996956467628,-0.143615350127220,-0.099852360785007,-0.171586334705353,-0.017125166952610,0.046193215996027,-0.038638200610876));
res += mul(Get(s3,-dx,0), float4x4(-0.016508657485247,0.091095224022865,-0.164202764630318,0.039863340556622,0.089603975415230,0.014329083263874,0.038148671388626,0.019225167110562,-0.100199066102505,0.015009593218565,0.062171291559935,0.089536055922508,0.033413201570511,0.110472001135349,0.154610782861710,0.105973042547703));
res += mul(Get(s3,-dx,dy), float4x4(-0.262427657842636,0.232979014515877,-0.138951316475868,0.087043002247810,0.044707499444485,-0.072657249867916,-0.006913274526596,-0.310024172067642,-0.042981714010239,-0.035753447562456,0.006982731632888,0.102856621146202,0.102309420704842,-0.144567310810089,0.042182598263025,-0.059348635375500));
res += mul(Get(s3,0,-dy), float4x4(-0.141155049204826,-0.072996400296688,0.107982464134693,-0.029652474448085,-0.167222216725349,-0.030099516734481,0.094122774899006,-0.140668556094170,0.069788493216038,0.017627798020840,0.220801547169685,-0.211034387350082,0.089331120252609,0.023537643253803,0.110684372484684,0.081419400870800));
res += mul(Get(s3,0,0), float4x4(0.308989763259888,0.113370686769485,0.012887541204691,-0.068295963108540,-0.012081442400813,0.151834502816200,-0.028018876910210,-0.119859635829926,0.000954707094934,-0.111457496881485,-0.007788172457367,-0.092694677412510,0.068191282451153,0.070323929190636,-0.082376904785633,0.149039089679718));
res += mul(Get(s3,0,dy), float4x4(-0.106155261397362,0.161503896117210,-0.126290977001190,0.013824514113367,0.100952304899693,-0.120997689664364,-0.021360225975513,0.024640705436468,0.024193268269300,0.005175467580557,0.015359562821686,0.199573397636414,0.116194918751717,-0.116391137242317,-0.010128643363714,0.173089846968651));
res += mul(Get(s3,dx,-dy), float4x4(0.092808239161968,0.203562363982201,-0.055213142186403,0.052414063364267,-0.058942012488842,-0.150371119379997,-0.094995498657227,0.012957666069269,0.004017074126750,0.090395703911781,0.013543746434152,-0.156996905803680,-0.022116696462035,-0.157614111900330,-0.035971846431494,0.069798439741135));
res += mul(Get(s3,dx,0), float4x4(0.071141302585602,-0.259941935539246,-0.016128277406096,0.038032475858927,0.006593653000891,-0.040614347904921,0.044647004455328,-0.047407593578100,0.090702302753925,0.003461062442511,-0.129007250070572,0.042687974870205,0.156728729605675,-0.062037944793701,-0.129765048623085,0.134924501180649));
res += mul(Get(s3,dx,dy), float4x4(-0.023277401924133,-0.040954280644655,0.015064427629113,0.131558284163475,0.122735098004341,-0.021230399608612,-0.001296060741879,0.126466184854507,-0.109175540506840,0.074104577302933,-0.118084669113159,0.020212789997458,0.173304542899132,-0.046098306775093,0.058285158127546,0.094845265150070));
return max(float4(0,0,0,0), res);
}
