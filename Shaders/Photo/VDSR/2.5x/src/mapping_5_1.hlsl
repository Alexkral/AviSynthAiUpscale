sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.030290577560663,-0.041031297296286,-0.134397730231285,-0.083550602197647,0.141835406422615,0.027451463043690,-0.212489590048790,-0.032638136297464,0.098688036203384,0.078096590936184,0.102328643202782,-0.127214446663857,0.057593483477831,-0.034182384610176,0.007965956814587,0.020386159420013));
res += mul(Get(s0,-dx,0), float4x4(-0.026586696505547,-0.053801357746124,-0.095212019979954,-0.100523963570595,-0.079968616366386,-0.138220846652985,-0.146108195185661,-0.053195375949144,-0.019600665196776,0.066279403865337,-0.010244616307318,0.244692772626877,0.044352710247040,0.098691724240780,-0.073186002671719,-0.034845881164074));
res += mul(Get(s0,-dx,dy), float4x4(-0.007477045059204,-0.048780072480440,0.059841465204954,0.076986968517303,0.007915455847979,0.019393349066377,0.033502008765936,-0.061920285224915,0.141397029161453,0.097321778535843,-0.071560986340046,0.130408138036728,-0.071726456284523,-0.013193719089031,-0.012021756730974,-0.015943899750710));
res += mul(Get(s0,0,-dy), float4x4(0.016618408262730,-0.094838485121727,-0.167519837617874,0.065612390637398,0.045510843396187,-0.019473820924759,-0.177695855498314,-0.023474538698792,0.112876802682877,0.095732383430004,0.093242049217224,-0.089272849261761,0.182240352034569,0.047089926898479,-0.013326236978173,-0.002235027961433));
res += mul(Get(s0,0,0), float4x4(-0.098199859261513,-0.049674473702908,-0.163769349455833,0.117101624608040,-0.037088736891747,-0.016532404348254,0.053125441074371,-0.019608013331890,-0.116945579648018,0.081861734390259,-0.114173941314220,-0.079961672425270,0.091500192880630,0.102454312145710,0.038102943450212,0.047996725887060));
res += mul(Get(s0,0,dy), float4x4(0.012465180829167,0.052550163120031,-0.039320405572653,0.147791475057602,-0.070148244500160,0.076447203755379,0.113536931574345,-0.005889055319130,0.209840208292007,-0.006755523849279,-0.110083118081093,-0.103426665067673,-0.018707234412432,-0.037122480571270,0.069945745170116,-0.097434520721436));
res += mul(Get(s0,dx,-dy), float4x4(-0.033461101353168,-0.149101182818413,-0.016218513250351,0.085910663008690,0.012598481029272,-0.205268472433090,-0.051761772483587,0.361778318881989,0.103122770786285,0.007479669991881,0.005167908966541,-0.000018795406504,0.063665732741356,-0.127777174115181,-0.032422743737698,0.073479130864143));
res += mul(Get(s0,dx,0), float4x4(0.013596269302070,-0.117822088301182,0.014296101406217,0.211759865283966,0.120669223368168,0.189939916133881,0.220755383372307,0.024154579266906,-0.080749884247780,0.034830663353205,0.014617991633713,-0.068141140043736,-0.157377555966377,-0.085672691464424,-0.016529759392142,0.071247406303883));
res += mul(Get(s0,dx,dy), float4x4(0.028466379269958,0.028354339301586,0.093341059982777,-0.011177622713149,0.053410876542330,0.077152475714684,0.119095347821712,0.026597408577800,0.055255785584450,0.092061243951321,0.194868013262749,-0.028197871521115,-0.048239961266518,-0.077227830886841,0.006163944024593,0.029962940141559));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023577811196446,0.001450618379749,0.083235971629620,-0.096760056912899,0.025961907580495,0.019733848050237,-0.301549732685089,0.008723858743906,0.083643503487110,-0.012927914969623,0.055229663848877,-0.060528688132763,0.029900159686804,0.064538061618805,0.047227140516043,0.042687837034464));
res += mul(Get(s1,-dx,0), float4x4(-0.072453349828720,-0.002030423842371,0.015412102453411,-0.010251212865114,-0.158407852053642,-0.004266158677638,0.037947393953800,0.107706710696220,-0.152502208948135,0.051673933863640,0.008672711439431,0.130524426698685,-0.148388281464577,0.041520252823830,0.022334218025208,-0.034663762897253));
res += mul(Get(s1,-dx,dy), float4x4(0.066899426281452,-0.104587897658348,0.180392101407051,-0.074061259627342,-0.182030767202377,-0.012030611746013,0.180118992924690,0.027327585965395,-0.091677732765675,0.106273420155048,-0.036716185510159,0.028868194669485,-0.211652547121048,-0.031928416341543,-0.146580830216408,-0.066092461347580));
res += mul(Get(s1,0,-dy), float4x4(0.050069674849510,0.059890512377024,0.277448803186417,-0.042700197547674,0.027152299880981,-0.037526998668909,-0.049162860959768,-0.085308052599430,0.045985139906406,0.036124538630247,0.031188510358334,-0.042496934533119,0.026894886046648,-0.016097683459520,0.019948037341237,0.078550323843956));
res += mul(Get(s1,0,0), float4x4(0.089885488152504,0.053187623620033,-0.134194746613503,-0.011414390057325,0.065430335700512,-0.014771553687751,-0.020213628187776,0.015173985622823,-0.138350695371628,0.015652557834983,-0.002739911200479,-0.047625921666622,0.011672172695398,-0.084856413304806,-0.031455878168344,-0.096008278429508));
res += mul(Get(s1,0,dy), float4x4(0.128622680902481,0.041075933724642,0.049962930381298,-0.040516681969166,0.102155074477196,0.234384536743164,-0.009579950943589,0.079273968935013,-0.117794379591942,0.059609986841679,-0.131030678749084,0.074191749095917,-0.137648433446884,-0.011556818149984,-0.061403680592775,-0.088209480047226));
res += mul(Get(s1,dx,-dy), float4x4(0.126800253987312,-0.030851293355227,0.153937026858330,-0.146361932158470,-0.021004637703300,-0.035458683967590,0.032821673899889,0.183947920799255,0.009455660358071,-0.121139690279961,-0.050175443291664,-0.097035646438599,0.045099716633558,0.017841953784227,-0.078412368893623,-0.028825964778662));
res += mul(Get(s1,dx,0), float4x4(-0.005225520115346,-0.073054157197475,-0.056117314845324,-0.112500816583633,0.010826637968421,0.001008557504974,0.046488758176565,0.031717572361231,-0.095344699919224,0.040968798100948,0.001020587165840,-0.079348735511303,0.047773912549019,-0.073773398995399,-0.010670321062207,-0.015146519057453));
res += mul(Get(s1,dx,dy), float4x4(0.076921030879021,-0.032329943031073,0.128686457872391,-0.057303223758936,0.029242683202028,0.044696580618620,0.001399224274792,0.028590580448508,0.128654509782791,0.057653948664665,0.053602650761604,-0.002002838533372,-0.038714010268450,0.047758977860212,0.153104096651077,0.063019320368767));
res += mul(Get(s2,-dx,-dy), float4x4(0.028087526559830,0.066214010119438,0.075459636747837,0.018578842282295,-0.062617190182209,-0.087756939232349,0.013611652888358,0.039579737931490,-0.019034998491406,-0.069055102765560,-0.163668826222420,0.030759021639824,0.046671528369188,0.025825280696154,0.031479880213737,0.042822096496820));
res += mul(Get(s2,-dx,0), float4x4(-0.070361256599426,0.043410189449787,-0.086975768208504,-0.017645485699177,-0.045817796140909,-0.051038630306721,0.108819037675858,0.014303473755717,-0.004200560506433,-0.090811640024185,-0.055548764765263,0.023210015147924,0.091353274881840,-0.115405894815922,-0.131938800215721,-0.044934228062630));
res += mul(Get(s2,-dx,dy), float4x4(0.008403685875237,0.202865362167358,-0.078914977610111,0.231632500886917,0.074690848588943,0.149968340992928,0.096742510795593,-0.086969375610352,0.003941495437175,-0.022802440449595,0.113768249750137,-0.169373854994774,0.096128456294537,-0.050521399825811,-0.074081428349018,-0.058878958225250));
res += mul(Get(s2,0,-dy), float4x4(0.035202395170927,0.077590636909008,0.003615978639573,0.039991702884436,-0.083737052977085,0.024428147822618,-0.006392335053533,-0.149289920926094,0.007349935825914,0.015055255964398,-0.181776612997055,0.025115465745330,0.022875793278217,0.038638629019260,-0.002026398200542,-0.041323196142912));
res += mul(Get(s2,0,0), float4x4(-0.003312486922368,-0.084510117769241,-0.023725129663944,-0.000850549899042,-0.135629639029503,-0.092787213623524,-0.051992461085320,0.003953493665904,-0.004966865759343,0.035197969526052,-0.050381533801556,-0.080581709742546,0.147569254040718,-0.190632745623589,-0.066469088196754,0.036861356347799));
res += mul(Get(s2,0,dy), float4x4(0.029454799368978,0.080404683947563,0.037852104753256,0.035125870257616,0.138941749930382,0.044247120618820,0.083020113408566,0.025880629196763,0.097324639558792,-0.074222914874554,0.225485056638718,-0.136467829346657,-0.071286603808403,-0.052502647042274,0.013409865088761,-0.010422458872199));
res += mul(Get(s2,dx,-dy), float4x4(-0.041437216103077,-0.044806942343712,-0.120600581169128,0.008132190443575,0.151940003037453,-0.040882673114538,0.099951505661011,0.024678623303771,0.136945039033890,-0.097528994083405,-0.156843617558479,-0.066820815205574,0.026682479307055,-0.032144635915756,-0.005206605885178,0.091270700097084));
res += mul(Get(s2,dx,0), float4x4(-0.051532268524170,-0.076093658804893,0.012868556194007,-0.007260429207236,0.037240751087666,-0.017657024785876,-0.016163324937224,0.071034885942936,-0.105592735111713,0.021794918924570,-0.002895028563216,-0.124754026532173,0.044392827898264,-0.179247274994850,-0.069353766739368,0.084255211055279));
res += mul(Get(s2,dx,dy), float4x4(-0.003281241282821,0.063999064266682,-0.046120744198561,-0.109757289290428,0.096996992826462,0.073114044964314,0.057449106127024,0.056870318949223,-0.072867125272751,-0.066109821200371,0.091959126293659,-0.093481257557869,0.178847685456276,0.081257879734039,-0.117749616503716,-0.048663821071386));
res += mul(Get(s3,-dx,-dy), float4x4(0.064443312585354,0.057524882256985,-0.044333174824715,-0.080714099109173,-0.041013322770596,0.055756732821465,-0.032551866024733,-0.024152118712664,0.013208732940257,-0.008774055168033,-0.154264658689499,-0.025407854467630,-0.071917988359928,0.051116771996021,-0.027074323967099,0.063728868961334));
res += mul(Get(s3,-dx,0), float4x4(-0.098773539066315,0.070061713457108,0.011703084222972,-0.052784625440836,-0.037266235798597,-0.030619062483311,-0.016140302643180,0.004991098307073,-0.082586266100407,-0.001651338534430,0.080297335982323,-0.076725132763386,-0.266639828681946,0.027607215568423,0.043151494115591,0.048589847981930));
res += mul(Get(s3,-dx,dy), float4x4(-0.141785815358162,0.024160079658031,0.011482127942145,0.022861722856760,-0.016965772956610,-0.138898193836212,-0.071739144623280,-0.057822834700346,-0.218739181756973,0.017854675650597,0.303431779146194,0.022893879562616,-0.110876798629761,-0.101224966347218,-0.041864059865475,-0.038756072521210));
res += mul(Get(s3,0,-dy), float4x4(0.114401362836361,0.010683519765735,-0.169825315475464,0.047057520598173,-0.020175900310278,-0.043661322444677,-0.012841306626797,-0.016695283353329,0.150282979011536,-0.037137079983950,-0.087248779833317,-0.072059102356434,0.037270355969667,-0.039053261280060,-0.105886317789555,0.153712496161461));
res += mul(Get(s3,0,0), float4x4(-0.042787525802851,-0.067642375826836,0.057261209934950,0.006112765520811,-0.065494149923325,0.042912982404232,0.023178799077868,0.099745504558086,0.001733933226205,-0.100322455167770,0.134249582886696,0.015413786284626,0.051964208483696,0.038555104285479,0.016798881813884,0.179649040102959));
res += mul(Get(s3,0,dy), float4x4(0.067271865904331,0.340390205383301,0.004126861691475,0.008104639127851,-0.017769899219275,0.026768861338496,-0.102363340556622,-0.070870183408260,-0.242986917495728,0.036538355052471,0.160096317529678,-0.025490486994386,-0.103396184742451,0.103743158280849,-0.064055047929287,0.069901451468468));
res += mul(Get(s3,dx,-dy), float4x4(0.105667263269424,0.009181557223201,-0.133794784545898,0.008330143988132,-0.091711841523647,0.004415874835104,0.006994408089668,0.001689783297479,0.118645787239075,-0.043121054768562,0.125606119632721,-0.058517128229141,0.049330059438944,-0.049171127378941,-0.074313849210739,0.047070607542992));
res += mul(Get(s3,dx,0), float4x4(-0.086241275072098,-0.091167651116848,-0.068701386451721,0.018698018044233,-0.039770696312189,-0.119490824639797,-0.032322946935892,0.029294088482857,0.176965922117233,-0.157539665699005,-0.011982840485871,0.248234212398529,-0.022889282554388,-0.029837878420949,0.027432128787041,0.083882130682468));
res += mul(Get(s3,dx,dy), float4x4(0.103513561189175,0.006776358000934,-0.017090350389481,-0.113029539585114,-0.032835043966770,-0.023825645446777,-0.004231998696923,-0.057982534170151,-0.122877039015293,-0.051434174180031,-0.015122110955417,-0.036481961607933,-0.097229301929474,-0.034951400011778,-0.094312891364098,-0.107613518834114));
return max(float4(0,0,0,0), res);
}
