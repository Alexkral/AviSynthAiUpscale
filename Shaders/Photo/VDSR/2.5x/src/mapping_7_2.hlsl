sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.017421018332243,0.051270063966513,0.018261807039380,0.058657038956881,-0.033348727971315,0.122737176716328,0.020407937467098,0.055033892393112,-0.013875602744520,0.146387085318565,-0.169607728719711,-0.012746531516314,-0.053862418979406,0.004390911199152,0.002434907481074,-0.018502755090594));
res += mul(Get(s0,-dx,0), float4x4(-0.041988682001829,0.008812291547656,-0.034545309841633,0.221397280693054,-0.038724750280380,-0.052894990891218,-0.028348188847303,0.016450546681881,-0.090252123773098,0.057734243571758,-0.013215053826571,-0.136563584208488,-0.035475250333548,-0.098290264606476,0.011916472576559,-0.139202430844307));
res += mul(Get(s0,-dx,dy), float4x4(0.009171758778393,0.054813336580992,-0.110636726021767,-0.074790529906750,-0.169868797063828,0.015120345167816,-0.047640036791563,-0.038408488035202,-0.080524586141109,0.006739183329046,-0.005687363911420,-0.023154536262155,-0.037833377718925,-0.079840600490570,-0.112490959465504,0.005710481200367));
res += mul(Get(s0,0,-dy), float4x4(-0.148097366094589,0.055073082447052,0.045746371150017,-0.131257995963097,-0.014422981068492,0.070861414074898,0.121714398264885,0.040308795869350,-0.014741085469723,-0.053688943386078,-0.121446028351784,-0.054023228585720,-0.059244394302368,0.156256094574928,0.013488212600350,0.043501496315002));
res += mul(Get(s0,0,0), float4x4(-0.128995597362518,-0.010099089704454,0.007603580132127,-0.005316904280335,0.042535390704870,0.159219101071358,0.277907043695450,0.004158996045589,-0.055171653628349,0.142535611987114,-0.111984081566334,0.001240333542228,0.016643239185214,0.027832902967930,0.016863375902176,-0.012303503230214));
res += mul(Get(s0,0,dy), float4x4(-0.030317228287458,-0.041380323469639,-0.037470661103725,0.003428928554058,0.023536583408713,0.101649992167950,0.055639795958996,0.076866522431374,-0.068574436008930,-0.041907131671906,-0.031170247122645,-0.050487563014030,0.031403429806232,0.035743981599808,0.006229000166059,0.153985127806664));
res += mul(Get(s0,dx,-dy), float4x4(-0.148263901472092,-0.063546612858772,-0.127856135368347,0.019030194729567,-0.027168333530426,-0.133162468671799,-0.030184032395482,0.028740232810378,0.136080354452133,-0.127543136477470,-0.092435501515865,0.073268860578537,-0.014265980571508,-0.005590948276222,0.141603052616119,-0.032438725233078));
res += mul(Get(s0,dx,0), float4x4(-0.090637482702732,-0.104798562824726,-0.000410037842812,0.092748545110226,-0.011999340727925,0.002748839557171,-0.023884957656264,0.004579698666930,0.008231506682932,-0.019652744755149,-0.043759152293205,-0.046851120889187,0.005143289454281,0.037544935941696,0.069100990891457,-0.071408331394196));
res += mul(Get(s0,dx,dy), float4x4(-0.039905145764351,-0.081413798034191,-0.039159920066595,0.099727533757687,-0.063444748520851,-0.034040328115225,-0.026344109326601,-0.058957513421774,0.076825529336929,-0.013938503339887,-0.071662560105324,-0.002414378570393,0.077169470489025,-0.046899948269129,0.161402001976967,-0.030409622937441));
res += mul(Get(s1,-dx,-dy), float4x4(-0.144279494881630,-0.001342108589597,-0.055981114506721,-0.021893337368965,-0.075066626071930,0.138726025819778,-0.060344208031893,-0.059586066752672,0.015804333612323,-0.097633473575115,-0.035148411989212,-0.050630547106266,0.008609797805548,0.087965980172157,0.098414659500122,0.056485764682293));
res += mul(Get(s1,-dx,0), float4x4(-0.104598566889763,-0.010628020390868,-0.003919486422092,-0.076764225959778,-0.049096561968327,0.155027866363525,0.048781465739012,0.104078307747841,0.144319668412209,-0.072701528668404,-0.022302504628897,0.056682091206312,-0.029947947710752,0.122472457587719,-0.135236114263535,-0.113408833742142));
res += mul(Get(s1,-dx,dy), float4x4(-0.142314776778221,0.045363787561655,-0.020595975220203,0.208810940384865,-0.107850871980190,0.027095133438706,-0.051302518695593,-0.050706345587969,0.087451115250587,0.047652095556259,0.061492811888456,0.001927539706230,0.007483379449695,-0.022244067862630,0.023865718394518,-0.085987754166126));
res += mul(Get(s1,0,-dy), float4x4(-0.065312266349792,-0.016047477722168,-0.030445523560047,0.081950917840004,-0.101854220032692,0.073140181601048,0.053333260118961,0.152414798736572,-0.006264441646636,-0.029357895255089,0.028955314308405,-0.001248948392458,0.110146172344685,-0.040103953331709,0.166107416152954,0.012973799370229));
res += mul(Get(s1,0,0), float4x4(-0.063306078314781,-0.036939453333616,0.019289627671242,-0.034271679818630,0.003738930914551,0.098226100206375,0.008613963611424,0.228092014789581,0.028627995401621,-0.041670069098473,-0.045826885849237,0.034416828304529,-0.056923441588879,-0.051422838121653,-0.137123942375183,-0.004331524949521));
res += mul(Get(s1,0,dy), float4x4(-0.097099870443344,-0.049180433154106,0.004017871338874,-0.000472349696793,-0.032527711242437,-0.050922885537148,0.031814020127058,0.105022475123405,-0.069510221481323,0.021025404334068,-0.025466026738286,-0.031185194849968,-0.024717552587390,0.018751345574856,0.172154873609543,0.148805111646652));
res += mul(Get(s1,dx,-dy), float4x4(-0.098969124257565,-0.039767917245626,-0.112043529748917,-0.076293416321278,-0.008777550421655,0.089145019650459,0.006281262263656,-0.083252668380737,-0.124944172799587,0.079186208546162,0.144134357571602,0.055757403373718,0.065584450960159,-0.020443890243769,-0.150558128952980,0.176726639270782));
res += mul(Get(s1,dx,0), float4x4(-0.065130077302456,-0.030996356159449,-0.128117725253105,-0.018297253176570,0.017742030322552,0.147404715418816,0.058421291410923,0.000661847065203,-0.015248469077051,-0.076780803501606,-0.003695152699947,0.177264884114265,0.074655286967754,0.025231197476387,-0.038505330681801,0.007744307164103));
res += mul(Get(s1,dx,dy), float4x4(-0.132871121168137,-0.000025743795049,-0.075253032147884,-0.092254295945168,-0.011903270147741,0.042409345507622,-0.038066297769547,0.020404059439898,-0.011290092021227,0.052313487976789,-0.022166065871716,0.162498936057091,0.141594856977463,-0.012404579669237,0.085046984255314,0.068567931652069));
res += mul(Get(s2,-dx,-dy), float4x4(-0.045003309845924,-0.072266288101673,-0.011618535034359,-0.126435428857803,-0.009006933309138,0.065595202147961,0.292421579360962,0.163428962230682,-0.115210875868797,-0.021817510947585,0.104249365627766,-0.131557494401932,-0.129395857453346,0.088285207748413,0.000902889820281,-0.059865124523640));
res += mul(Get(s2,-dx,0), float4x4(0.086154662072659,-0.057138793170452,-0.113803125917912,-0.067530810832977,-0.103799536824226,-0.003295266767964,-0.076861612498760,0.016028158366680,-0.054287970066071,0.023903016000986,-0.065715782344341,-0.136790111660957,0.003863004269078,-0.022514009848237,0.091119296848774,0.041539307683706));
res += mul(Get(s2,-dx,dy), float4x4(0.100767701864243,0.142031475901604,-0.044502552598715,-0.063846357166767,-0.004246093332767,0.004021618980914,-0.051652837544680,0.121241129934788,-0.086377851665020,-0.030368197709322,0.116237014532089,-0.039309751242399,-0.028416490182281,0.004442294593900,-0.061031926423311,0.128102019429207));
res += mul(Get(s2,0,-dy), float4x4(-0.061549108475447,-0.055048003792763,0.022766085341573,-0.150228694081306,0.074693500995636,0.095251157879829,0.060079507529736,-0.024359567090869,-0.100605688989162,-0.081452772021294,0.015990782529116,0.142458885908127,-0.019079994410276,-0.029928928241134,-0.093026176095009,-0.136013865470886));
res += mul(Get(s2,0,0), float4x4(0.237477049231529,-0.043356921523809,-0.019099995493889,-0.090684361755848,0.000411072600400,0.088294178247452,0.025858851149678,-0.023309743031859,-0.087051257491112,-0.002096884418279,0.114607766270638,0.119758740067482,0.005942149087787,0.043464258313179,0.038370165973902,-0.001893314649351));
res += mul(Get(s2,0,dy), float4x4(0.297032445669174,0.196858778595924,-0.039335019886494,-0.114662311971188,0.059810735285282,0.015588177368045,-0.004058477003127,0.002637993777171,-0.119528181850910,0.005033752415329,0.004298883490264,0.024891803041101,-0.046673059463501,0.096574485301971,0.126769319176674,0.029791489243507));
res += mul(Get(s2,dx,-dy), float4x4(-0.026683220639825,0.092288434505463,0.091046035289764,-0.108663693070412,0.060353782027960,-0.024228284135461,0.158646568655968,0.033226579427719,0.059642635285854,-0.090519204735756,0.104939319193363,-0.006076276302338,-0.005135734565556,0.028202999383211,-0.162194773554802,-0.068111054599285));
res += mul(Get(s2,dx,0), float4x4(-0.102667577564716,0.047142598778009,0.013132447376847,-0.085432335734367,0.096892751753330,-0.008939514867961,-0.024575352668762,-0.015230766497552,0.025944096967578,-0.005134748760611,0.294252693653107,0.034239865839481,0.075230166316032,-0.018830336630344,0.047376953065395,-0.085511013865471));
res += mul(Get(s2,dx,dy), float4x4(-0.158664628863335,0.012427205219865,-0.024963261559606,0.033790823072195,0.123788170516491,-0.000643560138997,-0.005760031286627,-0.036058023571968,0.006041133776307,0.021990137174726,0.063109964132309,-0.039164941757917,-0.167244955897331,-0.009247327223420,0.085474632680416,0.103709377348423));
res += mul(Get(s3,-dx,-dy), float4x4(-0.041570380330086,-0.028942842036486,0.040736079216003,-0.027431720867753,-0.011665190570056,-0.022223748266697,-0.053508833050728,-0.038964029401541,0.010686018504202,-0.037626326084137,-0.126052692532539,-0.170994818210602,0.074306204915047,-0.019794816151261,-0.013414118438959,-0.019913522526622));
res += mul(Get(s3,-dx,0), float4x4(0.114513523876667,-0.144294545054436,-0.135028362274170,-0.051823522895575,-0.047443646937609,-0.081342823803425,-0.057045634835958,-0.103352181613445,0.113725744187832,0.201001152396202,0.123300537467003,-0.295794725418091,0.094139784574509,-0.151214614510536,-0.069736868143082,-0.105525456368923));
res += mul(Get(s3,-dx,dy), float4x4(0.039591550827026,0.021752839908004,-0.107536077499390,0.022107873111963,0.057023048400879,-0.119866468012333,-0.132534161210060,0.056450366973877,0.044770881533623,-0.171222373843193,0.141547679901123,-0.169227436184883,0.011887205764651,-0.061654530465603,-0.037650305777788,-0.051220789551735));
res += mul(Get(s3,0,-dy), float4x4(-0.023099159821868,0.042264491319656,0.063551269471645,0.043855763971806,-0.075819343328476,0.007363041862845,-0.073909305036068,-0.018120056018233,0.019096055999398,-0.052400331944227,-0.119695276021957,-0.035417038947344,0.008616479113698,-0.071147844195366,0.076802484691143,-0.005585805978626));
res += mul(Get(s3,0,0), float4x4(-0.001616186811589,-0.142844691872597,0.075717732310295,-0.002343548228964,-0.005084393080324,-0.082025572657585,0.024357544258237,-0.077274210751057,0.046372041106224,0.099853649735451,0.066461414098740,0.093284420669079,0.119813263416290,0.016551196575165,0.030230691656470,0.039513934403658));
res += mul(Get(s3,0,dy), float4x4(0.094279631972313,-0.116403087973595,0.034393139183521,0.087784416973591,0.009558312594891,-0.095710068941116,-0.016479127109051,0.037741243839264,0.055656015872955,0.027127889916301,-0.000714749388862,0.008205308578908,-0.008606846444309,-0.096592299640179,-0.118837162852287,-0.045467372983694));
res += mul(Get(s3,dx,-dy), float4x4(0.006546753924340,0.077352203428745,-0.039509758353233,-0.102062746882439,-0.000083372317022,-0.099406413733959,-0.079773008823395,-0.036358438432217,-0.079202651977539,-0.051070977002382,0.008122588507831,-0.059585548937321,0.004924311302602,-0.041897788643837,0.045758154243231,0.054724495857954));
res += mul(Get(s3,dx,0), float4x4(0.014847315847874,-0.015589308924973,0.031192246824503,0.010263451375067,0.001145511050709,-0.041192855685949,-0.051954526454210,-0.017316145822406,0.137490928173065,0.091723859310150,0.086821570992470,0.126700311899185,0.019044535234571,0.034318495541811,0.015482914634049,-0.039305061101913));
res += mul(Get(s3,dx,dy), float4x4(0.097376160323620,-0.012561531737447,-0.096711099147797,0.019341740757227,0.191106885671616,-0.181850850582123,-0.068213708698750,0.122695192694664,-0.170770466327667,0.067548066377640,-0.006995556876063,0.088731989264488,0.042731359601021,-0.075217269361019,-0.077244013547897,-0.054598193615675));
return max(float4(0,0,0,0), res);
}
