sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.129199400544167,0.291242450475693,-0.018295835703611,-0.149205729365349,0.077909685671329,-0.008460798300803,-0.024870421737432,-0.105682358145714,0.011037603020668,0.106428362429142,-0.066767960786819,-0.157178267836571,-0.086976006627083,-0.014773285016418,-0.154761031270027,0.075270310044289));
res += mul(Get(s0,-dx,0), float4x4(0.030896045267582,0.006445906125009,-0.046063471585512,-0.117920681834221,0.028071941807866,0.067959092557430,-0.014962363988161,-0.076204061508179,0.005845856387168,-0.089288190007210,0.019550217315555,-0.145606175065041,0.002105770865455,-0.001584812998772,-0.037973895668983,-0.088870294392109));
res += mul(Get(s0,-dx,dy), float4x4(0.044855184853077,-0.092807285487652,-0.046197175979614,-0.018118897452950,-0.066670320928097,0.026314932852983,0.086334422230721,-0.074349239468575,0.008160103112459,0.064695179462433,-0.087561562657356,-0.035090520977974,0.012900351546705,0.286704927682877,-0.015716260299087,-0.029999140650034));
res += mul(Get(s0,0,-dy), float4x4(0.212822407484055,0.113769382238388,0.033167351037264,-0.071493044495583,0.039397615939379,-0.093994334340096,0.132390260696411,0.051213670521975,0.033517032861710,0.077842809259892,-0.062349405139685,-0.164446696639061,-0.043960299342871,-0.057717997580767,-0.206131055951118,0.027934530749917));
res += mul(Get(s0,0,0), float4x4(0.053613953292370,0.000665474741254,0.070142053067684,0.050942845642567,-0.113394342362881,0.024810757488012,0.053199350833893,0.017404684796929,-0.035350687801838,-0.061303328722715,0.024897960945964,-0.057183273136616,0.032732121646404,-0.009090600535274,-0.118761904537678,-0.056182384490967));
res += mul(Get(s0,0,dy), float4x4(0.070279374718666,-0.097460694611073,0.008180718868971,-0.041194602847099,-0.073738336563110,-0.047971285879612,0.144945308566093,-0.041235212236643,0.012177174910903,0.074245721101761,-0.027209857478738,0.050303496420383,0.004221761599183,0.082564592361450,-0.039558090269566,-0.088604472577572));
res += mul(Get(s0,dx,-dy), float4x4(0.025071823969483,0.079915843904018,-0.110823474824429,-0.012823984958231,-0.035186663269997,0.021183816716075,0.026819571852684,-0.030504129827023,-0.105184800922871,0.098289333283901,0.031955134123564,-0.006236827466637,0.012213316746056,0.062647536396980,-0.130397737026215,0.031404126435518));
res += mul(Get(s0,dx,0), float4x4(-0.084400355815887,0.033080905675888,0.070585303008556,0.002646356355399,-0.160865217447281,0.059842899441719,0.010449503548443,-0.086673356592655,-0.050852790474892,-0.116383396089077,0.022742649540305,0.072058163583279,0.079829335212708,-0.091382324695587,-0.097699478268623,-0.060059435665607));
res += mul(Get(s0,dx,dy), float4x4(0.011798679828644,0.060205601155758,-0.032870542258024,0.077617794275284,-0.009388446807861,-0.079288758337498,-0.050607942044735,-0.061138994991779,-0.113424591720104,0.104062408208847,-0.014999295584857,0.124149873852730,0.094248503446579,0.075262613594532,-0.209020599722862,0.010121705010533));
res += mul(Get(s1,-dx,-dy), float4x4(-0.057544827461243,-0.021499069407582,0.058463938534260,-0.017297264188528,-0.141748130321503,0.010514972731471,0.160843104124069,0.047708913683891,-0.116982422769070,-0.085209190845490,0.057030852884054,0.030163314193487,0.070717453956604,0.054548896849155,-0.053814150393009,0.129815176129341));
res += mul(Get(s1,-dx,0), float4x4(-0.105594687163830,0.101827099919319,0.135649710893631,-0.022272640839219,-0.020336212590337,0.015729360282421,0.126875266432762,-0.012184388004243,-0.087310373783112,-0.131839543581009,0.154516220092773,0.004830335266888,0.177134215831757,-0.002007371513173,-0.015486479736865,0.055728491395712));
res += mul(Get(s1,-dx,dy), float4x4(0.036235526204109,0.060946352779865,-0.028690185397863,0.017148656770587,-0.130320131778717,0.112089999020100,0.009564625099301,-0.085629530251026,-0.009526879526675,0.128112584352493,-0.018696766346693,0.032871875911951,0.032706689089537,0.070139363408089,0.005996844265610,0.050157189369202));
res += mul(Get(s1,0,-dy), float4x4(-0.030699048191309,-0.089834578335285,-0.099450729787350,-0.019509635865688,-0.064970687031746,0.095089063048363,-0.038970146328211,0.018396597355604,-0.067755267024040,-0.114609614014626,-0.046463951468468,0.058080356568098,0.001403541304171,0.115832567214966,-0.054985947906971,-0.018954137340188));
res += mul(Get(s1,0,0), float4x4(0.010381671600044,-0.025127204135060,-0.004054831806570,0.002365955850109,0.012930950149894,-0.012647167779505,0.060923192650080,-0.034527894109488,0.107528775930405,-0.045068383216858,-0.045253872871399,0.122174747288227,-0.029657240957022,-0.075834028422832,0.010104740969837,0.203602060675621));
res += mul(Get(s1,0,dy), float4x4(0.124909579753876,-0.091971725225449,0.066242359578609,-0.098688736557961,-0.073858655989170,-0.062464546412230,0.086782418191433,-0.043082572519779,0.093766197562218,0.120633415877819,0.072769947350025,-0.021929044276476,0.010082430206239,-0.011608610861003,-0.016850395128131,-0.068043559789658));
res += mul(Get(s1,dx,-dy), float4x4(-0.070479728281498,0.005091326311231,0.100560724735260,0.092526420950890,0.010344150476158,0.119801856577396,-0.028361896052957,0.022760329768062,-0.048908218741417,-0.056917481124401,0.009170541539788,0.204928934574127,-0.024185789749026,-0.008282694965601,-0.095675349235535,0.006103643216193));
res += mul(Get(s1,dx,0), float4x4(-0.003301528282464,-0.063386678695679,-0.089418843388557,-0.029554791748524,0.088969707489014,-0.032430004328489,-0.099873423576355,0.143602922558784,0.033599983900785,-0.083105891942978,-0.114114873111248,0.101328313350677,-0.072736904025078,-0.158378586173058,-0.114485926926136,0.193541213870049));
res += mul(Get(s1,dx,dy), float4x4(0.060789871960878,-0.075473777949810,0.170625433325768,-0.139245256781578,0.080883949995041,0.012889275327325,-0.065913468599319,-0.077802479267120,0.136629700660706,0.005690592806786,0.126656338572502,-0.064604654908180,0.007395080756396,-0.024639384821057,-0.113221488893032,-0.103044815361500));
res += mul(Get(s2,-dx,-dy), float4x4(-0.204193994402885,0.007904100231826,-0.019170587882400,-0.071494325995445,-0.038575824350119,-0.175996661186218,-0.016712222248316,0.027277769520879,-0.019184431061149,0.046484626829624,-0.049429725855589,-0.078874491155148,0.058733660727739,0.001413819845766,-0.019215755164623,-0.036400534212589));
res += mul(Get(s2,-dx,0), float4x4(-0.178148284554482,0.097812660038471,0.050743024796247,-0.063737720251083,0.222611010074615,-0.082218691706657,-0.001218178658746,-0.064557708799839,0.106481686234474,0.040115557610989,-0.103112421929836,-0.033725287765265,0.045130711048841,0.108855359256268,0.047606553882360,0.003788542468101));
res += mul(Get(s2,-dx,dy), float4x4(0.021017352119088,-0.173760563135147,0.052244357764721,-0.102481931447983,0.163951486349106,0.021101370453835,-0.078612104058266,-0.081972435116768,0.029409380629659,0.165530607104301,0.014255308546126,-0.019936867058277,0.017290227115154,0.053236018866301,0.112299017608166,0.014158017933369));
res += mul(Get(s2,0,-dy), float4x4(-0.047572337090969,-0.002088856650516,-0.057220332324505,-0.086004421114922,-0.111959844827652,-0.080581910908222,-0.077774263918400,-0.037151742726564,-0.078234538435936,0.016975762322545,0.090347282588482,-0.003340637311339,-0.055851384997368,-0.002826214069501,-0.050004836171865,0.130748793482780));
res += mul(Get(s2,0,0), float4x4(-0.040419250726700,0.134626537561417,-0.013663389720023,0.067720606923103,-0.055604018270969,-0.060110531747341,0.033562466502190,-0.123450957238674,0.012508830055594,-0.060353618115187,-0.024699106812477,0.062819346785545,-0.093122139573097,-0.007491630036384,-0.030168706551194,0.014069038443267));
res += mul(Get(s2,0,dy), float4x4(0.096222169697285,-0.057448260486126,0.099461279809475,-0.035613488405943,-0.091863527894020,-0.065405718982220,0.034826513379812,0.098004110157490,0.014136113226414,0.068670585751534,0.060342188924551,0.008788747712970,-0.015102840960026,0.113306775689125,0.036005862057209,0.017657173797488));
res += mul(Get(s2,dx,-dy), float4x4(-0.014619885943830,-0.005865281447768,-0.082151055335999,-0.146173328161240,0.065936617553234,-0.044148929417133,-0.023432016372681,0.011820628307760,-0.072771258652210,-0.018581662327051,0.125974625349045,0.039500083774328,-0.083252534270287,0.091247923672199,-0.065108619630337,0.027252551168203));
res += mul(Get(s2,dx,0), float4x4(0.074300661683083,-0.063835881650448,-0.047428485006094,-0.054749879986048,-0.070449449121952,-0.027280883863568,0.058370180428028,0.092462055385113,-0.017020642757416,-0.027632657438517,0.081179529428482,0.014053879305720,-0.028100403025746,0.029044173657894,-0.007063905708492,-0.026522327214479));
res += mul(Get(s2,dx,dy), float4x4(0.089712083339691,-0.060294274240732,0.167347803711891,-0.034927681088448,-0.150047510862350,-0.027808059006929,0.027980118989944,0.070072159171104,-0.063238754868507,0.148235872387886,0.019081331789494,0.151955425739288,0.074488036334515,-0.010798297822475,0.013628952205181,0.038648188114166));
res += mul(Get(s3,-dx,-dy), float4x4(0.049724109470844,-0.071954481303692,-0.038148164749146,-0.011288912966847,-0.048321522772312,-0.048399653285742,0.064286068081856,0.040201626718044,-0.101157292723656,0.022837989032269,0.161247313022614,-0.046032320708036,-0.023059027269483,-0.051863692700863,0.045043062418699,0.048304881900549));
res += mul(Get(s3,-dx,0), float4x4(-0.017058724537492,-0.034060660749674,-0.090360708534718,0.012586383149028,-0.006760888267308,-0.023276815190911,0.058010336011648,-0.002394875977188,-0.101821877062321,0.012913700193167,0.180991768836975,-0.085502013564110,0.004443677142262,-0.060607582330704,0.003012663684785,0.029746824875474));
res += mul(Get(s3,-dx,dy), float4x4(0.060742881149054,0.035347215831280,-0.040462315082550,0.053835745900869,-0.005057491827756,-0.078680016100407,-0.026488823816180,-0.080569840967655,0.003940890543163,0.007423227187246,-0.013916105031967,-0.059049338102341,-0.079283870756626,0.065192155539989,-0.087091282010078,-0.021431233733892));
res += mul(Get(s3,0,-dy), float4x4(-0.056287113577127,-0.004834699444473,0.013523530215025,0.028163781389594,-0.046658474951982,-0.061599440872669,0.157333567738533,0.079080298542976,-0.021967373788357,0.047999970614910,-0.021750194951892,0.094370529055595,-0.033675175160170,-0.063633918762207,-0.039032578468323,0.098652862012386));
res += mul(Get(s3,0,0), float4x4(0.158639773726463,-0.005224950145930,-0.088279828429222,0.050453223288059,0.133169248700142,0.049446389079094,0.050957486033440,0.093623913824558,0.123245276510715,0.116776883602142,0.090545929968357,0.069411374628544,-0.013379178941250,-0.086999103426933,0.077989980578423,0.027678327634931));
res += mul(Get(s3,0,dy), float4x4(-0.115856796503067,0.107762277126312,-0.105212695896626,0.102141477167606,0.088254012167454,-0.055306896567345,0.103802479803562,0.077699087560177,0.107747562229633,0.003548192093149,-0.058524180203676,-0.096900172531605,-0.009261019527912,0.000489930447657,-0.017795760184526,-0.047419898211956));
res += mul(Get(s3,dx,-dy), float4x4(0.123757764697075,0.062904953956604,0.162137597799301,0.106391593813896,0.034768767654896,-0.112788282334805,-0.017487246543169,0.051980238407850,-0.006432736758143,-0.058025918900967,0.121686458587646,-0.099602930247784,0.029478570446372,-0.023390093818307,-0.033419754356146,0.040144555270672));
res += mul(Get(s3,dx,0), float4x4(0.043494768440723,0.078763797879219,-0.091699652373791,0.120920151472092,-0.004691483452916,0.123760238289833,0.036702938377857,0.066011153161526,0.037071041762829,-0.089750766754150,0.032220266759396,0.072920732200146,0.054346241056919,-0.017769856378436,0.046730767935514,-0.052705615758896));
res += mul(Get(s3,dx,dy), float4x4(-0.068705871701241,0.059309493750334,-0.087057977914810,0.182174012064934,0.036781609058380,-0.029943251982331,0.079773657023907,0.022065725177526,0.014612608589232,-0.041490606963634,-0.029391910880804,0.020844351500273,0.060796570032835,0.002652986673638,0.006874243263155,-0.084927663207054));
return max(float4(0,0,0,0), res);
}
