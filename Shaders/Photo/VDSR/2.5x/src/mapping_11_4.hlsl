sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.063430160284042,-0.036986123770475,0.094113796949387,-0.237912267446518,0.071964807808399,-0.037527251988649,-0.093968719244003,0.075320661067963,0.146469756960869,-0.046689316630363,-0.053328860551119,-0.082581304013729,-0.018710196018219,-0.133012935519218,-0.046347297728062,0.146265462040901));
res += mul(Get(s0,-dx,0), float4x4(-0.015559607185423,-0.019432913511992,-0.028549788519740,0.097272142767906,0.137505382299423,-0.039922844618559,-0.108890280127525,-0.082350909709930,0.077861174941063,0.094183288514614,0.030417760834098,0.043396603316069,-0.071829259395599,0.025902573019266,0.058775715529919,0.018323944881558));
res += mul(Get(s0,-dx,dy), float4x4(-0.051347397267818,0.105301052331924,-0.044977672398090,-0.066728413105011,-0.120441228151321,0.081916704773903,0.012478097341955,-0.158218130469322,-0.051636163145304,0.211488619446754,0.199866905808449,-0.095504224300385,-0.087615296244621,0.032042182981968,0.019810313358903,-0.264663130044937));
res += mul(Get(s0,0,-dy), float4x4(-0.077702239155769,0.015385934151709,-0.081604942679405,0.179684758186340,-0.063186414539814,-0.068072676658630,0.124109677970409,0.213568031787872,0.291560351848602,0.040182091295719,0.099963553249836,-0.098209053277969,-0.059069190174341,-0.082747489213943,0.040465656667948,-0.122710511088371));
res += mul(Get(s0,0,0), float4x4(-0.083537638187408,0.029378075152636,-0.013251164928079,0.209461137652397,-0.212536066770554,0.059361390769482,0.034942295402288,0.108760818839073,-0.141383320093155,0.019941048696637,0.107241995632648,0.015899291262031,-0.051188979297876,-0.090702831745148,-0.106330916285515,0.079005725681782));
res += mul(Get(s0,0,dy), float4x4(-0.205333188176155,-0.042648848146200,0.051150795072317,-0.112982310354710,0.079532667994499,-0.145146250724792,0.023349819704890,-0.049550678580999,-0.134716376662254,0.140017032623291,0.075528189539909,0.020135739818215,0.021532826125622,0.095107823610306,-0.103277683258057,-0.139227539300919));
res += mul(Get(s0,dx,-dy), float4x4(0.045897446572781,0.197888061404228,-0.005359002854675,0.227334707975388,-0.047368511557579,-0.001545821083710,0.012500051409006,0.022744415327907,0.076010592281818,0.034394327551126,-0.142620012164116,-0.111070245504379,0.080759868025780,-0.245763048529625,-0.001819602563046,0.169771313667297));
res += mul(Get(s0,dx,0), float4x4(0.293131828308105,0.177130222320557,0.156568646430969,-0.043692260980606,-0.010928082279861,0.035908386111259,0.005490405950695,0.048955716192722,0.091706812381744,-0.084425188601017,0.119237780570984,0.171868175268173,-0.011865974403918,0.072057098150253,-0.040476363152266,-0.033765908330679));
res += mul(Get(s0,dx,dy), float4x4(0.032104223966599,-0.125723809003830,-0.005476714111865,-0.125241011381149,-0.221591472625732,-0.135995715856552,-0.098725639283657,-0.145321577787399,-0.056515544652939,-0.018130198121071,-0.278117656707764,-0.047267079353333,-0.047922540456057,-0.089058972895145,-0.117523550987244,0.083976522088051));
res += mul(Get(s1,-dx,-dy), float4x4(-0.066660992801189,0.179267689585686,-0.084175772964954,-0.033196985721588,-0.073973715305328,0.067669473588467,-0.078449636697769,0.040546316653490,0.048737209290266,-0.115651555359364,-0.043282493948936,0.153765514492989,0.012730563990772,0.055005352944136,-0.110673941671848,0.071656212210655));
res += mul(Get(s1,-dx,0), float4x4(-0.136887207627296,0.063888706266880,0.016120728105307,-0.037951633334160,-0.121687576174736,-0.020993201062083,0.156232163310051,-0.114035524427891,0.010792342014611,-0.145813152194023,0.059660840779543,-0.111056648194790,0.045126225799322,0.018705783411860,-0.250262409448624,0.045962952077389));
res += mul(Get(s1,-dx,dy), float4x4(-0.015031645074487,-0.103864371776581,-0.210783511400223,0.089574351906776,-0.119666092097759,-0.003139009466395,-0.014700531959534,0.005319221876562,0.048762127757072,0.062866628170013,-0.028429863974452,-0.145536869764328,-0.001321648946032,0.114230804145336,0.084340639412403,0.048787679523230));
res += mul(Get(s1,0,-dy), float4x4(-0.084464170038700,-0.095362059772015,-0.156656056642532,-0.039478875696659,-0.077697046101093,-0.004978256765753,-0.173458263278008,0.076985090970993,0.062643341720104,0.178143247961998,-0.158351391553879,0.090730018913746,0.122872635722160,0.171797424554825,-0.058835320174694,0.018527431413531));
res += mul(Get(s1,0,0), float4x4(-0.131800085306168,0.082783527672291,0.107091553509235,-0.148077532649040,-0.156149104237556,0.075604349374771,-0.164493575692177,-0.021065149456263,0.036253105849028,0.021175868809223,0.004072143230587,-0.033925406634808,-0.141831845045090,0.030669517815113,0.196037799119949,0.069599926471710));
res += mul(Get(s1,0,dy), float4x4(0.135135695338249,-0.133577212691307,0.000977577059530,-0.140050649642944,0.005896112881601,-0.022811749950051,-0.055224232375622,0.018041586503386,-0.154110506176949,-0.052035436034203,0.199896410107613,0.122547395527363,0.310538232326508,-0.067029915750027,-0.092513680458069,-0.063191130757332));
res += mul(Get(s1,dx,-dy), float4x4(0.053887270390987,0.030252804979682,0.252363950014114,0.032422918826342,-0.113182015717030,0.093414269387722,0.029279543086886,-0.014064957387745,-0.107298828661442,-0.016580268740654,-0.049129653722048,0.045840062201023,0.011833509430289,0.150515004992485,-0.012562314048409,-0.007145030889660));
res += mul(Get(s1,dx,0), float4x4(0.205460801720619,0.001632023719139,0.045120697468519,-0.034130506217480,-0.139615684747696,-0.121908046305180,-0.233139261603355,0.090269193053246,-0.022866830229759,-0.052221082150936,-0.009773212485015,0.104121625423431,-0.081708177924156,0.017927782610059,-0.157447814941406,0.203476160764694));
res += mul(Get(s1,dx,dy), float4x4(0.116270810365677,-0.126226484775543,0.063524320721626,0.090785615146160,0.031648881733418,-0.001535207848065,-0.078803434967995,-0.124231927096844,0.049804739654064,0.107765041291714,0.057639975100756,0.037846881896257,-0.054536662995815,0.072172231972218,-0.067396007478237,0.094745658338070));
res += mul(Get(s2,-dx,-dy), float4x4(-0.303301632404327,0.101171195507050,0.011485946364701,0.031929090619087,0.166217103600502,-0.021761219948530,0.062201887369156,0.014059810899198,-0.166920125484467,0.004170490428805,-0.028231326490641,-0.053794547915459,-0.029338954016566,0.100990995764732,0.056453302502632,0.154915496706963));
res += mul(Get(s2,-dx,0), float4x4(0.093295872211456,-0.055375203490257,-0.049393080174923,0.052608996629715,0.067447312176228,-0.102451220154762,0.071924336254597,-0.007808264810592,0.017172999680042,0.049108378589153,-0.068930320441723,0.073708362877369,0.058709528297186,0.004352040123194,-0.108424521982670,-0.171864882111549));
res += mul(Get(s2,-dx,dy), float4x4(0.038123022764921,-0.139312401413918,0.122506551444530,0.223124414682388,-0.036012202501297,-0.017008554190397,0.001783000538126,0.076376341283321,0.016756154596806,0.024466205388308,-0.009883621707559,0.123222671449184,-0.071254462003708,-0.063944526016712,0.078612565994263,-0.055157624185085));
res += mul(Get(s2,0,-dy), float4x4(0.028976486995816,-0.030801227316260,0.004636439494789,-0.225642323493958,0.021975910291076,-0.202275082468987,0.078107081353664,-0.097515188157558,0.021033855155110,0.046021111309528,0.137780904769897,0.042912222445011,-0.071130707859993,-0.015694517642260,0.100988648831844,0.088988482952118));
res += mul(Get(s2,0,0), float4x4(0.184189289808273,0.160591080784798,-0.063431002199650,0.028741478919983,-0.077015385031700,-0.062481489032507,-0.035452026873827,0.001137208892033,0.055925026535988,0.029470391571522,0.139211520552635,-0.027319036424160,0.203404963016510,-0.074537493288517,-0.036707509309053,0.172148361802101));
res += mul(Get(s2,0,dy), float4x4(0.071253731846809,-0.035634648054838,0.100517347455025,-0.034882672131062,-0.084967248141766,-0.011089285835624,-0.204772397875786,0.178909689188004,-0.166341960430145,0.006160534918308,0.182129651308060,0.088280469179153,-0.125979766249657,0.022102441638708,-0.079493314027786,-0.129322618246078));
res += mul(Get(s2,dx,-dy), float4x4(0.188266292214394,-0.021271822974086,-0.204405471682549,-0.090345084667206,-0.132744908332825,-0.035310450941324,-0.021534010767937,-0.040340285748243,-0.138635292649269,-0.142495125532150,-0.069804072380066,0.083081297576427,0.119965150952339,-0.050240408629179,0.029543578624725,0.084976390004158));
res += mul(Get(s2,dx,0), float4x4(0.049122810363770,-0.093291863799095,0.004634030163288,-0.148101493716240,-0.038952708244324,0.085290051996708,-0.106015324592590,0.069608367979527,0.064786411821842,-0.017138123512268,0.025987086817622,-0.141623854637146,0.105794005095959,-0.006761100143194,0.072310194373131,0.063490465283394));
res += mul(Get(s2,dx,dy), float4x4(0.091394945979118,0.095461651682854,0.058207090944052,-0.021779455244541,-0.003782839048654,-0.140871345996857,-0.102009564638138,-0.071719899773598,-0.164145037531853,-0.014451120980084,0.209158912301064,0.012009112164378,-0.111842408776283,0.052879869937897,0.039204511791468,-0.083895727992058));
res += mul(Get(s3,-dx,-dy), float4x4(-0.140386313199997,-0.141204804182053,-0.158342227339745,-0.008269780315459,-0.057852290570736,0.078909583389759,-0.091559588909149,0.153662398457527,-0.108129993081093,-0.104967914521694,-0.050241626799107,0.083641774952412,-0.049202278256416,-0.056517504155636,0.075917877256870,-0.018939839676023));
res += mul(Get(s3,-dx,0), float4x4(0.049747884273529,-0.028804901987314,-0.027028787881136,-0.051080722361803,0.114086657762527,0.174252256751060,-0.202288746833801,0.146897017955780,-0.080957420170307,-0.219698831439018,0.101877175271511,-0.022730488330126,0.200231164693832,-0.096803426742554,-0.123255640268326,-0.111305579543114));
res += mul(Get(s3,-dx,dy), float4x4(-0.097024984657764,-0.108353003859520,-0.143285661935806,-0.010999226011336,-0.181324720382690,0.038781866431236,0.033364370465279,0.010147482156754,-0.075720787048340,0.014955407939851,-0.149946361780167,0.179500252008438,-0.198241397738457,-0.072933070361614,-0.103207759559155,-0.118765175342560));
res += mul(Get(s3,0,-dy), float4x4(0.059727482497692,-0.001559191732667,-0.130617976188660,0.010196193121374,0.045050341635942,0.050904236733913,0.047622743993998,-0.109107084572315,-0.014915948733687,0.068036086857319,-0.112428620457649,0.059070248156786,-0.085596077144146,0.149165898561478,-0.029307594522834,0.094345845282078));
res += mul(Get(s3,0,0), float4x4(-0.016435924917459,0.008588642813265,0.069846585392952,-0.093489222228527,-0.004093518014997,-0.036270420998335,-0.026430163532495,-0.144816577434540,-0.010765904560685,-0.072754554450512,-0.031216297298670,-0.122865706682205,-0.062964655458927,-0.134093493223190,0.213092073798180,-0.058878879994154));
res += mul(Get(s3,0,dy), float4x4(0.100591160356998,-0.049037914723158,-0.017007084563375,0.185707032680511,0.035541672259569,-0.144541025161743,0.214282959699631,-0.147176146507263,-0.108863249421120,0.049020312726498,-0.071452923119068,0.265749871730804,-0.206124395132065,0.054197262972593,-0.067368023097515,-0.072836406528950));
res += mul(Get(s3,dx,-dy), float4x4(0.103627309203148,0.123164951801300,0.003539961995557,0.142005071043968,0.068499974906445,-0.063770867884159,0.003971369005740,0.105379790067673,0.210135444998741,-0.057812433689833,-0.036215040832758,-0.060093183070421,-0.013851901516318,-0.036662779748440,-0.048894587904215,0.050499856472015));
res += mul(Get(s3,dx,0), float4x4(0.018886767327785,0.060229156166315,-0.074139237403870,-0.043730214238167,-0.012229419313371,0.037899918854237,-0.062775634229183,0.094455443322659,-0.024321915581822,0.017186239361763,-0.052650693804026,0.020183622837067,0.067921347916126,0.004110965877771,-0.058942705392838,-0.040106285363436));
res += mul(Get(s3,dx,dy), float4x4(0.105391196906567,0.107386976480484,0.102824732661247,0.024431763216853,-0.138332247734070,0.082232885062695,0.001954911742359,-0.157095372676849,-0.188825160264969,-0.018782163038850,0.102460637688637,0.088927276432514,0.159531489014626,-0.077919460833073,-0.025580976158381,0.137223049998283));
return max(float4(0,0,0,0), res);
}
