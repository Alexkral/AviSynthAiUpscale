sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.039929363876581,-0.147578850388527,-0.090964354574680,0.270112425088882,0.023625228554010,0.139560729265213,-0.089561022818089,0.077783569693565,-0.076779566705227,0.003168147522956,-0.029680421575904,0.037926089018583,0.111837223172188,-0.102973751723766,0.034165292978287,0.082945361733437));
res += mul(Get(s0,-dx,0), float4x4(-0.086696155369282,-0.033175196498632,-0.028816374018788,0.211628139019012,0.147536352276802,0.256854087114334,-0.006755508016795,-0.094571977853775,-0.075112819671631,-0.095267482101917,-0.036578718572855,0.039417061954737,-0.083474799990654,0.016392951831222,0.014121629297733,-0.044019915163517));
res += mul(Get(s0,-dx,dy), float4x4(0.025301465764642,0.070244535803795,0.076521940529346,-0.047540385276079,0.243409544229507,0.139986276626587,-0.034545116126537,-0.064649984240532,-0.090953722596169,-0.022604133933783,0.087175622582436,-0.101835593581200,-0.109505623579025,-0.119828425347805,-0.109830677509308,-0.032943278551102));
res += mul(Get(s0,0,-dy), float4x4(-0.040194496512413,0.141659796237946,-0.108673214912415,0.162665396928787,0.086738735437393,0.036917768418789,-0.045787189155817,0.002321972278878,-0.070401817560196,-0.000535662984475,-0.045629501342773,0.049152914434671,-0.044960364699364,0.019593320786953,0.048521984368563,0.155747279524803));
res += mul(Get(s0,0,0), float4x4(-0.019647926092148,0.152420476078987,-0.150948181748390,0.090807251632214,-0.066027022898197,0.045305442065001,0.114056907594204,0.071809589862823,-0.035017304122448,0.070854328572750,0.064302973449230,0.035645954310894,-0.101158492267132,0.120870761573315,0.104826271533966,0.021540718153119));
res += mul(Get(s0,0,dy), float4x4(-0.038358863443136,-0.079682320356369,0.123366177082062,0.033166702836752,-0.006215826142579,0.015572478994727,0.050029218196869,0.046148344874382,-0.016283910721540,0.000794228340965,0.144423142075539,-0.073084391653538,-0.082890950143337,0.000751044019125,0.181452333927155,0.056923713535070));
res += mul(Get(s0,dx,-dy), float4x4(-0.043397832661867,0.010688713751733,0.129716619849205,0.065951570868492,0.070033572614193,0.068976715207100,-0.013409019447863,0.001994516234845,-0.001228197477758,-0.146182015538216,-0.050333090126514,0.005098921712488,0.070783525705338,-0.023719448596239,0.110122002661228,-0.066928535699844));
res += mul(Get(s0,dx,0), float4x4(0.028498761355877,0.058774083852768,-0.056056220084429,0.044846303761005,-0.123238690197468,0.080883830785751,-0.010479924269021,-0.051914643496275,0.059691362082958,0.127762258052826,-0.072339259088039,0.105778723955154,0.114434719085693,0.023404479026794,0.019935583695769,0.099082067608833));
res += mul(Get(s0,dx,dy), float4x4(0.160220161080360,0.114811994135380,0.041066825389862,-0.074565500020981,0.023833010345697,-0.079288035631180,-0.025988450273871,0.041167836636305,0.072687342762947,-0.022758638486266,-0.028986439108849,-0.080927632749081,0.110883392393589,0.076916649937630,-0.091774672269821,-0.006849523633718));
res += mul(Get(s1,-dx,-dy), float4x4(-0.056368559598923,-0.151232257485390,0.162963896989822,-0.147740200161934,-0.078958868980408,-0.100479200482368,-0.085953749716282,-0.057413190603256,-0.053181741386652,-0.090497978031635,0.043759614229202,0.027269136160612,0.009813814423978,-0.116955265402794,0.018870787695050,-0.013627582229674));
res += mul(Get(s1,-dx,0), float4x4(-0.202103272080421,-0.013342053629458,0.080506287515163,-0.108572706580162,-0.020655458793044,-0.057579636573792,0.114043243229389,-0.056580170989037,-0.009243384934962,-0.011576036922634,-0.074987322092056,-0.053857669234276,-0.057078376412392,-0.017528412863612,0.050791718065739,0.006464666686952));
res += mul(Get(s1,-dx,dy), float4x4(-0.081120207905769,-0.093933723866940,0.036580752581358,-0.092364937067032,0.009653368033469,0.023767540231347,0.067329421639442,0.002069617155939,0.034889217466116,-0.077089197933674,0.029616154730320,-0.084648244082928,-0.089327111840248,-0.012447227723897,-0.072405539453030,0.050434783101082));
res += mul(Get(s1,0,-dy), float4x4(-0.020367654040456,-0.072267934679985,0.019348610192537,0.101070120930672,0.018944723531604,0.010207842104137,-0.025780217722058,0.086068071424961,-0.015156932175159,-0.112801067531109,0.079672597348690,0.041666515171528,-0.039693601429462,-0.122296392917633,0.065090313553810,0.017532130703330));
res += mul(Get(s1,0,0), float4x4(0.048436552286148,-0.004681933671236,0.181769281625748,-0.105611607432365,0.035402964800596,-0.074843600392342,0.054216545075178,-0.013883924111724,-0.045218147337437,-0.004460743628442,0.057539254426956,-0.103324390947819,-0.013684023171663,-0.008186737075448,-0.001297988696024,0.046597190201283));
res += mul(Get(s1,0,dy), float4x4(0.057875480502844,0.011749031022191,-0.003443015739322,-0.062865115702152,-0.065732002258301,-0.040404465049505,-0.129028245806694,0.002142467303202,-0.026988416910172,-0.140714198350906,0.072093635797501,0.009670920670033,-0.150716155767441,0.057390429079533,-0.013098124414682,0.007962606847286));
res += mul(Get(s1,dx,-dy), float4x4(0.040520060807467,0.029349386692047,0.044723328202963,0.029142579063773,0.097559176385403,-0.159467175602913,-0.009356220252812,0.125634118914604,0.081284716725349,-0.061383232474327,0.110956408083439,0.066687270998955,-0.013673218898475,-0.084109090268612,0.047787427902222,-0.041665341705084));
res += mul(Get(s1,dx,0), float4x4(0.093893334269524,0.157238543033600,0.139946475625038,-0.067928329110146,0.160716399550438,-0.034062463790178,0.128223285079002,-0.050697345286608,0.053295657038689,0.015829263255000,0.030598588287830,-0.070965267717838,0.111425094306469,0.027372375130653,-0.013948361389339,0.007167626637965));
res += mul(Get(s1,dx,dy), float4x4(0.120114780962467,0.060262024402618,-0.013939518481493,-0.151644796133041,0.007585230283439,-0.025178667157888,-0.019146088510752,-0.063377030193806,-0.001727901981212,-0.002829685341567,-0.053796470165253,-0.017227903008461,-0.078677333891392,0.005353688728064,0.113440580666065,-0.029091505333781));
res += mul(Get(s2,-dx,-dy), float4x4(0.033565163612366,-0.098117403686047,0.036433883011341,-0.050653267651796,0.132645636796951,-0.038855347782373,-0.033405199646950,-0.020991314202547,-0.054659269750118,0.144262149930000,-0.078181035816669,0.002832164987922,-0.077520720660686,-0.104914955794811,0.044945269823074,0.012231565080583));
res += mul(Get(s2,-dx,0), float4x4(0.074975885450840,0.010794469155371,0.022304527461529,-0.008822724223137,0.095580190420151,-0.046438354998827,-0.031112484633923,0.038242392241955,-0.080480352044106,0.078107632696629,0.022852143272758,-0.033192612230778,-0.007659922353923,-0.068059816956520,0.018288068473339,0.098433330655098));
res += mul(Get(s2,-dx,dy), float4x4(0.049136143177748,-0.004722262732685,0.010962374508381,-0.068125329911709,0.015201271511614,-0.052848570048809,0.078159391880035,-0.080208174884319,-0.010274902917445,-0.018477551639080,-0.025510057806969,0.027155924588442,0.057797145098448,0.010086115449667,-0.009806912392378,-0.007570543792099));
res += mul(Get(s2,0,-dy), float4x4(0.047364208847284,-0.013426335528493,-0.072721824049950,-0.048491682857275,0.053413901478052,0.013375532813370,-0.086881391704082,-0.042479954659939,-0.086038500070572,0.050180852413177,-0.013730574399233,0.023291867226362,0.022686103358865,-0.247091889381409,-0.032722271978855,-0.029349006712437));
res += mul(Get(s2,0,0), float4x4(-0.012791223824024,-0.066193796694279,0.070646815001965,-0.063983254134655,0.017734857276082,0.193312823772430,0.149785265326500,0.082708761096001,-0.002313175937161,-0.038381148129702,0.137492671608925,0.004489533137530,-0.025157634168863,-0.004130565561354,-0.042034346610308,0.029604207724333));
res += mul(Get(s2,0,dy), float4x4(-0.077607326209545,0.021738881245255,-0.034130249172449,-0.075931727886200,0.054050784558058,-0.023983985185623,-0.007512652315199,-0.019212296232581,0.023253235965967,-0.046940099447966,-0.014673524536192,0.022749366238713,-0.012977818027139,-0.029560428112745,0.024776404723525,-0.026021663099527));
res += mul(Get(s2,dx,-dy), float4x4(0.061624053865671,0.002387149725109,0.003296695183963,0.107056058943272,0.071722045540810,-0.010943458415568,-0.094587564468384,0.086023040115833,0.006012992933393,0.266710489988327,-0.054154995828867,-0.047012038528919,0.083740063011646,-0.262836247682571,0.056025885045528,-0.026413261890411));
res += mul(Get(s2,dx,0), float4x4(-0.002657223027200,0.238692998886108,0.143358737230301,-0.111314460635185,0.013673209585249,-0.013047057203948,0.093254931271076,-0.006003607064486,0.062284033745527,0.023736717179418,-0.064413055777550,-0.018311370164156,-0.100592710077763,0.107237800955772,-0.063285149633884,-0.099231243133545));
res += mul(Get(s2,dx,dy), float4x4(-0.035480219870806,0.078153036534786,0.077896371483803,-0.093717038631439,0.170967966318130,-0.111821264028549,0.022438053041697,0.007695427164435,0.023829311132431,0.128514990210533,0.002467826474458,-0.055406063795090,-0.028786569833755,0.139105245471001,-0.070107743144035,-0.065020553767681));
res += mul(Get(s3,-dx,-dy), float4x4(0.058310110121965,-0.091806843876839,-0.000278765073745,0.023147450760007,-0.114321745932102,0.021398171782494,0.013512488454580,-0.031366184353828,-0.017279218882322,-0.066489592194557,0.028636163100600,-0.172282949090004,-0.061357393860817,-0.162141412496567,-0.019381821155548,-0.006381503306329));
res += mul(Get(s3,-dx,0), float4x4(-0.190323919057846,0.012321554124355,0.040800672024488,-0.068120844662189,0.094406582415104,-0.088784486055374,-0.050822623074055,-0.042092874646187,0.101247072219849,0.035384081304073,0.017603626474738,-0.013013194315135,-0.113931611180305,-0.059933092445135,-0.003382341470569,-0.109398074448109));
res += mul(Get(s3,-dx,dy), float4x4(-0.235355436801910,0.141555413603783,0.225983083248138,-0.092172637581825,-0.044573135674000,-0.081357181072235,-0.010158940218389,0.083850920200348,0.087277509272099,0.085399724543095,-0.011022329330444,0.008838717825711,-0.003517617238685,-0.007063874509186,-0.139751389622688,0.103171192109585));
res += mul(Get(s3,0,-dy), float4x4(-0.007673479616642,0.088471472263336,0.021705769002438,-0.003731318749487,-0.055859100073576,-0.027756176888943,-0.034704279154539,-0.088838234543800,-0.023507567122579,-0.054320361465216,-0.083437219262123,-0.079310022294521,0.072153337299824,-0.036144208163023,0.048689194023609,0.019251322373748));
res += mul(Get(s3,0,0), float4x4(0.007302790880203,0.086337491869926,-0.008260357193649,0.167706713080406,0.084448724985123,-0.107422411441803,0.031027926132083,0.087309233844280,0.000546144554392,0.051159434020519,-0.015915948897600,-0.014487683773041,0.011002305895090,-0.082455091178417,0.011844425462186,-0.042347747832537));
res += mul(Get(s3,0,dy), float4x4(-0.088199041783810,-0.088092856109142,-0.048778373748064,-0.175439894199371,0.010232927277684,-0.001253532827832,-0.032305974513292,0.117854662239552,0.023201983422041,0.096617206931114,-0.078125312924385,0.020532675087452,-0.044410098344088,-0.077833563089371,-0.008223997429013,0.017930388450623));
res += mul(Get(s3,dx,-dy), float4x4(-0.030020527541637,-0.014635915867984,-0.019461039453745,-0.107700437307358,0.017303857952356,0.138233095407486,-0.093486942350864,0.032325569540262,0.047097817063332,-0.040746700018644,-0.084873475134373,-0.084388658404350,0.105894416570663,-0.090107440948486,-0.002670865971595,0.010526578873396));
res += mul(Get(s3,dx,0), float4x4(0.032777715474367,-0.094996109604836,-0.069209001958370,-0.048614252358675,-0.027145313099027,0.121149957180023,0.077715918421745,-0.085046298801899,-0.023843863978982,-0.087701328098774,-0.048116281628609,-0.090084157884121,-0.009480245411396,-0.077690303325653,-0.041453916579485,-0.001030391198583));
res += mul(Get(s3,dx,dy), float4x4(0.140425190329552,0.018254827708006,-0.068732939660549,0.097327888011932,-0.000788162113167,-0.008333643898368,0.062929593026638,-0.058155085891485,-0.077770322561264,-0.083467967808247,-0.126691296696663,-0.018850661814213,-0.091732874512672,-0.043299268931150,-0.144683152437210,0.072521299123764));
return max(float4(0,0,0,0), res);
}
