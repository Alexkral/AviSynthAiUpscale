sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.035975642502308,-0.143188297748566,-0.135578066110611,0.131620883941650,0.056581370532513,0.123161531984806,-0.160252332687378,-0.067052111029625,0.040981143712997,-0.115952223539352,-0.101393423974514,0.041703741997480,0.050273437052965,0.106613300740719,-0.145848080515862,-0.062152199447155));
res += mul(Get(s0,-dx,0), float4x4(-0.028301570564508,-0.051472958177328,-0.041367549449205,-0.023232053965330,0.133878350257874,0.062994547188282,0.060361720621586,-0.017117569223046,-0.004178027622402,-0.036702185869217,0.166356086730957,-0.114273689687252,0.075925447046757,-0.047266475856304,0.071378171443939,-0.172179281711578));
res += mul(Get(s0,-dx,dy), float4x4(-0.090386882424355,0.094833508133888,0.013726595789194,-0.127564758062363,0.119965352118015,0.089151434600353,-0.014473297633231,-0.113181978464127,-0.155398160219193,0.158898442983627,0.024545274674892,-0.151464104652405,-0.114455625414848,0.100547760725021,-0.145910099148750,0.109744556248188));
res += mul(Get(s0,0,-dy), float4x4(0.094294726848602,0.124087989330292,-0.182436242699623,-0.010388857685030,-0.022245049476624,-0.054717406630516,-0.055902838706970,-0.163916260004044,-0.031738057732582,-0.190895020961761,0.016913084313273,0.120872184634209,-0.016454778611660,0.014440151862800,0.016538798809052,0.055727314203978));
res += mul(Get(s0,0,0), float4x4(-0.192092999815941,0.078330703079700,-0.081907324492931,0.184324637055397,0.007229601964355,0.117319375276566,0.075780376791954,-0.000845357368235,-0.133719339966774,0.065344840288162,0.029408568516374,0.033150456845760,-0.171653240919113,0.124449171125889,0.068432860076427,0.045864954590797));
res += mul(Get(s0,0,dy), float4x4(0.126272752881050,0.097345314919949,-0.063168108463287,0.128777965903282,0.013176345266402,0.044998988509178,-0.149387970566750,0.015629885718226,0.051477186381817,0.064319021999836,-0.045954704284668,0.014581514522433,-0.089430004358292,0.132911726832390,-0.053876854479313,-0.107269264757633));
res += mul(Get(s0,dx,-dy), float4x4(0.010790511965752,-0.108493037521839,0.051265269517899,-0.106213487684727,-0.035818800330162,-0.116067685186863,-0.032689869403839,0.050819423049688,-0.077287293970585,0.011923868209124,-0.016919666901231,-0.007444405928254,0.001412512152456,0.101301431655884,0.046135403215885,-0.038185957819223));
res += mul(Get(s0,dx,0), float4x4(-0.007246468216181,-0.077068999409676,0.043521594256163,-0.075925864279270,-0.018446834757924,0.140160098671913,-0.035117171704769,0.016279369592667,0.069605208933353,0.073482804000378,0.024762149900198,0.160511493682861,-0.058173183351755,-0.027890853583813,0.173719063401222,0.026842694729567));
res += mul(Get(s0,dx,dy), float4x4(0.188207060098648,-0.029486434534192,0.233497962355614,0.051010910421610,-0.182754293084145,-0.010799690149724,-0.067584715783596,-0.151815548539162,0.027553716674447,0.082420580089092,-0.061236340552568,-0.039256680756807,0.087535127997398,0.033076424151659,0.008308418095112,0.059235576540232));
res += mul(Get(s1,-dx,-dy), float4x4(-0.174685299396515,-0.045103553682566,-0.021479861810803,-0.087629757821560,-0.081012964248657,0.066913105547428,0.171067208051682,-0.135297417640686,-0.293524980545044,0.066463135182858,0.031008685007691,-0.025166720151901,-0.069638594985008,-0.081087686121464,0.082029432058334,-0.041544158011675));
res += mul(Get(s1,-dx,0), float4x4(-0.140542209148407,-0.017003595829010,0.177528768777847,-0.181652665138245,0.090533934533596,-0.061084702610970,0.032678723335266,0.115159027278423,-0.125022262334824,0.057681992650032,0.092454388737679,0.166337430477142,0.004548962228000,-0.053475104272366,-0.021395012736320,0.031699385493994));
res += mul(Get(s1,-dx,dy), float4x4(0.102516107261181,-0.080461435019970,0.036951079964638,-0.061206948012114,0.119360789656639,0.010855692438781,-0.005534591618925,0.064649850130081,0.148773208260536,-0.155522376298904,-0.000218422035687,0.172465458512306,-0.101872935891151,-0.081082805991173,0.123467855155468,-0.089467421174049));
res += mul(Get(s1,0,-dy), float4x4(0.057288456708193,-0.001727433525957,0.177462741732597,0.019353177398443,0.026949411258101,0.173695191740990,0.164090931415558,-0.029716063290834,0.001621499541216,0.212416097521782,0.233490899205208,0.000250757031608,-0.058775302022696,0.046399019658566,-0.074590325355530,0.184107646346092));
res += mul(Get(s1,0,0), float4x4(-0.194175660610199,-0.018717288970947,0.197961047291756,-0.029323996976018,0.020309347659349,0.116178058087826,-0.070117592811584,-0.144412219524384,0.030631843954325,-0.116391755640507,-0.270137906074524,-0.189292773604393,-0.049437239766121,-0.036183353513479,0.034714985638857,-0.002476438879967));
res += mul(Get(s1,0,dy), float4x4(0.004948241170496,0.096494659781456,0.015600588172674,0.141170099377632,0.062600649893284,0.006522075738758,-0.018781796097755,0.003105334937572,-0.082533590495586,0.082070402801037,-0.118113696575165,-0.251207947731018,-0.009065829217434,0.119742095470428,-0.087111525237560,0.025752279907465));
res += mul(Get(s1,dx,-dy), float4x4(0.072627305984497,-0.021952303126454,0.024777920916677,-0.160802558064461,-0.120721310377121,0.115549564361572,-0.036050204187632,0.066242218017578,0.034389045089483,0.255197286605835,0.156149744987488,-0.107963040471077,-0.134392067790031,0.036895606666803,0.131415233016014,-0.187534719705582));
res += mul(Get(s1,dx,0), float4x4(-0.070408463478088,-0.134234234690666,-0.076702646911144,-0.163915932178497,-0.090144142508507,-0.057577244937420,0.100571148097515,0.030912730842829,-0.018807915970683,0.006720343139023,0.075937509536743,-0.129440262913704,0.006923768203706,-0.098488412797451,-0.074525929987431,-0.058069083839655));
res += mul(Get(s1,dx,dy), float4x4(0.208998158574104,-0.100637458264828,-0.009127494879067,-0.024493161588907,-0.024705506861210,-0.074065729975700,0.023725042119622,-0.044482149183750,0.107758931815624,0.047013353556395,-0.110126622021198,-0.086586631834507,-0.054102525115013,0.102880850434303,0.128011301159859,-0.226438492536545));
res += mul(Get(s2,-dx,-dy), float4x4(-0.071682088077068,0.013324365951121,0.076648965477943,-0.052541606128216,-0.046340148895979,-0.155497238039970,-0.046468622982502,-0.013324198313057,0.055977202951908,0.123447567224503,0.112744785845280,0.041451763361692,-0.111763514578342,-0.076584368944168,-0.025699784979224,-0.058673046529293));
res += mul(Get(s2,-dx,0), float4x4(0.018285756930709,-0.028109639883041,0.090864039957523,0.079178266227245,-0.067113578319550,-0.043246824294329,0.028849810361862,0.041259557008743,0.051742654293776,0.165580034255981,-0.034450437873602,-0.054893273860216,0.107543960213661,0.033404234796762,0.011157710105181,-0.002676268341020));
res += mul(Get(s2,-dx,dy), float4x4(-0.053976405411959,-0.062878400087357,-0.072335727512836,0.143552780151367,-0.052818205207586,0.204550117254257,-0.043475810438395,-0.042859934270382,0.254353761672974,0.109692923724651,-0.155878782272339,0.042070169001818,-0.115975908935070,0.154559493064880,0.155176252126694,-0.013997769914567));
res += mul(Get(s2,0,-dy), float4x4(0.101503297686577,-0.101034648716450,0.095038726925850,-0.177391245961189,-0.149609014391899,0.053509894758463,-0.071947768330574,-0.088781483471394,0.030322743579745,-0.129091709852219,-0.104390926659107,-0.039994552731514,0.257568508386612,-0.092206120491028,-0.188661426305771,0.127985745668411));
res += mul(Get(s2,0,0), float4x4(0.217538341879845,0.112342797219753,0.161249250173569,-0.177263602614403,0.030154511332512,0.048008337616920,0.138566628098488,0.098604381084442,0.200832650065422,0.035624790936708,0.029106324538589,-0.032409250736237,0.044906653463840,0.126059815287590,-0.087467566132545,-0.023119518533349));
res += mul(Get(s2,0,dy), float4x4(-0.078171983361244,0.050333704799414,0.155999660491943,0.045173816382885,0.067048162221909,0.172734677791595,-0.102045588195324,0.113055437803268,0.084358967840672,-0.058692380785942,0.276482820510864,-0.157978281378746,0.028934981673956,-0.127545654773712,0.034007392823696,0.158029556274414));
res += mul(Get(s2,dx,-dy), float4x4(-0.105489656329155,0.179584801197052,0.057394895702600,0.012900345027447,0.238581269979477,-0.081291034817696,0.022786948829889,0.147182062268257,0.145416274666786,0.005502936895937,0.073003783822060,-0.173112541437149,-0.026574872434139,-0.155455961823463,0.126294434070587,-0.093488335609436));
res += mul(Get(s2,dx,0), float4x4(0.096335917711258,0.140175133943558,0.291947960853577,-0.080712012946606,-0.033436316996813,-0.045575059950352,0.168756470084190,-0.047083113342524,-0.105400443077087,-0.183064401149750,-0.020470442250371,-0.006518281530589,0.008656406775117,0.024680079892278,-0.079207047820091,-0.091647110879421));
res += mul(Get(s2,dx,dy), float4x4(0.115058191120625,-0.059683028608561,-0.036581244319677,0.056168779730797,-0.016438782215118,-0.118015542626381,-0.118124477565289,-0.051412183791399,0.147655710577965,0.002131049055606,0.251445204019547,-0.050647921860218,0.025311900302768,-0.031409285962582,0.015322525985539,-0.181661680340767));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021575087681413,0.140838280320168,0.013881666585803,0.023898312821984,-0.060909882187843,-0.171731561422348,0.023916002362967,-0.058576002717018,-0.245374172925949,0.046308457851410,-0.004175729583949,-0.083623558282852,0.001612911466509,-0.126257255673409,0.059709008783102,-0.016735205426812));
res += mul(Get(s3,-dx,0), float4x4(-0.009906230494380,0.043909624218941,0.027318045496941,0.085943177342415,-0.142731353640556,-0.060233075171709,-0.048102825880051,0.108278259634972,-0.036098927259445,0.005740316584706,-0.080919824540615,-0.112273424863815,0.043978203088045,0.043849494308233,0.217076659202576,0.002361175138503));
res += mul(Get(s3,-dx,dy), float4x4(-0.131493762135506,0.072913333773613,0.047754250466824,0.169368535280228,0.043576914817095,0.333158969879150,0.153127431869507,0.056138493120670,0.105164051055908,0.026512930169702,0.136333197355270,0.102133519947529,-0.121230639517307,-0.115245789289474,-0.062569655478001,0.181912064552307));
res += mul(Get(s3,0,-dy), float4x4(-0.024809481576085,-0.041280739009380,0.043678253889084,0.221669733524323,-0.065342850983143,-0.146955385804176,0.043352283537388,-0.126187920570374,-0.063518181443214,0.152566686272621,-0.158900231122971,0.100939393043518,-0.077344290912151,-0.005683187860996,-0.027632286772132,0.066195406019688));
res += mul(Get(s3,0,0), float4x4(0.077257700264454,-0.053966596722603,0.096621304750443,0.137982264161110,-0.067494139075279,-0.014387561939657,0.048260036855936,0.043645400553942,-0.228865504264832,0.023491485044360,0.000819262349978,0.090335562825203,-0.067507557570934,0.038673359900713,-0.041463438421488,-0.143823280930519));
res += mul(Get(s3,0,dy), float4x4(0.007855624891818,0.182642996311188,-0.069336183369160,0.045694477856159,0.165411785244942,0.313605844974518,-0.049853604286909,0.102193690836430,-0.042021486908197,0.057155478745699,-0.032617278397083,-0.103348940610886,-0.183165699243546,0.018394326791167,0.131963998079300,-0.029092995449901));
res += mul(Get(s3,dx,-dy), float4x4(-0.005204973742366,0.166789993643761,-0.121578536927700,0.073599472641945,0.096496418118477,0.099026143550873,0.037630416452885,0.024494398385286,-0.011938019655645,0.134358555078506,-0.042272437363863,0.106077738106251,-0.137759000062943,0.002758963266388,0.024363085627556,-0.179342359304428));
res += mul(Get(s3,dx,0), float4x4(0.121069915592670,-0.056993622332811,0.122954703867435,-0.004764272365719,-0.063721224665642,0.179270297288895,-0.069584853947163,0.028867719694972,0.086249522864819,0.213976830244064,-0.084865435957909,0.067084513604641,-0.053058251738548,-0.266050249338150,-0.071364000439644,0.077447384595871));
res += mul(Get(s3,dx,dy), float4x4(0.103723876178265,-0.212749958038330,-0.371728986501694,-0.029130028560758,0.186313420534134,-0.065702609717846,0.113680846989155,0.062876038253307,0.043562758713961,0.192696839570999,0.103422641754150,0.073116667568684,-0.092713065445423,0.197748348116875,-0.061621166765690,-0.112598605453968));
return max(float4(0,0,0,0), res);
}
