sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.223669797182083,0.083626076579094,-0.054067924618721,-0.009079604409635,0.181447669863701,-0.096272431313992,0.093994520604610,-0.005509327631444,-0.105251587927341,0.044165093451738,-0.022036749869585,-0.094439208507538,-0.112763330340385,-0.051219087094069,0.012129377573729,0.022519411519170));
res += mul(Get(s0,-dx,0), float4x4(0.041492972522974,-0.005462170112878,0.009565439075232,0.122804850339890,0.162602245807648,0.003886011894792,-0.007792072370648,-0.161860540509224,0.079490117728710,-0.085543774068356,-0.083922021090984,-0.027992870658636,0.063940674066544,-0.049679048359394,-0.013035743497312,0.109392806887627));
res += mul(Get(s0,-dx,dy), float4x4(-0.112565226852894,0.106897242367268,-0.174884110689163,-0.094560876488686,0.194440528750420,0.034550357609987,0.051623687148094,0.004149407614022,-0.019093962386250,0.072678565979004,-0.149599179625511,0.002978464821354,-0.023905418813229,0.125135093927383,0.040113825351000,0.124143689870834));
res += mul(Get(s0,0,-dy), float4x4(0.032369356602430,0.214468911290169,-0.022098209708929,0.118759520351887,0.034064255654812,0.072241164743900,-0.079502888023853,-0.111955218017101,0.058366842567921,0.129376471042633,0.062100607901812,-0.080934539437294,-0.079972222447395,0.038315284997225,0.191809117794037,-0.017964780330658));
res += mul(Get(s0,0,0), float4x4(0.005124285351485,-0.242442414164543,-0.047680251300335,-0.020369764417410,0.078972518444061,0.020146256312728,-0.083887480199337,0.056544717401266,0.028745073825121,0.131539121270180,0.016509661450982,-0.111787512898445,-0.120741829276085,-0.004832869861275,0.072440087795258,0.061753753572702));
res += mul(Get(s0,0,dy), float4x4(-0.008264192380011,0.113936446607113,0.040014471858740,0.121977336704731,0.234524428844452,-0.139311984181404,-0.164343431591988,0.002333123469725,-0.143904849886894,-0.053931459784508,-0.030223747715354,-0.156734660267830,-0.088627763092518,0.102686516940594,0.116076767444611,-0.187588915228844));
res += mul(Get(s0,dx,-dy), float4x4(0.127010077238083,-0.014441381208599,-0.033761404454708,-0.032876819372177,-0.113040044903755,0.126223251223564,0.017642268911004,-0.079833991825581,-0.019125167280436,-0.101648233830929,0.063361823558807,-0.017387682572007,0.121637731790543,0.074064195156097,-0.130638480186462,0.042901255190372));
res += mul(Get(s0,dx,0), float4x4(-0.007520481478423,-0.069646246731281,0.049149431288242,0.169751420617104,-0.100300125777721,-0.034082390367985,-0.023632427677512,0.138529703021049,0.022677509114146,-0.152752593159676,-0.209966465830803,-0.090171046555042,-0.133668541908264,-0.104124598205090,0.031527820974588,0.018675478175282));
res += mul(Get(s0,dx,dy), float4x4(-0.202585563063622,0.141260311007500,0.107789903879166,-0.009435934945941,0.060557764023542,-0.072121784090996,-0.059276033192873,-0.033080931752920,0.022883238270879,0.076292321085930,0.019710935652256,-0.037795804440975,-0.096101105213165,-0.140059620141983,-0.002777853747830,-0.040322162210941));
res += mul(Get(s1,-dx,-dy), float4x4(-0.049952279776335,-0.030292926356196,-0.018061155453324,0.083184666931629,-0.216154575347900,-0.107788644731045,-0.004999851342291,-0.006294981576502,-0.046211879700422,0.064984917640686,-0.014968214556575,-0.084468729794025,0.158340781927109,0.119106039404869,0.031795889139175,0.188281625509262));
res += mul(Get(s1,-dx,0), float4x4(-0.274097561836243,0.135802850127220,-0.030644739046693,-0.097633659839630,0.171720877289772,-0.034773610532284,-0.106595940887928,-0.019024161621928,-0.165042385458946,-0.101653106510639,0.015939937904477,-0.013227885589004,-0.191205903887749,0.139934524893761,0.056917775422335,-0.320309787988663));
res += mul(Get(s1,-dx,dy), float4x4(-0.105360925197601,0.053764685988426,0.052303787320852,0.052372511476278,-0.082922175526619,-0.157729983329773,-0.027756853029132,0.084038548171520,0.087761066854000,-0.016905896365643,-0.013532431796193,-0.027397260069847,0.035084765404463,-0.001035589259118,0.017368504777551,-0.084932185709476));
res += mul(Get(s1,0,-dy), float4x4(0.184189036488533,-0.097907140851021,0.069929867982864,-0.040342565625906,-0.012150445021689,-0.032212037593126,0.028052847832441,-0.057778224349022,0.220648631453514,0.071662351489067,0.003098842920735,-0.145356610417366,0.183937609195709,-0.010017415508628,0.050746403634548,-0.001790005597286));
res += mul(Get(s1,0,0), float4x4(0.001078883535229,-0.040687415748835,0.052579764276743,-0.187858477234840,-0.025173872709274,-0.015133300796151,0.008570386096835,0.115531310439110,-0.071216307580471,0.056610021740198,-0.019514296203852,0.235716402530670,-0.091712884604931,0.019135273993015,0.043822467327118,-0.195654898881912));
res += mul(Get(s1,0,dy), float4x4(0.046696372330189,-0.254924356937408,0.067776545882225,0.073382638394833,-0.051085505634546,-0.018953483551741,-0.039982132613659,0.094113476574421,0.043817099183798,0.271150052547455,-0.123492680490017,0.033233385533094,-0.109060950577259,0.183128774166107,-0.012863166630268,-0.076613798737526));
res += mul(Get(s1,dx,-dy), float4x4(0.147993043065071,-0.038194112479687,0.027848495170474,0.009590693749487,-0.015874404460192,-0.103364914655685,0.007329860236496,-0.094058834016323,0.179318100214005,-0.073006615042686,0.187494978308678,0.002388634951785,-0.077724985778332,-0.101062856614590,-0.147387310862541,0.138510257005692));
res += mul(Get(s1,dx,0), float4x4(-0.300577342510223,-0.159010902047157,-0.042700998485088,-0.129137963056564,0.084367327392101,-0.076579123735428,-0.051339942961931,0.002075792057440,0.116549357771873,0.203155502676964,-0.043603066354990,0.098758295178413,-0.082166112959385,0.079083435237408,-0.106541134417057,0.005803673993796));
res += mul(Get(s1,dx,dy), float4x4(-0.115049503743649,-0.050382807850838,-0.035976245999336,-0.020824130624533,-0.022885883226991,0.073119387030602,-0.050904579460621,-0.002551982877776,0.005121435970068,-0.005034234840423,0.033916801214218,-0.201597690582275,0.028507962822914,-0.077673144638538,-0.026081541553140,0.044823653995991));
res += mul(Get(s2,-dx,-dy), float4x4(0.015548252500594,0.046284850686789,0.153027400374413,-0.016625296324492,0.041616115719080,0.011654504574835,0.058342237025499,0.189884349703789,-0.050664652138948,0.016754074022174,-0.184054031968117,-0.040347307920456,0.110169939696789,0.034995764493942,0.122844129800797,-0.071368478238583));
res += mul(Get(s2,-dx,0), float4x4(0.034553784877062,-0.054867401719093,0.080158919095993,0.048247739672661,0.069637447595596,-0.118224196135998,-0.026266256347299,-0.007677590474486,0.003156329039484,0.141361862421036,0.101638525724411,-0.019847864285111,0.166443675756454,0.049966502934694,0.043627943843603,0.009345576167107));
res += mul(Get(s2,-dx,dy), float4x4(-0.088441438972950,-0.080419085919857,0.025542432442307,-0.035417813807726,0.115566954016685,0.050892435014248,0.013170313090086,-0.127863839268684,0.129044547677040,0.091470450162888,0.139688655734062,-0.057451598346233,-0.015510285273194,-0.057948842644691,-0.068214237689972,-0.194814980030060));
res += mul(Get(s2,0,-dy), float4x4(0.044092103838921,-0.165646374225616,0.010298701934516,-0.157589197158813,0.238964363932610,-0.145831391215324,0.133448481559753,-0.054772667586803,0.042647548019886,-0.009712303988636,0.093315996229649,-0.129678636789322,-0.138154715299606,-0.063117392361164,0.123327523469925,0.140872597694397));
res += mul(Get(s2,0,0), float4x4(-0.051466200500727,0.146026939153671,0.075532309710979,0.054184116423130,0.074710533022881,-0.049991954118013,-0.089629784226418,-0.023254895582795,-0.215298965573311,0.049246333539486,-0.122040234506130,0.045226871967316,0.012686582282186,-0.125362932682037,-0.047064945101738,0.058248780667782));
res += mul(Get(s2,0,dy), float4x4(-0.039699289947748,-0.192902013659477,0.055869698524475,-0.099504113197327,0.118847914040089,0.065891884267330,0.118361853063107,0.048442229628563,0.190753519535065,0.028542889282107,-0.073453664779663,0.037816528230906,-0.000825231079943,0.065533727407455,0.094981566071510,-0.046248681843281));
res += mul(Get(s2,dx,-dy), float4x4(-0.012813298031688,0.044075205922127,0.074220322072506,-0.089498892426491,-0.027979858219624,-0.077509127557278,0.057461924850941,-0.130467161536217,-0.099002256989479,-0.002749953418970,-0.121436350047588,-0.051834013313055,0.092133529484272,0.052469193935394,-0.074386678636074,-0.089574553072453));
res += mul(Get(s2,dx,0), float4x4(-0.167203918099403,-0.098223507404327,-0.210520580410957,-0.172154977917671,0.153224974870682,-0.061507556587458,-0.028104886412621,0.014085643924773,0.177484348416328,0.035625193268061,-0.170031130313873,0.021364957094193,0.098075628280640,0.077983006834984,0.032347183674574,0.026203058660030));
res += mul(Get(s2,dx,dy), float4x4(-0.028013637289405,-0.015796706080437,-0.081826008856297,-0.053530767560005,0.135976552963257,-0.116013459861279,-0.035238523036242,0.290959060192108,-0.067047595977783,0.006580695975572,-0.098753459751606,-0.057679351419210,0.038908679038286,0.192647814750671,0.068053536117077,0.214777916669846));
res += mul(Get(s3,-dx,-dy), float4x4(-0.011436298489571,0.098146975040436,-0.074559219181538,0.034140966832638,0.138891741633415,0.107474952936172,-0.010084283538163,-0.139361113309860,-0.046206627041101,-0.069999225437641,-0.175059080123901,0.148004442453384,-0.011517047882080,-0.058418147265911,-0.195801049470901,0.113238826394081));
res += mul(Get(s3,-dx,0), float4x4(-0.059365350753069,-0.063333228230476,0.117799922823906,-0.124260619282722,-0.207391053438187,-0.129531607031822,-0.100955598056316,0.049368530511856,0.103704392910004,0.208526030182838,-0.064053542912006,0.159336686134338,0.058840494602919,-0.027193447574973,0.160343334078789,-0.018989566713572));
res += mul(Get(s3,-dx,dy), float4x4(-0.146173506975174,0.053122177720070,0.129052072763443,0.174461334943771,0.080433815717697,-0.133136451244354,0.076120585203171,0.033664584159851,-0.140274137258530,0.000609470473137,0.100644029676914,0.032840512692928,-0.190265223383904,0.077812485396862,-0.156206786632538,0.015995666384697));
res += mul(Get(s3,0,-dy), float4x4(0.145974874496460,0.058104511350393,0.069233775138855,-0.078911103308201,0.153602913022041,0.034461930394173,0.006876217667013,-0.049264468252659,0.165911033749580,-0.053451247513294,0.068620465695858,-0.023717608302832,-0.133546069264412,-0.038066994398832,-0.077472656965256,0.115186102688313));
res += mul(Get(s3,0,0), float4x4(-0.080074004828930,0.075993925333023,-0.047666728496552,-0.090590834617615,0.097253918647766,-0.029477640986443,-0.163119003176689,0.091834545135498,-0.065039627254009,-0.009768549352884,0.010190177708864,-0.213288500905037,0.186800882220268,0.122704125940800,0.020835012197495,-0.116821572184563));
res += mul(Get(s3,0,dy), float4x4(-0.126332744956017,-0.006693569477648,0.031872980296612,-0.026743788272142,0.090701937675476,0.030086062848568,-0.023644005879760,0.265707999467850,0.094878681004047,0.123800821602345,0.062300346791744,0.202553212642670,0.068626523017883,0.183808356523514,-0.119836613535881,-0.065270163118839));
res += mul(Get(s3,dx,-dy), float4x4(0.089656844735146,0.094051152467728,0.145187795162201,-0.036856796592474,0.059318888932467,0.007512154057622,0.140277951955795,-0.012833491899073,-0.117082476615906,-0.052435711026192,0.025480693206191,-0.000798473367468,0.098588027060032,0.148870453238487,-0.019800605252385,-0.012821034528315));
res += mul(Get(s3,dx,0), float4x4(-0.042037386447191,0.017304601147771,0.000121355915326,-0.033303551375866,0.048866577446461,0.197735026478767,0.079127684235573,-0.123528108000755,-0.120075739920139,-0.003065329277888,-0.107369549572468,-0.049328271299601,-0.146814391016960,-0.070942342281342,-0.093401089310646,0.073260627686977));
res += mul(Get(s3,dx,dy), float4x4(0.124443903565407,-0.046165768057108,-0.148681238293648,-0.069850668311119,0.135260462760925,-0.151556611061096,0.057266656309366,0.031124215573072,-0.123211972415447,-0.105344094336033,-0.051904428750277,0.015044885687530,-0.053083471953869,0.097177967429161,-0.002280468586832,-0.031786762177944));
return max(float4(0,0,0,0), res);
}
