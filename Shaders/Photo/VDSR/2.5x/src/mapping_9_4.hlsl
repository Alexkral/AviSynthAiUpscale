sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.096584104001522,0.013214995153248,-0.026552680879831,0.000319729588227,0.047997012734413,-0.077118635177612,0.026379641145468,-0.002748764352873,-0.022459985688329,0.021181093528867,-0.000370103371097,0.084183417260647,-0.197856113314629,-0.038636296987534,0.119536250829697,0.035595409572124));
res += mul(Get(s0,-dx,0), float4x4(0.097384177148342,-0.010876656509936,-0.041873827576637,-0.013832632452250,0.065447129309177,-0.092132106423378,-0.046139482408762,-0.003595468821004,-0.147804558277130,-0.017638333141804,-0.127980008721352,0.000388659362216,-0.233770474791527,-0.023729830980301,0.001040911884047,0.129825502634048));
res += mul(Get(s0,-dx,dy), float4x4(0.005733533762395,-0.070694714784622,-0.134139955043793,-0.155166968703270,0.025431927293539,0.125849992036819,-0.050609502941370,0.000954873394221,-0.088833406567574,0.015859447419643,-0.076073095202446,-0.141997590661049,-0.080271944403648,0.057965081185102,-0.083988882601261,-0.063090488314629));
res += mul(Get(s0,0,-dy), float4x4(0.088312745094299,-0.033661659806967,-0.057380989193916,-0.043784007430077,-0.104947723448277,0.209186375141144,-0.079975023865700,-0.030074348673224,-0.023901250213385,-0.053659360855818,0.068671792745590,-0.069076359272003,-0.142441093921661,0.133816838264465,0.165888816118240,0.117761641740799));
res += mul(Get(s0,0,0), float4x4(0.022453971207142,-0.090106911957264,0.079627819359303,0.055334445089102,0.078066721558571,0.067938134074211,-0.040386781096458,-0.062221098691225,-0.091631427407265,0.003296870971099,-0.130327329039574,0.004762648139149,-0.214643195271492,-0.038984589278698,0.009165685623884,-0.070678837597370));
res += mul(Get(s0,0,dy), float4x4(-0.110622316598892,0.003408589167520,-0.026902090758085,-0.055880215018988,-0.012470796704292,-0.006511220242828,-0.057122521102428,0.070404238998890,-0.056198738515377,-0.013402894139290,-0.195991799235344,-0.098196163773537,-0.216657817363739,0.132806256413460,-0.077216014266014,-0.078678168356419));
res += mul(Get(s0,dx,-dy), float4x4(0.062935180962086,-0.122076570987701,-0.026491628959775,-0.009530991315842,0.034004122018814,0.169673413038254,0.008569485507905,0.017916930839419,0.029827784746885,-0.156397596001625,-0.026915295049548,-0.184427529573441,-0.099920757114887,0.169134780764580,-0.106898665428162,0.079021289944649));
res += mul(Get(s0,dx,0), float4x4(-0.021462237462401,-0.105114892125130,0.058428037911654,0.091721333563328,-0.034706261008978,-0.025230098515749,-0.032361850142479,-0.115720018744469,-0.038504086434841,-0.088004358112812,-0.036770969629288,-0.142386347055435,-0.014441760256886,-0.076127715408802,0.097588762640953,-0.088014103472233));
res += mul(Get(s0,dx,dy), float4x4(0.113407813012600,0.053813923150301,-0.062856271862984,0.000656042015180,0.111169457435608,0.036706086248159,-0.075915537774563,-0.007542716339231,-0.072939693927765,-0.017950642853975,-0.179751083254814,-0.263851493597031,-0.242524847388268,-0.047114267945290,-0.077860943973064,-0.127599745988846));
res += mul(Get(s1,-dx,-dy), float4x4(0.046518389135599,-0.110263481736183,-0.026559300720692,0.008658721111715,0.051822308450937,0.113558776676655,-0.019806833937764,-0.036048047244549,0.031897991895676,0.014529691077769,-0.007617392111570,0.048120860010386,0.028130028396845,0.056818988174200,-0.027215141803026,0.072810627520084));
res += mul(Get(s1,-dx,0), float4x4(0.001798580982722,0.146541386842728,-0.043029263615608,-0.088028647005558,-0.004552616272122,-0.036940284073353,0.036519613116980,0.083919852972031,-0.069251179695129,-0.054311539977789,0.031722564250231,0.097363039851189,-0.063838705420494,0.067809954285622,0.006062216125429,-0.075989238917828));
res += mul(Get(s1,-dx,dy), float4x4(-0.241672486066818,-0.028295414522290,0.016816750168800,0.030058862641454,-0.055161971598864,0.086170494556427,-0.051830787211657,-0.000972919398919,-0.041871797293425,0.107282310724258,0.094620406627655,0.048693120479584,-0.002428591251373,0.050195816904306,0.056056570261717,-0.064430810511112));
res += mul(Get(s1,0,-dy), float4x4(0.026129536330700,0.097066357731819,0.009610467590392,-0.049327533692122,-0.072370469570160,0.012732179835439,-0.046379029750824,-0.082112289965153,0.056136060506105,0.210587173700333,-0.025913465768099,-0.002458583796397,0.097818747162819,-0.049047555774450,-0.053774084895849,0.058249063789845));
res += mul(Get(s1,0,0), float4x4(-0.006222129799426,-0.098798267543316,-0.065537884831429,-0.035157989710569,0.000478792208014,-0.153811633586884,0.010161347687244,0.088675364851952,0.011279793456197,0.045646257698536,-0.030602307990193,0.133640587329865,-0.111755497753620,-0.020256962627172,-0.016286112368107,0.059823267161846));
res += mul(Get(s1,0,dy), float4x4(-0.133659020066261,-0.137235552072525,0.045655369758606,0.005673253908753,-0.005371015053242,0.167358577251434,0.016784748062491,-0.047140367329121,-0.045826613903046,-0.001812866306864,-0.137835085391998,0.140842035412788,-0.001613685744815,-0.046519830822945,0.060131661593914,0.074396058917046));
res += mul(Get(s1,dx,-dy), float4x4(0.010727715678513,-0.115465030074120,0.132286146283150,-0.091846868395805,0.085704997181892,0.137011989951134,-0.080004468560219,-0.030588326975703,-0.018647542223334,0.001349486294203,0.127942010760307,-0.055493999272585,0.100377090275288,-0.031586565077305,-0.032274421304464,0.056270316243172));
res += mul(Get(s1,dx,0), float4x4(0.063601158559322,-0.133071854710579,0.053242437541485,0.064810350537300,0.169640302658081,0.305920809507370,-0.047691795974970,0.001322320313193,-0.058488182723522,-0.019479574635625,0.070695497095585,0.045583277940750,0.011569886468351,0.036362998187542,-0.123202964663506,0.050243049860001));
res += mul(Get(s1,dx,dy), float4x4(0.003085159929469,-0.102882593870163,-0.060793075710535,0.038074769079685,-0.053543765097857,0.173931151628494,-0.047903724014759,0.021770421415567,0.000036893412471,0.169591650366783,-0.025336660444736,0.035020675510168,0.079060085117817,0.024309715256095,-0.104347802698612,0.082610607147217));
res += mul(Get(s2,-dx,-dy), float4x4(-0.040745332837105,-0.090721204876900,0.008156497962773,-0.031694602221251,-0.071988932788372,0.038784250617027,0.076365381479263,-0.002709131920710,0.051330700516701,-0.012884235940874,0.069726049900055,0.058753203600645,-0.092932827770710,-0.118772514164448,0.093208171427250,0.002141437726095));
res += mul(Get(s2,-dx,0), float4x4(-0.034844536334276,-0.027793429791927,0.024630479514599,0.124401189386845,-0.021486205980182,-0.066461443901062,-0.030848976224661,-0.026039613410830,-0.029567766934633,0.007324441336095,0.067044317722321,0.159113675355911,0.184481084346771,0.116062462329865,-0.020147703588009,0.105130903422832));
res += mul(Get(s2,-dx,dy), float4x4(-0.136546880006790,-0.060670278966427,-0.006463541183621,0.013203433714807,0.001930351601914,-0.023754421621561,0.048463951796293,-0.051296051591635,0.074775293469429,0.138693571090698,0.107657313346863,0.021010912954807,0.048628386110067,-0.068226635456085,-0.099390678107738,-0.015658739954233));
res += mul(Get(s2,0,-dy), float4x4(0.020591635257006,-0.124135598540306,0.002659331308678,-0.054959163069725,0.066047690808773,0.128668159246445,0.187755241990089,0.009256740100682,0.019786031916738,0.123697683215141,0.061021596193314,0.024604186415672,-0.160789132118225,-0.099052369594574,0.202397778630257,0.133915320038795));
res += mul(Get(s2,0,0), float4x4(0.072253353893757,-0.096763283014297,0.019940294325352,0.096129834651947,-0.018050514161587,-0.008375431410968,0.005373489111662,-0.057855486869812,0.012899975292385,-0.022027481347322,0.041139021515846,0.150255128741264,0.075011998414993,-0.038752540946007,-0.012945377267897,0.145001828670502));
res += mul(Get(s2,0,dy), float4x4(-0.047652576118708,-0.105731926858425,-0.004928410053253,-0.042574964463711,0.029135141521692,0.022485267370939,-0.013035695999861,-0.035188093781471,0.217620462179184,0.061552274972200,0.082900337874889,0.183563962578773,-0.008090032264590,-0.034790284931660,0.028523968532681,0.066931016743183));
res += mul(Get(s2,dx,-dy), float4x4(-0.047040428966284,-0.201900511980057,0.034393552690744,0.024169201031327,-0.062475129961967,-0.097188629209995,-0.011814952827990,-0.108401849865913,-0.109067708253860,-0.066539540886879,0.073182068765163,0.039652314037085,-0.054988697171211,-0.121767051517963,-0.015788570046425,-0.055700756609440));
res += mul(Get(s2,dx,0), float4x4(-0.099027238786221,-0.184388712048531,-0.006374731194228,0.096822030842304,0.001575172645971,-0.056836359202862,-0.022289069369435,-0.095224633812904,0.037643041461706,-0.019036924466491,0.073135361075401,0.116298265755177,0.159886360168457,0.015866560861468,-0.089143663644791,-0.088787719607353));
res += mul(Get(s2,dx,dy), float4x4(-0.071093522012234,-0.138770475983620,-0.035976499319077,-0.095307052135468,0.152014464139938,-0.047088813036680,-0.043079577386379,-0.198253273963928,0.182068586349487,0.128676667809486,0.176948755979538,-0.142251774668694,0.092079021036625,0.007562960032374,-0.055300947278738,-0.086602553725243));
res += mul(Get(s3,-dx,-dy), float4x4(0.046700764447451,0.154956519603729,0.028314592316747,0.085472226142883,0.063179939985275,0.172319009900093,0.015158399008214,-0.087029367685318,0.092929892241955,-0.061927419155836,0.076338581740856,0.039679244160652,0.090174503624439,-0.074233405292034,0.005325682926923,-0.051128327846527));
res += mul(Get(s3,-dx,0), float4x4(0.026055192574859,0.037378821521997,-0.164852544665337,0.065890416502953,0.019380494952202,-0.015739073976874,-0.044138140976429,-0.002329051028937,0.038189474493265,0.063783876597881,0.082000859081745,0.107389822602272,-0.003443240188062,-0.012034798040986,0.057183261960745,0.034735884517431));
res += mul(Get(s3,-dx,dy), float4x4(-0.091115474700928,0.003334590699524,-0.108008429408073,0.128260523080826,-0.039484884589911,0.035909824073315,-0.005440056324005,0.013182842172682,-0.000150817984832,0.096759967505932,0.045174933969975,-0.003596407594159,0.074542447924614,0.069046929478645,0.078901723027229,0.039381653070450));
res += mul(Get(s3,0,-dy), float4x4(0.070686697959900,0.134135767817497,0.021143343299627,0.090675607323647,0.081708647310734,-0.041300885379314,0.252266526222229,0.022379899397492,0.060292478650808,0.020953487604856,0.026010775938630,0.035809729248285,0.061739191412926,-0.066122807562351,0.004596034530550,-0.035201948136091));
res += mul(Get(s3,0,0), float4x4(0.058608796447515,0.036108579486609,-0.032290883362293,0.173440307378769,-0.018690841272473,-0.088396027684212,-0.063923664391041,0.041703350841999,0.175234407186508,0.149102732539177,-0.095332317054272,-0.071548402309418,-0.066221907734871,0.056710600852966,0.066890865564346,-0.047843594104052));
res += mul(Get(s3,0,dy), float4x4(-0.112235836684704,-0.043555583804846,-0.081537649035454,-0.175726085901260,0.113965235650539,-0.028428379446268,0.013286089524627,0.058691341429949,0.029884958639741,0.134096845984459,0.099307574331760,-0.112853899598122,-0.070995561778545,0.007013633847237,-0.008434318937361,-0.052596561610699));
res += mul(Get(s3,dx,-dy), float4x4(0.086495094001293,0.043601755052805,-0.059903521090746,0.067658767104149,0.073795929551125,0.021374313160777,0.050494670867920,-0.148735210299492,0.026646500453353,-0.044446125626564,0.031005399301648,-0.007325029000640,0.067717723548412,-0.090857386589050,0.114402405917645,-0.070513799786568));
res += mul(Get(s3,dx,0), float4x4(0.045396611094475,0.117112450301647,-0.079626388847828,-0.001024736789986,0.000365786603652,-0.054674856364727,0.108125917613506,0.002880255691707,0.067401580512524,0.000419930875069,-0.014260523952544,0.044597294181585,-0.017422834411263,-0.079238511621952,0.053779065608978,-0.098030135035515));
res += mul(Get(s3,dx,dy), float4x4(0.083404406905174,0.022194501012564,-0.087153978645802,0.009661423973739,0.136842250823975,-0.082719385623932,0.023924654349685,0.053813800215721,0.004364863969386,-0.059800185263157,0.000947980384808,-0.015283640474081,-0.018108351156116,0.053829781711102,0.189786210656166,-0.131182238459587));
return max(float4(0,0,0,0), res);
}
