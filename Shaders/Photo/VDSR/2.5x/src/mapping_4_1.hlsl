sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.044383883476257,0.004958401434124,-0.002069030888379,-0.000116678289487,-0.014440880157053,0.127865374088287,-0.018668806180358,-0.112711936235428,0.006322786677629,0.176590591669083,-0.011128401383758,-0.111358292400837,-0.096428543329239,-0.147144928574562,-0.042285427451134,-0.071392536163330));
res += mul(Get(s0,-dx,0), float4x4(-0.023318741470575,-0.058481205254793,0.011916454881430,0.062674142420292,0.040867827832699,0.028860487043858,0.170513018965721,-0.155608832836151,0.095118805766106,-0.164570242166519,-0.000998907140456,-0.098563656210899,0.042906235903502,0.063908793032169,0.034566022455692,-0.022468516603112));
res += mul(Get(s0,-dx,dy), float4x4(-0.103457860648632,-0.097549408674240,0.077488616108894,0.008326970972121,0.188486352562904,-0.125237241387367,-0.101962164044380,-0.223448470234871,-0.058825794607401,-0.041131146252155,0.046293914318085,0.092614859342575,-0.078642979264259,0.130051419138908,0.060972005128860,-0.070436514914036));
res += mul(Get(s0,0,-dy), float4x4(0.127046018838882,-0.091107696294785,-0.067003592848778,0.008177566342056,-0.026963105425239,0.116761907935143,-0.046898383647203,0.187198624014854,0.081452257931232,0.147543191909790,-0.040362257510424,-0.173692956566811,0.015827791765332,-0.098063506186008,-0.017612086609006,-0.095074146986008));
res += mul(Get(s0,0,0), float4x4(-0.069514930248260,0.029848029837012,-0.039075698703527,0.048519290983677,0.025627546012402,-0.000139530806337,0.143240645527840,0.137227132916451,-0.121896095573902,0.036969624459743,-0.114987917244434,0.043251316994429,0.107802055776119,0.031940285116434,-0.020480830222368,-0.026598419994116));
res += mul(Get(s0,0,dy), float4x4(-0.027949370443821,0.085016913712025,-0.028332011774182,-0.083696313202381,0.167384818196297,0.043895289301872,-0.005460079293698,-0.086228951811790,-0.077061273157597,-0.020210517570376,-0.095481105148792,0.053485494107008,0.077188745141029,-0.059099435806274,-0.126963913440704,-0.108949415385723));
res += mul(Get(s0,dx,-dy), float4x4(0.051185503602028,-0.181380912661552,-0.048986002802849,0.034646149724722,0.137968108057976,0.103851303458214,-0.009800285100937,-0.104416124522686,-0.078540921211243,0.016884155571461,-0.006165657658130,-0.032550126314163,-0.064550630748272,-0.073072440922260,0.137315884232521,0.054686155170202));
res += mul(Get(s0,dx,0), float4x4(0.265282392501831,-0.141664236783981,-0.033136148005724,0.009077933616936,-0.110325001180172,-0.059632357209921,0.071661300957203,0.024803793057799,0.031747598201036,-0.025802938267589,-0.118993140757084,0.040041908621788,0.013612195849419,0.070325352251530,-0.024668954312801,0.234196022152901));
res += mul(Get(s0,dx,dy), float4x4(0.096494324505329,0.037567157298326,0.066426880657673,0.010453616268933,0.070561140775681,-0.063954494893551,0.033475700765848,0.066708900034428,0.088663078844547,-0.073549002408981,-0.116001188755035,-0.035723693668842,0.240944489836693,0.002966213272884,0.032388430088758,-0.011919896118343));
res += mul(Get(s1,-dx,-dy), float4x4(-0.072635315358639,0.147754088044167,0.173578977584839,-0.010604876093566,0.064564622938633,0.062081202864647,0.046410690993071,-0.171189606189728,0.157281130552292,-0.028624566271901,0.082331120967865,0.124206446111202,-0.060717500746250,0.030819971114397,-0.070313051342964,-0.104394532740116));
res += mul(Get(s1,-dx,0), float4x4(-0.082184031605721,-0.081417754292488,0.069345213472843,0.148654550313950,-0.022829994559288,0.130251586437225,0.038342237472534,0.051003519445658,-0.092543289065361,0.051469497382641,0.089787460863590,-0.115584976971149,0.015120074152946,-0.110982872545719,-0.127265438437462,-0.150122359395027));
res += mul(Get(s1,-dx,dy), float4x4(-0.134790584445000,0.079851023852825,-0.046496693044901,-0.018916033208370,-0.052940994501114,-0.033825676888227,-0.033529423177242,0.245853498578072,-0.067851521074772,-0.001290290267207,-0.052478402853012,0.006971203256398,-0.025114651769400,-0.135989576578140,-0.054411530494690,-0.051276490092278));
res += mul(Get(s1,0,-dy), float4x4(0.004206149373204,0.081077665090561,0.231230735778809,-0.062495082616806,-0.072962000966072,-0.064257718622684,-0.023888494819403,-0.030679989606142,0.001378095941618,-0.048456240445375,0.061840079724789,-0.016767930239439,0.052820585668087,-0.140358775854111,-0.003428187221289,0.006342452485114));
res += mul(Get(s1,0,0), float4x4(0.014569474384189,0.063848920166492,0.158603116869926,-0.027630763128400,-0.037553276866674,0.019076755270362,0.056295178830624,0.027896903455257,-0.046892188489437,-0.028107430785894,-0.098255343735218,0.160343021154404,-0.010436302050948,-0.129238814115524,0.128145918250084,-0.052406948059797));
res += mul(Get(s1,0,dy), float4x4(0.048645436763763,0.083186119794846,-0.165251299738884,-0.060729954391718,0.073310770094395,-0.044603224843740,0.110593989491463,0.068159855902195,0.163085088133812,0.002844167174771,-0.043865863233805,0.216657862067223,-0.068747013807297,-0.126718342304230,-0.005743511486799,-0.057286642491817));
res += mul(Get(s1,dx,-dy), float4x4(0.017732854932547,-0.125198781490326,-0.144705131649971,-0.053142052143812,-0.043587744235992,0.049802552908659,-0.081740692257881,0.165844067931175,-0.120401285588741,-0.168647870421410,-0.070882514119148,0.117536403238773,-0.112954780459404,-0.089781112968922,0.020222146064043,-0.028680399060249));
res += mul(Get(s1,dx,0), float4x4(-0.185891062021255,0.027147270739079,-0.121432274580002,0.042980682104826,-0.066085450351238,-0.055719658732414,-0.014722660183907,0.121334508061409,0.020684799179435,-0.146987542510033,-0.087432533502579,-0.009459357708693,-0.078317359089851,-0.075428433716297,0.093090929090977,-0.009442732669413));
res += mul(Get(s1,dx,dy), float4x4(-0.027188278734684,-0.002811170183122,-0.012352808378637,0.125044777989388,-0.011259917169809,-0.015530278906226,0.047881189733744,-0.106643401086330,0.134369179606438,-0.094662994146347,0.000579947780352,0.076179608702660,-0.180091381072998,-0.151247218251228,-0.032093539834023,0.095895923674107));
res += mul(Get(s2,-dx,-dy), float4x4(0.123523689806461,0.218012437224388,0.002725632861257,-0.202592223882675,-0.012269478291273,-0.001664380542934,-0.097398974001408,-0.132412016391754,-0.030447836965322,0.038354720920324,-0.025287706404924,-0.011608249507844,-0.095798201858997,0.193954929709435,0.068628728389740,-0.035618767142296));
res += mul(Get(s2,-dx,0), float4x4(0.011128256097436,-0.009744429029524,-0.112773731350899,-0.094870641827583,0.007332947105169,0.035785678774118,-0.075941555202007,-0.205803096294403,0.102531410753727,0.126143813133240,-0.034488119184971,-0.094072915613651,0.100311622023582,0.080774642527103,-0.049946770071983,-0.085481636226177));
res += mul(Get(s2,-dx,dy), float4x4(-0.107726991176605,-0.013384129852057,0.069016210734844,0.219065949320793,0.134550184011459,0.093839593231678,0.107308171689510,0.046241104602814,-0.014425291679800,0.084594331681728,-0.018712135031819,-0.042890783399343,-0.013262180611491,-0.111031539738178,0.130843415856361,-0.052925568073988));
res += mul(Get(s2,0,-dy), float4x4(0.003576618153602,0.077459029853344,0.064011290669441,-0.163376525044441,-0.132767841219902,-0.089812457561493,0.073532693088055,0.112742267549038,0.017058422788978,-0.007811436895281,0.050163500010967,-0.064743608236313,0.001975035760552,-0.003933958709240,-0.080750301480293,-0.088931322097778));
res += mul(Get(s2,0,0), float4x4(-0.071261420845985,-0.075027100741863,0.079585656523705,0.068061687052250,-0.117249652743340,0.007921821437776,-0.037129051983356,-0.000671638408676,-0.004257455933839,0.004248119425029,0.059191793203354,-0.074038960039616,0.220885276794434,-0.054599661380053,-0.162002146244049,-0.188860580325127));
res += mul(Get(s2,0,dy), float4x4(0.022058798000216,0.000002320153953,-0.079784192144871,0.029938977211714,0.049682445824146,0.112913347780704,0.058061499148607,0.148026764392853,0.130103796720505,-0.098174542188644,0.013893181458116,0.104585617780685,-0.050560928881168,-0.022989695891738,0.031217399984598,-0.210542812943459));
res += mul(Get(s2,dx,-dy), float4x4(-0.030505944043398,0.190598398447037,0.075801394879818,0.058965303003788,0.032679293304682,-0.142124876379967,0.147645533084869,0.035735819488764,-0.093598157167435,0.104162745177746,0.019475284963846,-0.067161418497562,-0.096342250704765,-0.094066098332405,0.064212471246719,-0.124673679471016));
res += mul(Get(s2,dx,0), float4x4(0.078708238899708,-0.056629866361618,0.049108691513538,0.138817861676216,0.059513721615076,-0.016313834115863,-0.079145148396492,-0.119527168571949,-0.128855288028717,0.084620684385300,0.055464886128902,-0.081129647791386,0.000397022726247,-0.151195511221886,0.118248790502548,-0.139210358262062));
res += mul(Get(s2,dx,dy), float4x4(0.168613865971565,-0.092926144599915,0.059904474765062,0.042585212737322,0.006130881141871,-0.042820572853088,0.094441317021847,0.140471830964088,-0.144762650132179,-0.086936846375465,-0.070775732398033,0.075016073882580,-0.047428559511900,-0.132093444466591,0.023597346618772,-0.094178535044193));
res += mul(Get(s3,-dx,-dy), float4x4(0.011218880303204,0.030432969331741,0.026631424203515,-0.008266226388514,-0.098999604582787,0.027090866118670,0.054816201329231,-0.050099212676287,0.079463139176369,-0.057614643126726,-0.046276345849037,-0.021219220012426,0.050833802670240,0.069182634353638,0.021494874730706,-0.138627067208290));
res += mul(Get(s3,-dx,0), float4x4(0.092702947556973,0.019594525918365,-0.100183337926865,0.115763776004314,-0.053312346339226,-0.050912816077471,-0.079353086650372,-0.009155401028693,0.126403436064720,0.057506024837494,-0.039655920118093,-0.074493341147900,0.154429018497467,-0.012043080292642,-0.013850655406713,-0.175206348299980));
res += mul(Get(s3,-dx,dy), float4x4(-0.067045956850052,-0.087418273091316,-0.033631507307291,0.100554428994656,-0.055411472916603,-0.061836566776037,-0.046847604215145,-0.067000374197960,0.151819184422493,-0.076763771474361,-0.016430635005236,0.034550242125988,0.093634776771069,-0.002231157617643,-0.032143566757441,-0.101205162703991));
res += mul(Get(s3,0,-dy), float4x4(0.024712854996324,-0.005606153048575,0.048711095005274,0.096194460988045,0.011150459758937,-0.122774019837379,-0.113970980048180,0.000252592959441,-0.060029886662960,-0.066209211945534,0.007682702038437,0.028812278062105,-0.034895889461040,0.000891759234946,0.092853248119354,-0.075862675905228));
res += mul(Get(s3,0,0), float4x4(0.108729638159275,-0.106148347258568,0.123545035719872,0.033172525465488,0.316665232181549,0.065843231976032,-0.067556574940681,0.106952205300331,0.167614713311195,0.150867655873299,-0.037896722555161,-0.093437053263187,-0.090612970292568,0.046236556023359,-0.067813768982887,-0.135439857840538));
res += mul(Get(s3,0,dy), float4x4(0.019722783938050,-0.029690563678741,0.093271262943745,0.038060713559389,-0.003476565936580,0.083124309778214,-0.078760959208012,0.012010239064693,-0.030680315569043,0.026820324361324,-0.057541847229004,0.069359101355076,-0.012505717575550,0.204528883099556,0.089647546410561,-0.112074680626392));
res += mul(Get(s3,dx,-dy), float4x4(0.016576053574681,0.040976598858833,-0.068949744105339,0.047215737402439,-0.006599536631256,0.057646736502647,-0.078484736382961,0.006724976003170,-0.157117828726768,-0.120091453194618,0.067988097667694,0.136320859193802,-0.082862436771393,-0.183470875024796,0.022161921486259,0.159765943884850));
res += mul(Get(s3,dx,0), float4x4(-0.051527690142393,0.004701429512352,0.078053481876850,-0.071688115596771,-0.066921129822731,0.124562866985798,-0.002476296620443,0.187145844101906,-0.053735043853521,-0.093587748706341,-0.030883610248566,0.043301448225975,0.077664881944656,0.116748549044132,-0.023762365803123,0.195673674345016));
res += mul(Get(s3,dx,dy), float4x4(-0.065006054937840,0.007477404084057,-0.045260783284903,-0.145785212516785,-0.095894992351532,-0.126167967915535,0.127238199114799,0.135581865906715,0.027864078059793,-0.071194715797901,0.015325041487813,-0.040478616952896,-0.006967568304390,0.041010957211256,-0.030428521335125,-0.025200678035617));
return max(float4(0,0,0,0), res);
}
