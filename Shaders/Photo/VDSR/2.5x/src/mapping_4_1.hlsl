sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.082480512559414,0.166017293930054,-0.091856867074966,-0.179801687598228,-0.032986830919981,-0.119324013590813,-0.044977769255638,-0.151544630527496,0.034557841718197,0.120217338204384,-0.074571721255779,0.113796345889568,0.067562341690063,-0.059701021760702,-0.075918570160866,-0.072873920202255));
res += mul(Get(s0,-dx,0), float4x4(0.120350606739521,-0.052367117255926,-0.067647688090801,0.037114430218935,-0.004691914655268,-0.065193332731724,0.122056916356087,-0.094946369528770,-0.028454409912229,-0.109620302915573,0.169595509767532,-0.159805253148079,0.162473782896996,0.037357069551945,0.017225962132215,-0.048337381333113));
res += mul(Get(s0,-dx,dy), float4x4(0.017740838229656,0.074112273752689,-0.064817197620869,-0.176775947213173,-0.013596395961940,0.063587978482246,0.103079102933407,-0.046957183629274,-0.040709536522627,0.184007063508034,-0.239323168992996,0.124916553497314,0.140145346522331,0.067429445683956,0.021598277613521,0.123296141624451));
res += mul(Get(s0,0,-dy), float4x4(0.205274462699890,0.055463276803493,-0.170405268669128,0.063150063157082,-0.134059384465218,-0.144644826650620,0.067035757005215,-0.015597840771079,0.003157824743539,0.056473057717085,0.183405861258507,0.089060217142105,-0.040098089724779,-0.053651787340641,0.006732109002769,-0.151051521301270));
res += mul(Get(s0,0,0), float4x4(-0.006873737554997,0.043151013553143,-0.187433168292046,0.004298086743802,0.069581501185894,-0.156045183539391,-0.004246776923537,0.155267015099525,-0.014385517686605,-0.197408646345139,0.033020142465830,-0.083385989069939,0.128296673297882,0.048203282058239,-0.063306540250778,0.035969667136669));
res += mul(Get(s0,0,dy), float4x4(0.003848970867693,-0.102674908936024,-0.329104036092758,0.030503343790770,0.088438257575035,-0.002830139128491,0.088980861008167,-0.135384261608124,-0.088392682373524,0.037256278097630,0.014116421341896,-0.001792638679035,-0.083561949431896,-0.060197003185749,-0.090438105165958,0.081197343766689));
res += mul(Get(s0,dx,-dy), float4x4(-0.035591851919889,0.008518917486072,0.043818265199661,-0.029169263318181,0.062710940837860,-0.045810729265213,-0.086491845548153,0.145836651325226,-0.007469324860722,-0.168376773595810,-0.003964968025684,-0.066098242998123,-0.158530890941620,0.124736137688160,0.108759164810181,-0.092125110328197));
res += mul(Get(s0,dx,0), float4x4(0.135371536016464,-0.011071315035224,-0.092651419341564,0.116972036659718,0.103219658136368,0.089014902710915,-0.080767177045345,0.078586734831333,0.011899909004569,0.083103492856026,-0.104385986924171,0.016680406406522,-0.080028079450130,-0.124406710267067,-0.162979528307915,0.107797369360924));
res += mul(Get(s0,dx,dy), float4x4(0.102035246789455,-0.060446236282587,0.033240221440792,0.116166420280933,-0.081381037831306,-0.037448808550835,-0.087213993072510,0.004344123881310,-0.099975548684597,0.196617200970650,0.042408213019371,0.210088476538658,0.051955863833427,-0.005900926887989,0.066336378455162,0.070328585803509));
res += mul(Get(s1,-dx,-dy), float4x4(-0.020213762298226,-0.011345021426678,0.124781198799610,-0.107484638690948,0.178984478116035,0.133024826645851,-0.000139582902193,0.010623488575220,-0.051043659448624,0.016139784827828,0.037064857780933,-0.133960291743279,0.048975568264723,0.042366027832031,-0.234345361590385,-0.104292437434196));
res += mul(Get(s1,-dx,0), float4x4(0.056657768785954,-0.108962915837765,-0.066927589476109,0.246983677148819,0.009333703666925,0.106263332068920,-0.260823041200638,0.120432265102863,0.040198691189289,0.133645325899124,-0.122949145734310,0.219502985477448,0.129134461283684,0.102338857948780,-0.131124302744865,-0.063268497586250));
res += mul(Get(s1,-dx,dy), float4x4(-0.074286974966526,-0.038117241114378,-0.015697516500950,0.057665422558784,0.100683070719242,-0.049333810806274,-0.105535872280598,-0.031631957739592,0.082799069583416,0.046688526868820,-0.069935247302055,-0.034807603806257,-0.110442034900188,-0.196385920047760,-0.040511295199394,0.039501518011093));
res += mul(Get(s1,0,-dy), float4x4(0.014536658301950,-0.144954577088356,0.095138661563396,0.021015338599682,0.051981434226036,-0.146763473749161,0.052927602082491,-0.078709729015827,0.002042799256742,-0.164787217974663,-0.150920972228050,-0.096980795264244,-0.126921847462654,-0.078243501484394,0.038277875632048,-0.056867372244596));
res += mul(Get(s1,0,0), float4x4(-0.205257788300514,-0.209395870566368,0.272171527147293,0.040493655949831,0.053228739649057,0.002959906822070,0.049608811736107,-0.064733207225800,-0.094239696860313,-0.005407014861703,0.015127456746995,0.036858502775431,-0.020546050742269,-0.029536819085479,-0.072481401264668,0.053024988621473));
res += mul(Get(s1,0,dy), float4x4(0.176209181547165,-0.180594369769096,0.133642539381981,-0.126740187406540,0.138520061969757,-0.030620280653238,-0.137738734483719,0.009443104267120,-0.068776004016399,0.095403619110584,0.090188987553120,0.049303423613310,0.078185401856899,-0.237463057041168,-0.112399026751518,-0.155294254422188));
res += mul(Get(s1,dx,-dy), float4x4(0.059719230979681,-0.064014397561550,-0.115138575434685,0.187818691134453,0.037825290113688,0.130919188261032,0.056046724319458,-0.004850819241256,-0.200253456830978,-0.181629583239555,-0.079728767275810,-0.066844843327999,-0.107504040002823,-0.277186155319214,-0.135082021355629,0.126704782247543));
res += mul(Get(s1,dx,0), float4x4(-0.086106687784195,0.068110227584839,-0.028646290302277,-0.026078252121806,-0.187427639961243,-0.078892275691032,0.024752274155617,-0.156844183802605,0.030770212411880,-0.009899063035846,0.001734172459692,0.303012162446976,-0.084682576358318,-0.180708006024361,0.087744958698750,0.034854806959629));
res += mul(Get(s1,dx,dy), float4x4(-0.185972675681114,0.004350533243269,-0.092791534960270,0.066698729991913,0.077554576098919,0.172574758529663,0.116199657320976,0.105331532657146,-0.061280529946089,-0.090992353856564,-0.041926648467779,-0.087176993489265,0.062003221362829,0.098706111311913,0.031907446682453,0.045720878988504));
res += mul(Get(s2,-dx,-dy), float4x4(0.076314069330692,0.245035037398338,0.050639640539885,-0.286813706159592,0.143651604652405,0.213065281510353,-0.038725610822439,0.106318905949593,0.117919854819775,-0.117085590958595,-0.052595201879740,0.122783102095127,0.023664789274335,0.076305203139782,0.024341076612473,-0.017737159505486));
res += mul(Get(s2,-dx,0), float4x4(0.075794555246830,-0.050265640020370,0.135242164134979,-0.187780916690826,-0.172308892011642,-0.071836635470390,0.050656415522099,-0.146966695785522,0.091614834964275,0.141473293304443,0.328574657440186,-0.058614641427994,0.204769656062126,-0.052317146211863,0.077372610569000,0.114096403121948));
res += mul(Get(s2,-dx,dy), float4x4(0.108548603951931,-0.034656886011362,0.128878802061081,0.047012981027365,0.029525309801102,-0.000246686249739,0.009597845375538,-0.024291183799505,0.045523155480623,-0.084122009575367,-0.098199546337128,0.083802454173565,-0.033988699316978,-0.031158855184913,-0.053484700620174,-0.118432819843292));
res += mul(Get(s2,0,-dy), float4x4(0.116816140711308,0.081190615892410,-0.091862834990025,-0.113797910511494,-0.062336314469576,0.072777248919010,0.006225584540516,0.181326374411583,0.031043650582433,-0.145280390977859,0.225034862756729,0.088378049433231,0.037737894803286,-0.050083771348000,0.061837829649448,0.129476726055145));
res += mul(Get(s2,0,0), float4x4(-0.148826688528061,0.137786194682121,-0.169113427400589,0.021399665623903,0.048854041844606,0.035347666591406,-0.044351641088724,-0.134754940867424,-0.127990007400513,0.082830309867859,-0.030932160094380,-0.012209799140692,0.042817719280720,0.013839750550687,-0.070911832153797,-0.113536462187767));
res += mul(Get(s2,0,dy), float4x4(0.048400186002254,0.118125133216381,-0.068077027797699,-0.032604064792395,-0.083110049366951,0.055602461099625,0.080160550773144,-0.055544253438711,0.005697907879949,-0.029514418914914,0.085086464881897,-0.243123069405556,-0.080518133938313,0.051731515675783,0.094413474202156,0.159953504800797));
res += mul(Get(s2,dx,-dy), float4x4(-0.029769511893392,0.284449517726898,0.119242973625660,-0.058116443455219,-0.110068909823895,-0.014986540190876,-0.046889621764421,0.004884864669293,0.046146363019943,-0.106052905321121,-0.039783570915461,-0.124780938029289,0.058122061192989,0.178651049733162,0.088410101830959,0.006576714105904));
res += mul(Get(s2,dx,0), float4x4(-0.216947689652443,0.060391128063202,0.118035934865475,0.021918604150414,0.085787758231163,-0.132527545094490,-0.032355286180973,0.027890348806977,0.070099309086800,0.062561504542828,-0.036608867347240,-0.193994969129562,0.042866043746471,-0.063393086194992,0.046790704131126,0.127288460731506));
res += mul(Get(s2,dx,dy), float4x4(0.009082100354135,-0.110375039279461,-0.004795644897968,-0.013020749203861,0.117904797196388,-0.108381763100624,-0.143600061535835,0.295442640781403,-0.106650881469250,0.046664919704199,0.074202753603458,0.042158879339695,-0.228453800082207,-0.069675125181675,-0.101179845631123,-0.149236738681793));
res += mul(Get(s3,-dx,-dy), float4x4(0.246173381805420,-0.050756350159645,-0.170007392764091,0.038596298545599,-0.111571840941906,0.002181885531172,-0.007914810441434,-0.218734875321388,0.011890505440533,0.171015605330467,0.114850930869579,-0.168887570500374,-0.027930065989494,-0.085806578397751,-0.026437310501933,-0.002026256406680));
res += mul(Get(s3,-dx,0), float4x4(0.147344827651978,0.156183689832687,-0.034886598587036,-0.059357836842537,0.197935298085213,-0.063370302319527,-0.096220485866070,-0.175846368074417,-0.088553853332996,-0.045221913605928,0.084695048630238,-0.129048511385918,-0.021345529705286,0.058671690523624,0.153912290930748,0.006889841519296));
res += mul(Get(s3,-dx,dy), float4x4(0.074863336980343,-0.011091641150415,0.023746317252517,-0.197413980960846,-0.111886307597160,0.126066178083420,0.105235740542412,-0.053253445774317,0.042659252882004,0.123846136033535,0.217095896601677,0.071551635861397,0.076376646757126,-0.112235985696316,0.041249640285969,0.208782613277435));
res += mul(Get(s3,0,-dy), float4x4(0.028477640822530,0.030034437775612,-0.150741070508957,0.124355398118496,0.080512963235378,0.121891736984253,0.084354132413864,0.079623885452747,0.026807418093085,-0.053620565682650,-0.007550898939371,-0.187578156590462,-0.142087146639824,0.064928300678730,0.013535818085074,0.017360921949148));
res += mul(Get(s3,0,0), float4x4(-0.033270929008722,-0.057806521654129,0.090388312935829,0.065237089991570,-0.010274111293256,-0.188332989811897,0.024903574958444,-0.004389280918986,0.232672885060310,-0.209222868084908,0.098865568637848,-0.328770071268082,-0.246200338006020,-0.027959920465946,0.030479289591312,-0.047738648951054));
res += mul(Get(s3,0,dy), float4x4(-0.143945053219795,-0.029081001877785,0.160569161176682,-0.088302649557590,-0.209751635789871,-0.122394986450672,-0.034580189734697,-0.000501938688103,0.112528339028358,0.094434842467308,0.186931595206261,0.038361128419638,-0.017694814130664,-0.019150113686919,-0.090516284108162,0.142496794462204));
res += mul(Get(s3,dx,-dy), float4x4(-0.031901769340038,0.142430916428566,-0.065657407045364,0.073190912604332,0.264145284891129,-0.039216052740812,0.177998781204224,-0.042099822312593,0.012936400249600,0.008695969358087,-0.069070212543011,0.029741173610091,-0.099114097654819,-0.084570467472076,-0.127731680870056,0.115209959447384));
res += mul(Get(s3,dx,0), float4x4(0.086665160953999,0.114306695759296,0.005501743871719,0.015818083658814,-0.132061839103699,0.157953321933746,-0.227996885776520,0.036328881978989,-0.126521825790405,-0.098506711423397,0.162132799625397,0.043461065739393,0.093003764748573,-0.083985321223736,-0.199839398264885,0.172387599945068));
res += mul(Get(s3,dx,dy), float4x4(0.182303056120872,0.158333495259285,-0.155644968152046,-0.122738093137741,-0.078081198036671,0.039880864322186,0.032782196998596,0.074745945632458,0.114367350935936,-0.035988193005323,-0.139734610915184,0.148071497678757,0.002016867743805,-0.057902868837118,0.100119590759277,0.083420276641846));
return max(float4(0,0,0,0), res);
}
