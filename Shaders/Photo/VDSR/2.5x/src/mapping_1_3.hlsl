sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000388643995393,-0.007306056097150,-0.002110450528562,-0.005468142684549,0.040519997477531,-0.190957337617874,0.122558921575546,-0.024125244468451,-0.001876959926449,0.000928052933887,0.003672393271700,0.005740235093981,-0.003171359188855,0.003600252559409,0.004361204337329,0.001216182718053));
res += mul(Get(s0,-dx,0), float4x4(0.004538804758340,-0.006900937762111,0.006409410387278,-0.006200768053532,-0.148186787962914,-0.090515762567520,-0.195433005690575,0.231090366840363,-0.004688772372901,0.001405295100994,-0.000132697459776,-0.003262076759711,-0.000346971733961,-0.006459761410952,-0.001530592096969,0.004657535348088));
res += mul(Get(s0,-dx,dy), float4x4(0.001868360908702,-0.006758005823940,-0.001246794592589,0.002853660145774,0.061274364590645,-0.032788924872875,-0.281383156776428,-0.058678872883320,-0.000212022801861,0.000198508365429,-0.001572383800521,0.003936741035432,0.005082263611257,-0.000543976668268,-0.002425635932013,0.004007122945040));
res += mul(Get(s0,0,-dy), float4x4(0.003391817444935,0.003052579006180,-0.002404825296253,-0.002323509426787,-0.030848272144794,-0.169521242380142,0.110171549022198,-0.094848401844501,-0.000757050584070,-0.003445436712354,-0.000252170168096,0.005300464574248,0.004791189916432,0.000920553749893,0.003610605141148,-0.003473122837022));
res += mul(Get(s0,0,0), float4x4(-0.004205084405839,0.001405253773555,-0.001524105318822,0.004541569389403,-0.239795222878456,-0.041061423718929,-0.375096410512924,0.256633549928665,0.000711767002940,0.002077768323943,-0.000501458416693,-0.005806578323245,-0.000461043120595,-0.002242773538455,0.000365902262274,-0.001612073392607));
res += mul(Get(s0,0,dy), float4x4(0.004658270161599,-0.002596932230517,0.002713984809816,-0.004781419876963,0.103990919888020,0.015248631127179,-0.567944288253784,-0.189124241471291,0.003636668436229,-0.002807485871017,0.004105041734874,0.000146653444972,-0.002192881889641,0.002795495092869,-0.001339036622085,0.001260061748326));
res += mul(Get(s0,dx,-dy), float4x4(0.005383007694036,0.005432718433440,-0.004607334267348,-0.002185479737818,0.005847233347595,-0.152947932481766,0.439067184925079,-0.064753614366055,0.002089984947816,-0.003797880839556,-0.001000729505904,0.012585024349391,-0.005584726110101,0.000929110683501,-0.002713993191719,-0.000211860766285));
res += mul(Get(s0,dx,0), float4x4(-0.007597047835588,0.000421015021857,0.002457355614752,0.000843817833811,-0.232494592666626,-0.046538364142179,0.436716258525848,0.240558773279190,0.004769887775183,-0.003712654346600,-0.003794456832111,-0.000872198899742,0.002467080485076,-0.000562440895010,-0.005439382512122,0.009307895787060));
res += mul(Get(s0,dx,dy), float4x4(-0.000600657484028,-0.005838213022798,-0.004809611476958,0.001962035894394,0.073687247931957,-0.055490639060736,0.248927161097527,-0.124376498162746,-0.002717133378610,0.003489764407277,-0.000847584044095,0.001559962867759,0.000083125414676,-0.002047107089311,0.000557020539418,0.001606438891031));
res += mul(Get(s1,-dx,-dy), float4x4(-0.092247396707535,0.100433334708214,0.063206858932972,-0.123198412358761,0.001271574292332,-0.003710170974955,0.000092166825198,0.006841106805950,0.022257810458541,0.010142683982849,-0.140595912933350,0.031456463038921,-0.003563388017938,0.001897590234876,0.002591570839286,-0.000715142872650));
res += mul(Get(s1,-dx,0), float4x4(-0.039377689361572,0.091052860021591,-0.097488492727280,-0.008580435067415,0.002016090322286,0.007327314931899,-0.003549887100235,0.003912772517651,0.008805785328150,-0.008121669292450,-0.083718910813332,0.082254871726036,0.000275786267594,0.003874622285366,-0.000885257613845,-0.005332184489816));
res += mul(Get(s1,-dx,dy), float4x4(0.060025297105312,-0.000190314880456,-0.254796236753464,-0.034857515245676,0.004963890649378,-0.000923368614167,-0.011235050857067,0.000563745968975,-0.005251131486148,0.001351127750240,0.048185348510742,0.051760699599981,0.003461941378191,0.000034136188333,-0.002233469858766,-0.010214440524578));
res += mul(Get(s1,0,-dy), float4x4(-0.071961089968681,0.139542162418365,-0.011168885044754,-0.132469221949577,-0.002533221384510,0.001644672476687,0.001628049765714,-0.002938797930256,0.035606451332569,-0.010603972710669,-0.220640957355499,0.011458928696811,0.003961115609854,0.005876340903342,0.002606334397569,0.000044673062803));
res += mul(Get(s1,0,0), float4x4(0.036798484623432,0.073201335966587,-0.069331869482994,0.001370822079480,0.005158048123121,-0.003725420217961,-0.001291986787692,0.003518437035382,0.013027592562139,-0.004278370644897,-0.162043541669846,0.133077740669250,-0.000281845306745,-0.002982196630910,0.007426122669131,0.000949721143115));
res += mul(Get(s1,0,dy), float4x4(0.149232119321823,-0.045934662222862,-0.335375845432281,0.021883007138968,-0.002014566445723,0.000853634788655,-0.002488008700311,0.002997227013111,-0.014844006858766,0.003345831995830,-0.006864125840366,0.020683394744992,-0.006874550599605,-0.007377646863461,0.003134966129437,-0.002281953580678));
res += mul(Get(s1,dx,-dy), float4x4(0.010336354374886,0.086385160684586,0.263824790716171,-0.106234446167946,-0.002976897871122,0.002451228909194,0.000933582603466,0.005504419095814,0.016441574320197,-0.004420419689268,-0.083583198487759,-0.013902575708926,-0.003929075784981,-0.002795151202008,0.002531794598326,-0.003370358375832));
res += mul(Get(s1,dx,0), float4x4(0.049913208931684,-0.014729525893927,0.369003355503082,-0.015798361971974,-0.001649349345826,-0.000202703449759,-0.003384607145563,0.002344561507925,0.004784665070474,-0.004739448893815,-0.152888864278793,0.055157657712698,0.000811332021840,-0.000661321741063,0.005190524272621,0.000398395612137));
res += mul(Get(s1,dx,dy), float4x4(0.025909904390574,-0.081602878868580,0.088635832071304,-0.004791974555701,0.005506883841008,0.001368987839669,0.002581585664302,0.006895717699081,-0.012289301492274,-0.017002655193210,0.061243761330843,-0.012458737008274,0.002940801670775,-0.001471260329708,0.001139326719567,-0.002355376025662));
res += mul(Get(s2,-dx,-dy), float4x4(0.001705698436126,-0.003114246996120,-0.001783903571777,0.000593283155467,0.033956803381443,-0.002692652167752,0.036918211728334,0.059451498091221,0.002686932217330,0.075232118368149,-0.081532165408134,0.014276331290603,0.005413109436631,-0.004093763884157,0.001054781605490,0.042923584580421));
res += mul(Get(s2,-dx,0), float4x4(-0.002246045041829,0.004911997821182,0.000863723922521,-0.003896159352735,0.024881625548005,0.001358592184260,0.002804391318932,0.066367253661156,0.070134103298187,0.150137752294540,0.038164697587490,0.121504388749599,0.002934644697234,-0.005092867184430,-0.018809456378222,0.039914309978485));
res += mul(Get(s2,-dx,dy), float4x4(0.008245942182839,-0.005936189554632,0.002854366088286,0.001659572008066,0.032716602087021,0.012010218575597,-0.012227614410222,0.036656145006418,0.110131219029427,0.049691624939442,0.202237948775291,0.053525019437075,0.003643904812634,-0.002483199583367,-0.020837938413024,0.014460342936218));
res += mul(Get(s2,0,-dy), float4x4(0.000267970754066,-0.001808416564018,0.003381601534784,-0.001002044999041,0.031380943953991,-0.007143554743379,-0.147509232163429,0.056702256202698,-0.019932055845857,0.082978300750256,-0.051047012209892,0.008411100134254,0.023171870037913,-0.005471217446029,-0.056918550282717,0.056728374212980));
res += mul(Get(s2,0,0), float4x4(0.003176843281835,-0.003559195902199,0.002149639185518,-0.000373919436242,0.029433626681566,0.001980035100132,-0.166544839739799,0.064209997653961,0.146230429410934,0.110680520534515,0.043018572032452,0.156020298600197,0.004158415365964,-0.011569356545806,-0.065897800028324,0.047617569565773));
res += mul(Get(s2,0,dy), float4x4(-0.001527638640255,-0.001740870298818,0.005061460193247,-0.005248183384538,0.039750788360834,-0.001702648005448,-0.206634759902954,0.029210256412625,0.174235835671425,0.012818521820009,0.113067567348480,0.118723124265671,0.003507851157337,0.000155715213623,-0.080148980021477,0.024195965379477));
res += mul(Get(s2,dx,-dy), float4x4(-0.004094462841749,-0.002448830055073,0.006786129903048,-0.002812190679833,0.045934818685055,-0.004947653971612,-0.016554884612560,0.023061037063599,-0.031873177736998,0.025206476449966,0.009392179548740,0.025216924026608,0.043691948056221,-0.014847622253001,0.018308671191335,0.032841186970472));
res += mul(Get(s2,dx,0), float4x4(0.002516885753721,0.001756506972015,-0.006982292514294,0.001499859499745,0.034436360001564,-0.000873298384249,-0.022310173138976,0.010576518252492,0.104699507355690,0.045090716332197,0.051409292966127,0.091260775923729,0.026751825585961,-0.020464258268476,-0.015145596116781,0.022707445546985));
res += mul(Get(s2,dx,dy), float4x4(0.003809913061559,-0.003821891732514,-0.006533974315971,-0.002898333594203,0.034437030553818,0.006086697801948,-0.013263000175357,0.007764277979732,0.093396991491318,0.020020758733153,0.054450955241919,0.094180911779404,0.011372234672308,-0.002340347273275,0.000205739910598,0.028507031500340));
res += mul(Get(s3,-dx,-dy), float4x4(0.007964826188982,-0.002275757025927,-0.051232840865850,0.029900483787060,0.006475029047579,-0.003450080752373,-0.000612936506514,-0.002015438163653,-0.061321966350079,0.007084481883794,0.060854781419039,0.109532281756401,0.085318304598331,0.013860215432942,-0.106727309525013,0.084617413580418));
res += mul(Get(s3,-dx,0), float4x4(0.002710641361773,0.005428762175143,-0.134240895509720,0.000632619252428,0.000104457038105,0.004531272687018,0.003691944060847,-0.000434952176875,-0.108093656599522,0.013427515514195,0.006913346238434,0.052891328930855,0.061158373951912,-0.017332596704364,-0.124893650412560,0.070318840444088));
res += mul(Get(s3,-dx,dy), float4x4(0.005074081011117,-0.017895950004458,-0.106202349066734,0.024595420807600,-0.000715294212569,0.000112158690172,0.001447614049539,0.006679293233901,-0.080486670136452,0.051890086382627,0.013074944727123,0.003513735486194,0.028960494324565,-0.034622725099325,-0.140545770525932,0.015689741820097));
res += mul(Get(s3,0,-dy), float4x4(0.010210908949375,0.001094860723242,-0.074575617909431,0.021656595170498,0.006426447071135,0.000449438579381,0.006724622566253,-0.007456592749804,-0.014884361065924,0.012511319480836,-0.205722436308861,0.142306193709373,0.069546699523926,0.021887687966228,-0.050346843898296,0.072489067912102));
res += mul(Get(s3,0,0), float4x4(0.008342825807631,0.008104938082397,-0.109632268548012,0.044373143464327,-0.009271968156099,0.000994001515210,0.003490319941193,-0.002356512704864,-0.024265527725220,-0.030760807916522,-0.072991527616978,0.133975729346275,0.048692885786295,0.002402412705123,-0.007192634511739,0.119976848363876));
res += mul(Get(s3,0,dy), float4x4(0.002276768907905,-0.027926573529840,-0.042155809700489,0.007617863826454,-0.001693652709946,0.002762167016044,-0.004507491830736,-0.000702372810338,0.005298024043441,-0.037132013589144,-0.124752841889858,0.043555613607168,0.061289001256227,-0.021837012842298,-0.042948890477419,0.080835215747356));
res += mul(Get(s3,dx,-dy), float4x4(0.009148607961833,-0.007233814802021,-0.039913356304169,0.005093333311379,0.008887012489140,0.005595567170531,-0.001506461645477,0.000491564802360,0.107968918979168,-0.033875346183777,0.005264151375741,0.109935812652111,0.037544712424278,0.017890557646751,-0.084459066390991,0.082126185297966));
res += mul(Get(s3,dx,0), float4x4(0.005723767448217,0.007921027019620,-0.069523103535175,-0.023502893745899,-0.001758293597959,-0.000960925710388,0.003175280056894,-0.006589601282030,0.108172267675400,-0.077801622450352,0.015882125124335,0.094573862850666,0.033001534640789,0.029405398294330,-0.130645230412483,0.097079493105412));
res += mul(Get(s3,dx,dy), float4x4(0.010539926588535,-0.025706570595503,0.055967196822166,0.001110409153625,-0.002043116139248,-0.006356946192682,0.000914269301575,0.001932755345479,0.026264864951372,-0.077828980982304,0.101809889078140,0.063236154615879,0.051352456212044,0.042077012360096,-0.144024997949600,0.067113511264324));
return max(float4(0,0,0,0), res);
}
