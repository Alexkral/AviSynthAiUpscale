sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.059881169348955,-0.054864421486855,-0.120350807905197,0.026370029896498,-0.038520161062479,0.064447671175003,-0.022518100216985,0.067111767828465,-0.089548438787460,-0.103506952524185,0.130342081189156,0.104285173118114,-0.061917733401060,-0.017575269564986,-0.021250160411000,0.026636190712452));
res += mul(Get(s0,-dx,0), float4x4(-0.041523549705744,-0.047721806913614,-0.010595196858048,-0.017898172140121,-0.057347618043423,0.191340073943138,-0.073611311614513,-0.088347360491753,-0.037583291530609,0.187409192323685,0.021176621317863,0.050830226391554,0.166618809103966,0.103804431855679,-0.089471906423569,0.183714434504509));
res += mul(Get(s0,-dx,dy), float4x4(0.071895867586136,0.109759427607059,-0.148609653115273,-0.039106078445911,-0.138707563281059,0.091449283063412,0.002619101433083,0.005791590549052,0.082819484174252,0.005257813259959,-0.043358482420444,-0.055349707603455,-0.016299793496728,-0.031990509480238,-0.066406741738319,0.085120573639870));
res += mul(Get(s0,0,-dy), float4x4(0.042053066194057,0.025181382894516,0.043738860636950,-0.087602533400059,-0.073906444013119,-0.043124761432409,0.016371613368392,-0.052339520305395,0.030046911910176,0.083268851041794,0.095941007137299,0.161153450608253,-0.009205911308527,-0.056915741413832,0.006750583648682,0.055903401225805));
res += mul(Get(s0,0,0), float4x4(0.002893806435168,0.014662114903331,0.205003678798676,-0.048462357372046,-0.078321926295757,-0.051361445337534,0.179176151752472,0.035985067486763,-0.006857917644083,0.147751495242119,0.040957905352116,0.015938688069582,-0.019682440906763,0.070015706121922,-0.074483178555965,0.112113654613495));
res += mul(Get(s0,0,dy), float4x4(0.148633733391762,-0.137223944067955,-0.153016507625580,-0.047480862587690,-0.177978083491325,-0.004034039098769,0.033814154565334,-0.013687727972865,-0.006381720770150,-0.095916144549847,0.010650114156306,-0.027356710284948,-0.052327945828438,0.015103946439922,-0.096169747412205,0.030776968225837));
res += mul(Get(s0,dx,-dy), float4x4(0.098841071128845,-0.020339490845799,-0.003652824088931,-0.125235304236412,-0.102778486907482,-0.083687454462051,-0.051346525549889,0.007272947113961,0.266697704792023,-0.179657831788063,0.078100539743900,-0.140311598777771,-0.024983705952764,-0.108021944761276,-0.051454462110996,0.039342306554317));
res += mul(Get(s0,dx,0), float4x4(0.003012508386746,0.036602757871151,0.114670783281326,-0.062127232551575,-0.110921241343021,-0.133697941899300,-0.028275284916162,-0.034272402524948,0.044290769845247,-0.142566025257111,-0.155291303992271,-0.015696061775088,-0.010466373525560,-0.062658317387104,-0.101070933043957,0.097835130989552));
res += mul(Get(s0,dx,dy), float4x4(0.037343744188547,-0.096975937485695,-0.035538237541914,-0.028843274340034,-0.166128247976303,0.033589314669371,0.108136907219887,-0.055139541625977,-0.000337687786669,-0.119603559374809,-0.036986760795116,-0.027320720255375,-0.100296974182129,-0.078555017709732,-0.065189875662327,-0.084471508860588));
res += mul(Get(s1,-dx,-dy), float4x4(-0.060044486075640,0.133467987179756,0.168474495410919,-0.002212011022493,0.009609185159206,0.036460284143686,0.142378389835358,-0.041124351322651,-0.049526009708643,-0.037537418305874,-0.089874938130379,0.007298422046006,-0.069600254297256,0.008243354037404,0.052840758115053,-0.111125774681568));
res += mul(Get(s1,-dx,0), float4x4(-0.086745686829090,-0.162295132875443,0.054398957639933,-0.008931376039982,-0.014831732027233,-0.048042312264442,0.138827905058861,-0.049974475055933,-0.122440576553345,-0.100101433694363,0.059258602559566,0.102947250008583,0.167709395289421,-0.163358435034752,-0.039210919290781,-0.021326147019863));
res += mul(Get(s1,-dx,dy), float4x4(-0.000795278698206,-0.090883001685143,0.019507626071572,0.012788567692041,0.028154935687780,0.064988292753696,0.170770153403282,-0.027683196589351,-0.030291588976979,-0.025347303599119,-0.026235386729240,0.092111416161060,-0.004192839842290,-0.016455261036754,0.029848240315914,0.209476754069328));
res += mul(Get(s1,0,-dy), float4x4(-0.024199966341257,0.102815389633179,-0.021207174286246,-0.085190795361996,-0.103781692683697,0.008351949974895,0.081200152635574,-0.053956314921379,-0.113544717431068,0.089626014232635,-0.033352136611938,-0.113250784575939,-0.088010549545288,-0.004053754266351,0.007082935888320,0.068919390439987));
res += mul(Get(s1,0,0), float4x4(-0.050382193177938,-0.034058794379234,-0.016381546854973,-0.092717774212360,-0.194975376129150,-0.082666635513306,0.034266620874405,0.014397112652659,-0.026706524193287,-0.046212874352932,0.048280946910381,-0.115921087563038,0.036416310817003,0.068527318537235,-0.007220886182040,0.073000803589821));
res += mul(Get(s1,0,dy), float4x4(0.022569833323359,0.024967342615128,-0.073788933455944,-0.066698074340820,0.010684669949114,0.030628291890025,-0.047635417431593,0.004548284690827,0.003036431968212,0.055373746901751,0.005082976538688,-0.079694792628288,-0.022118870168924,0.020990705117583,-0.042486716061831,-0.050838343799114));
res += mul(Get(s1,dx,-dy), float4x4(-0.058634433895350,0.195040538907051,-0.034383032470942,-0.124969400465488,-0.097543984651566,0.053813591599464,-0.060698755085468,0.040165245532990,-0.029835820198059,0.083247303962708,-0.019978871569037,-0.003678153036162,-0.050293747335672,-0.179727524518967,0.139783486723900,0.132011026144028));
res += mul(Get(s1,dx,0), float4x4(-0.005218953359872,0.037005312740803,-0.002676081610844,-0.078202441334724,-0.111531078815460,0.091515511274338,0.041799087077379,-0.001998216379434,0.009890654124320,0.169226065278053,-0.144668444991112,0.008144452236593,0.018890567123890,-0.019156485795975,0.110475733876228,0.074222236871719));
res += mul(Get(s1,dx,dy), float4x4(-0.045388292521238,0.116796888411045,-0.015620060265064,0.077073343098164,0.016141135245562,-0.014764777384698,-0.048027127981186,0.052012737840414,0.116813614964485,0.078844957053661,-0.098050639033318,-0.098963059484959,-0.079222582280636,0.082273982465267,0.006044167093933,-0.071707636117935));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021299660205841,0.001329379389063,-0.083882197737694,0.168027549982071,0.022031841799617,-0.046882726252079,0.005453437101096,0.024336630478501,-0.045300636440516,0.089144013822079,0.003720946144313,-0.090832270681858,0.030035410076380,0.102110587060452,0.018360231071711,0.148308783769608));
res += mul(Get(s2,-dx,0), float4x4(-0.054483301937580,0.198985084891319,0.034317780286074,0.104062668979168,0.008343125693500,0.048621740192175,0.084475807845592,0.087718382477760,0.002594339894131,-0.021117513999343,-0.013955457136035,-0.035750396549702,-0.072828434407711,-0.113332211971283,-0.037012998014688,0.158588752150536));
res += mul(Get(s2,-dx,dy), float4x4(-0.033257760107517,-0.056531831622124,-0.008524994365871,0.043025519698858,0.034824553877115,0.128617167472839,-0.010764357633889,0.091923959553242,0.067012280225754,0.005258554127067,-0.047355309128761,0.062700450420380,0.095244616270065,0.033291384577751,-0.068829931318760,0.074075102806091));
res += mul(Get(s2,0,-dy), float4x4(0.084226027131081,0.025059614330530,-0.002450129482895,0.088840141892433,0.040377113968134,-0.108851157128811,-0.083611547946930,0.194038629531860,-0.067165784537792,-0.034949377179146,0.018436668440700,0.131225451827049,-0.047894079238176,0.083367511630058,0.071617692708969,-0.030610352754593));
res += mul(Get(s2,0,0), float4x4(-0.064637884497643,-0.023238398134708,-0.001766506815329,-0.129160448908806,-0.106752626597881,0.005154819693416,-0.052285779267550,-0.033326655626297,-0.052020438015461,-0.128453910350800,-0.006745906546712,0.097560629248619,0.082367263734341,0.130300715565681,-0.052689958363771,-0.079425133764744));
res += mul(Get(s2,0,dy), float4x4(-0.039617188274860,-0.023407086730003,0.009174429811537,-0.064683675765991,-0.042147960513830,0.063603773713112,-0.020765809342265,-0.016158198937774,0.037130802869797,-0.035928692668676,0.020313652232289,0.000822041765787,0.003687120042741,0.028221528977156,-0.066727891564369,0.167859226465225));
res += mul(Get(s2,dx,-dy), float4x4(-0.081192173063755,0.069303750991821,-0.004262072034180,-0.110897578299046,0.194997280836105,0.022513786330819,-0.130030944943428,0.001651686383411,-0.030549502000213,0.038618944585323,0.174287602305412,0.006860171444714,0.272782802581787,0.017150780186057,0.001083477633074,-0.104479610919952));
res += mul(Get(s2,dx,0), float4x4(0.024200374260545,-0.074683979153633,-0.014448544010520,-0.024764668196440,0.008768016472459,0.057556819170713,0.014428695663810,-0.095323659479618,-0.121672913432121,0.023868467658758,0.146713510155678,-0.042695991694927,0.097979694604874,-0.109245941042900,-0.071354888379574,-0.186158329248428));
res += mul(Get(s2,dx,dy), float4x4(0.029071958735585,-0.121829107403755,-0.062740780413151,0.021576983854175,0.074482493102551,0.155867218971252,0.077433265745640,-0.022644935175776,0.053148012608290,-0.033990204334259,-0.047851216048002,0.000542387249880,-0.100726850330830,-0.037417937070131,-0.095462538301945,-0.044193159788847));
res += mul(Get(s3,-dx,-dy), float4x4(0.127400472760201,0.050443086773157,0.043032184243202,0.034633904695511,0.012983421795070,0.035323649644852,-0.090166792273521,0.156383782625198,-0.076892510056496,-0.041306816041470,-0.106134846806526,-0.080802008509636,0.054297946393490,-0.048052430152893,0.050866987556219,0.011544713750482));
res += mul(Get(s3,-dx,0), float4x4(0.054461069405079,-0.004477412439883,-0.001748422742821,0.247886613011360,-0.026764137670398,-0.074738636612892,-0.038655642420053,-0.042161609977484,-0.045539297163486,-0.059085275977850,0.024551086127758,-0.008377216756344,0.074073351919651,0.033845853060484,-0.049411892890930,0.048075888305902));
res += mul(Get(s3,-dx,dy), float4x4(-0.085870742797852,0.006437313742936,0.071931213140488,0.169418320059776,0.091028884053230,0.022087773308158,-0.058652143925428,-0.077831670641899,-0.080935321748257,0.100618585944176,0.065891012549400,-0.032140929251909,-0.038939397782087,-0.039269573986530,0.018902901560068,-0.033818371593952));
res += mul(Get(s3,0,-dy), float4x4(0.063706353306770,-0.030604999512434,0.031298339366913,0.036264687776566,0.009511256590486,0.035649526864290,-0.007682833354920,0.184147775173187,-0.032387178391218,-0.020400600507855,0.096422299742699,-0.092551372945309,0.196300640702248,0.021784236654639,-0.087927408516407,-0.016589876264334));
res += mul(Get(s3,0,0), float4x4(0.062939420342445,-0.012774736620486,0.023836288601160,0.023318881168962,0.075209125876427,0.042984455823898,-0.013998784124851,0.013432999141514,0.007993900217116,0.015166652388871,-0.050040952861309,-0.088412575423717,-0.120481655001640,0.010990483686328,-0.033262621611357,-0.118806950747967));
res += mul(Get(s3,0,dy), float4x4(-0.057797569781542,0.090221881866455,0.054303944110870,-0.010796601884067,0.038567356765270,0.147000074386597,0.074248880147934,-0.036461010575294,-0.036392875015736,0.052726265043020,0.048741284757853,-0.185949727892876,-0.168046638369560,0.010609598830342,-0.026764651760459,-0.067297562956810));
res += mul(Get(s3,dx,-dy), float4x4(-0.072570823132992,-0.038194499909878,-0.008398472331464,-0.086729802191257,0.062329653650522,-0.002730467356741,-0.080282464623451,-0.021336954087019,-0.010053017176688,0.026890961453319,0.342242270708084,-0.115434862673283,0.030978450551629,-0.125871658325195,-0.102902092039585,0.146669656038284));
res += mul(Get(s3,dx,0), float4x4(0.075804308056831,-0.066360309720039,0.008750984445214,-0.109986744821072,-0.110171698033810,-0.116379126906395,-0.085696466267109,-0.102298609912395,0.116003997623920,0.096679963171482,-0.042542584240437,-0.000747355457861,-0.060874681919813,-0.172811269760132,-0.015989217907190,0.094640471041203));
res += mul(Get(s3,dx,dy), float4x4(0.099197857081890,-0.065661981701851,0.054282378405333,0.063893288373947,-0.010266288183630,-0.005806134082377,-0.060685090720654,-0.052094586193562,-0.074441388249397,-0.149852067232132,0.014043500646949,-0.033420309424400,-0.078564353287220,-0.230048984289169,0.109677955508232,0.193769752979279));
return max(float4(0,0,0,0), res);
}
