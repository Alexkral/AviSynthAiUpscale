sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.104895785450935,-0.167404115200043,0.124894373118877,0.068484805524349,0.100133977830410,0.001567609142512,-0.089588254690170,0.075343973934650,-0.080966114997864,0.016634585335851,0.059254247695208,0.061454445123672,-0.056939002126455,-0.073536604642868,0.106969676911831,-0.223608285188675));
res += mul(Get(s0,-dx,0), float4x4(0.099947415292263,-0.383176654577255,0.031570427119732,-0.000697531679180,0.087426461279392,0.044397216290236,0.063076108694077,0.216377854347229,-0.029776716604829,0.066252589225769,0.000874087738339,0.116397716104984,0.084783472120762,-0.066772647202015,-0.099360659718513,0.002216736553237));
res += mul(Get(s0,-dx,dy), float4x4(0.206797182559967,-0.003555368166417,-0.117289401590824,0.001415145001374,0.069849133491516,0.080107510089874,-0.219358354806900,0.139202058315277,0.116606228053570,0.105052568018436,-0.097341641783714,0.082899026572704,0.115648232400417,-0.101846382021904,0.006053412333131,0.050190500915051));
res += mul(Get(s0,0,-dy), float4x4(-0.046477992087603,0.130544289946556,0.168167218565941,0.029980042949319,0.076644673943520,-0.122357800602913,-0.034320604056120,-0.020172741264105,0.058888982981443,0.139761835336685,0.155730307102203,0.030552141368389,-0.250960111618042,-0.037991516292095,-0.029247302561998,-0.211531266570091));
res += mul(Get(s0,0,0), float4x4(0.132434025406837,0.010950574651361,0.012210926041007,0.176000878214836,-0.039388027042150,-0.039769820868969,0.062241654843092,0.091575168073177,-0.010369570925832,-0.223284646868706,-0.029761858284473,-0.050621934235096,-0.045181751251221,0.115564689040184,-0.226020678877831,-0.027541074901819));
res += mul(Get(s0,0,dy), float4x4(0.206241860985756,0.004647680558264,-0.055858280509710,-0.075463742017746,0.115506798028946,-0.208345592021942,-0.051411606371403,0.098136998713017,-0.156727626919746,-0.008159792050719,-0.164419129490852,-0.078460372984409,0.093663603067398,0.079047441482544,-0.117308206856251,0.041304260492325));
res += mul(Get(s0,dx,-dy), float4x4(0.031261999160051,0.073138557374477,0.183830916881561,-0.035908006131649,-0.031143179163337,-0.026056384667754,0.030406484380364,-0.115607537329197,0.010003732517362,-0.142679154872894,0.155429363250732,0.067399568855762,-0.145747676491737,0.012434686534107,-0.090598121285439,0.050878923386335));
res += mul(Get(s0,dx,0), float4x4(0.219478785991669,-0.047456279397011,-0.029356127604842,-0.040930114686489,-0.011653939262033,-0.088038571178913,0.044085737317801,-0.098552137613297,0.003528265748173,0.068357184529305,0.118784822523594,0.037377987056971,0.030479790642858,-0.024346835911274,0.089315123856068,-0.036171864718199));
res += mul(Get(s0,dx,dy), float4x4(-0.134904593229294,-0.064363926649094,-0.027506524696946,-0.002039967104793,0.109454743564129,0.037023223936558,-0.047168970108032,-0.083900280296803,-0.171552896499634,-0.063003465533257,-0.029316198080778,0.002279368229210,-0.147362053394318,-0.325947344303131,0.129868879914284,-0.024983255192637));
res += mul(Get(s1,-dx,-dy), float4x4(0.086261138319969,-0.072261594235897,-0.140154242515564,-0.111510016024113,0.081104464828968,0.086348637938499,0.047514148056507,-0.322952926158905,-0.074967525899410,0.040433716028929,-0.049139808863401,0.001625044504181,0.015595458447933,0.038719762116671,0.018243284896016,-0.045652810484171));
res += mul(Get(s1,-dx,0), float4x4(0.225646749138832,0.031298022717237,-0.109003879129887,-0.227262556552887,0.098792597651482,-0.021312864497304,0.025910461321473,-0.228258073329926,-0.187217116355896,-0.099407702684402,-0.029815470799804,0.112964123487473,-0.005000370088965,-0.113623812794685,0.127377226948738,-0.070440448820591));
res += mul(Get(s1,-dx,dy), float4x4(0.114328227937222,0.038974210619926,0.040871161967516,0.025046372786164,0.007293388247490,0.063992731273174,-0.109388008713722,0.119507521390915,0.075519941747189,-0.002224848605692,-0.196154862642288,-0.010046108625829,-0.068988271057606,0.092935077846050,-0.004219046793878,-0.034331113100052));
res += mul(Get(s1,0,-dy), float4x4(-0.104660861194134,0.031599141657352,0.029193494468927,0.044110268354416,0.080509766936302,-0.095421254634857,0.129684537649155,-0.115830413997173,-0.012493159621954,-0.078449368476868,0.086326658725739,-0.184675469994545,0.118959136307240,0.007451525889337,-0.127166524529457,0.160586372017860));
res += mul(Get(s1,0,0), float4x4(0.005935452412814,-0.119374901056290,0.224037483334541,-0.098691910505295,0.101343877613544,0.131492525339127,0.145301252603531,-0.008036083541811,0.102833293378353,-0.146670714020729,0.027076316997409,0.029847515746951,0.128836363554001,-0.019073346629739,0.211635306477547,0.010731449350715));
res += mul(Get(s1,0,dy), float4x4(-0.035822939127684,-0.014313098974526,-0.011938186362386,-0.065926559269428,0.001646452583373,0.070682033896446,-0.001228878973052,0.115049056708813,0.158834919333458,-0.072207234799862,-0.108677737414837,0.042256165295839,-0.049802228808403,-0.129020199179649,0.002616518409923,-0.060591794550419));
res += mul(Get(s1,dx,-dy), float4x4(-0.035871103405952,-0.078085578978062,0.065944917500019,-0.091553956270218,-0.057658165693283,-0.040950004011393,0.129724204540253,0.081538043916225,-0.072203248739243,-0.056380525231361,0.064745664596558,-0.121209643781185,-0.073510684072971,-0.119311757385731,-0.029755568131804,-0.042352695018053));
res += mul(Get(s1,dx,0), float4x4(0.068944841623306,0.114410802721977,-0.020210906863213,-0.036304298788309,-0.020331615582108,0.058151744306087,-0.072047099471092,-0.026950847357512,0.132786497473717,0.071956694126129,-0.213484585285187,-0.057481888681650,-0.094014480710030,-0.027497129514813,0.003053675638512,0.035416781902313));
res += mul(Get(s1,dx,dy), float4x4(0.042226038873196,0.136018648743629,-0.124655872583389,0.117265209555626,0.230710163712502,-0.021016748622060,-0.164832010865211,0.041526056826115,0.037702210247517,-0.114300109446049,-0.184059798717499,-0.064964160323143,0.099365994334221,0.124638259410858,0.035467427223921,0.094782494008541));
res += mul(Get(s2,-dx,-dy), float4x4(-0.005372081417590,0.005503299646080,-0.077016256749630,0.070083148777485,0.070399418473244,0.072537422180176,0.059304185211658,-0.008530417457223,0.179401963949203,0.076321236789227,0.081734515726566,-0.006607780233026,0.172490879893303,-0.155532866716385,-0.078609742224216,0.125590771436691));
res += mul(Get(s2,-dx,0), float4x4(0.105465710163116,-0.105824813246727,0.225207716226578,0.121489025652409,-0.008168597705662,0.055577218532562,-0.082436770200729,-0.049028307199478,0.001319604576565,-0.017761342227459,0.150829195976257,0.089334368705750,0.105786606669426,-0.030229760333896,-0.150154635310173,0.050807856023312));
res += mul(Get(s2,-dx,dy), float4x4(0.055225253105164,0.089827127754688,-0.024992963299155,0.010638503357768,-0.029200457036495,0.125181004405022,0.029744634404778,-0.068180419504642,-0.032473187893629,-0.137962535023689,0.028447803109884,0.022815130650997,0.040521018207073,-0.008489739149809,-0.050054546445608,0.069507904350758));
res += mul(Get(s2,0,-dy), float4x4(0.019461138173938,-0.011691338382661,-0.071646831929684,0.050414461642504,-0.020012339577079,0.052727494388819,-0.027158467099071,0.116872124373913,-0.055711843073368,-0.078871138393879,0.013022378087044,0.079543054103851,-0.037243437021971,-0.060041889548302,0.137609407305717,-0.182351619005203));
res += mul(Get(s2,0,0), float4x4(-0.100105702877045,0.091161981225014,-0.147158890962601,0.113217659294605,0.037976484745741,0.018705196678638,0.063696756958961,-0.038406409323215,-0.096017986536026,-0.091969795525074,-0.122010722756386,-0.114265345036983,0.050363950431347,0.106545738875866,-0.037633728235960,-0.203508138656616));
res += mul(Get(s2,0,dy), float4x4(0.116956971585751,-0.059380002319813,-0.032917555421591,-0.002062663435936,0.039411727339029,0.076144516468048,-0.162983328104019,0.003328895894811,0.068284220993519,-0.065991811454296,-0.083094857633114,-0.210543170571327,-0.021937143057585,-0.033816430717707,0.029113667085767,0.136848568916321));
res += mul(Get(s2,dx,-dy), float4x4(-0.143970921635628,0.017549555748701,0.035786621272564,-0.147981241345406,0.077344283461571,0.083264581859112,0.100691340863705,0.005212539341301,0.064934946596622,0.173764914274216,0.078075289726257,-0.057866215705872,0.066624321043491,0.129699349403381,-0.002070472110063,0.003333149710670));
res += mul(Get(s2,dx,0), float4x4(-0.243250429630280,-0.145800709724426,-0.048638205975294,0.020875362679362,-0.080781601369381,0.117793023586273,-0.109644189476967,-0.148247808218002,-0.137854248285294,-0.083139702677727,0.038568582385778,-0.076514668762684,0.099079161882401,-0.068839743733406,-0.136002942919731,0.031446412205696));
res += mul(Get(s2,dx,dy), float4x4(-0.073947533965111,-0.086330123245716,-0.076132699847221,-0.115575194358826,-0.097802326083183,0.165082514286041,-0.089480511844158,0.123438842594624,0.192346319556236,0.074685402214527,-0.053975995630026,-0.114193402230740,-0.232996970415115,-0.122490219771862,-0.193862900137901,-0.085453949868679));
res += mul(Get(s3,-dx,-dy), float4x4(0.133788973093033,0.063088327646255,0.109866753220558,-0.170325562357903,-0.014021513983607,-0.108582504093647,0.079458609223366,-0.227098539471626,0.057471916079521,0.076586194336414,-0.182028368115425,-0.084387794137001,-0.027710044756532,-0.037733536213636,0.048323638737202,-0.050182793289423));
res += mul(Get(s3,-dx,0), float4x4(-0.036014579236507,0.198193162679672,0.020354440435767,-0.004781695548445,0.002763913711533,-0.026369253173470,-0.051533851772547,0.021122151985765,0.022193785756826,0.038397893309593,-0.112006455659866,-0.140869125723839,0.218763127923012,0.042700525373220,0.017786094918847,0.124278269708157));
res += mul(Get(s3,-dx,dy), float4x4(-0.153337240219116,0.139632940292358,0.299381613731384,-0.028086833655834,-0.141558855772018,0.070965692400932,-0.036973692476749,-0.138679951429367,0.198737934231758,0.042036600410938,0.257843226194382,0.018540536984801,-0.026349088177085,-0.142842531204224,0.122895047068596,-0.138690561056137));
res += mul(Get(s3,0,-dy), float4x4(-0.024371081963181,0.112304970622063,-0.019920326769352,0.278655409812927,0.112648762762547,0.038484994322062,0.051562391221523,-0.093476936221123,-0.062346022576094,-0.007073860615492,-0.006362406071275,0.037072550505400,-0.061969604343176,0.019102012738585,-0.071135371923447,0.053751960396767));
res += mul(Get(s3,0,0), float4x4(-0.082061633467674,0.068193756043911,0.065214127302170,-0.121642678976059,-0.253663748502731,-0.104969076812267,-0.060413155704737,0.318736642599106,-0.017012545838952,-0.032274473458529,-0.024216182529926,-0.078600138425827,0.037945475429296,-0.033060021698475,-0.060519181191921,-0.054558567702770));
res += mul(Get(s3,0,dy), float4x4(-0.072327971458435,0.176006808876991,0.015552860684693,-0.033901475369930,-0.064689643681049,0.120439037680626,0.068402975797653,0.074168257415295,-0.082145757973194,-0.140815645456314,-0.069360569119453,-0.116706945002079,0.082145802676678,-0.180021941661835,-0.182975575327873,-0.070646248757839));
res += mul(Get(s3,dx,-dy), float4x4(-0.115125432610512,0.142919063568115,-0.073886267840862,-0.107353337109089,-0.051085550338030,0.105013780295849,-0.083735093474388,-0.123130023479462,0.146876990795135,-0.005908820312470,-0.199172794818878,-0.118956565856934,-0.029635801911354,-0.256135791540146,-0.170786708593369,0.094330482184887));
res += mul(Get(s3,dx,0), float4x4(0.060045961290598,-0.031964201480150,-0.089872345328331,0.204184174537659,0.124253958463669,0.129009038209915,-0.158323809504509,0.091305792331696,-0.075089447200298,-0.057231854647398,0.229281321167946,0.165203437209129,0.058666825294495,0.092535145580769,0.026490187272429,0.015322204679251));
res += mul(Get(s3,dx,dy), float4x4(-0.071275033056736,0.015282858163118,-0.111024983227253,0.074609085917473,0.001158511382528,0.036919735372066,-0.012005950324237,0.025834104046226,-0.144682630896568,-0.072423383593559,0.002311720047146,-0.019026899710298,-0.120780058205128,-0.045187711715698,-0.010437486693263,0.040673211216927));
return max(float4(0,0,0,0), res);
}
