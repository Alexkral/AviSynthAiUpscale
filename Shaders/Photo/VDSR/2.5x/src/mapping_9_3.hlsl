sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.201398715376854,0.017670238390565,-0.061171300709248,0.184909313917160,-0.025898121297359,0.007907943800092,0.067733496427536,0.009147746488452,0.034058816730976,-0.068093940615654,-0.051252968609333,0.085407793521881,0.009814975783229,-0.050982136279345,0.038944292813540,-0.014081716537476));
res += mul(Get(s0,-dx,0), float4x4(0.017896266654134,-0.080972671508789,-0.047955550253391,0.193066880106926,0.082001253962517,-0.076340876519680,-0.024371635168791,0.052488248795271,0.041469275951385,0.401377886533737,0.043298292905092,0.010683519765735,-0.102598913013935,-0.037211783230305,-0.006879833061248,0.088315941393375));
res += mul(Get(s0,-dx,dy), float4x4(0.005286338273436,-0.092136248946190,0.070294968783855,0.139702200889587,-0.059862554073334,-0.022973278537393,-0.004827887285501,0.044539764523506,-0.043764904141426,0.226588547229767,-0.155615597963333,-0.021251438185573,0.021104907616973,0.051316484808922,0.027210243046284,-0.009028506465256));
res += mul(Get(s0,0,-dy), float4x4(-0.049128413200378,0.006875819992274,-0.085870556533337,-0.050448376685381,-0.068235114216805,0.070232093334198,0.321389228105545,0.125332027673721,0.185169562697411,0.046115122735500,0.024906029924750,0.026835033670068,0.012852722778916,-0.046696029603481,-0.043058715760708,-0.048880156129599));
res += mul(Get(s0,0,0), float4x4(-0.054144345223904,0.006132110022008,-0.051164537668228,-0.049319304525852,0.007433074992150,0.085945911705494,0.149296149611473,-0.044153809547424,0.231811314821243,0.076876744627953,-0.062233265489340,0.077014900743961,-0.018351726233959,-0.019301047548652,-0.087807267904282,0.151498779654503));
res += mul(Get(s0,0,dy), float4x4(-0.033145390450954,-0.073837965726852,-0.014390909112990,-0.101789087057114,-0.068106569349766,-0.064275115728378,0.003255675081164,0.145829051733017,-0.047549225389957,0.027593435719609,0.062985360622406,0.072879403829575,0.079060770571232,0.086955174803734,0.040184359997511,-0.086987368762493));
res += mul(Get(s0,dx,-dy), float4x4(0.044355481863022,-0.000486386037664,-0.046549979597330,0.098903901875019,-0.154751390218735,0.014160113409162,0.122350126504898,0.127497598528862,-0.052285373210907,-0.042966991662979,-0.060639850795269,-0.080472081899643,-0.046849694103003,0.007546611595899,0.041188992559910,0.004930756520480));
res += mul(Get(s0,dx,0), float4x4(-0.017101245000958,-0.026423182338476,0.039349596947432,-0.045808915048838,-0.020111979916692,0.020479016005993,0.021739890798926,-0.046006366610527,0.015228167176247,-0.028962600976229,0.004953520372510,-0.120409183204174,-0.051680520176888,-0.096788167953491,0.109631724655628,0.281253606081009));
res += mul(Get(s0,dx,dy), float4x4(0.071316763758659,-0.097032688558102,-0.091499522328377,0.005394865758717,-0.050169765949249,-0.019074503332376,0.051741477102041,-0.087824866175652,-0.139884456992149,-0.085576549172401,0.032124940305948,-0.063826955854893,-0.020203012973070,-0.183778896927834,-0.005793799646199,-0.060292445123196));
res += mul(Get(s1,-dx,-dy), float4x4(-0.051038533449173,-0.070548631250858,-0.009953427128494,0.004983391612768,0.069637119770050,0.037014283239841,-0.009289262816310,-0.033102821558714,-0.047086331993341,0.048379823565483,-0.026327569037676,-0.091978438198566,-0.094557881355286,0.114670097827911,0.118927508592606,-0.200607970356941));
res += mul(Get(s1,-dx,0), float4x4(-0.061053093522787,0.008731745183468,0.039664398878813,-0.102080285549164,0.104929625988007,0.035173222422600,0.009798494167626,0.052892301231623,-0.039089769124985,0.064803168177605,0.005182680673897,0.062157951295376,-0.020152639597654,-0.008833742700517,0.035203807055950,-0.029880730435252));
res += mul(Get(s1,-dx,dy), float4x4(0.064190648496151,-0.013399560004473,0.079195566475391,-0.179185226559639,-0.013367390260100,-0.037661448121071,-0.038539528846741,0.077842749655247,-0.037750486284494,0.007768551819026,0.054265238344669,0.159338086843491,-0.090959362685680,0.035636745393276,-0.014932226389647,-0.081525802612305));
res += mul(Get(s1,0,-dy), float4x4(0.088775910437107,-0.030825736001134,-0.001838649739511,0.025413703173399,0.027496730908751,0.026746520772576,-0.136543765664101,-0.038116879761219,0.175707802176476,-0.007138584740460,-0.033706549555063,-0.010568992234766,0.142988398671150,-0.029432451352477,-0.074389807879925,0.132360786199570));
res += mul(Get(s1,0,0), float4x4(-0.029191404581070,0.038068208843470,0.083918757736683,-0.053183466196060,0.063522987067699,-0.060706723481417,-0.022254358977079,-0.017325989902020,0.088176950812340,-0.029995268210769,-0.041476558893919,0.047294046729803,-0.051896259188652,-0.046128779649734,0.011084475554526,0.066095083951950));
res += mul(Get(s1,0,dy), float4x4(-0.021963322535157,0.108730480074883,0.138994067907333,-0.078289099037647,0.077516235411167,0.040550891309977,-0.117366701364517,-0.021881993860006,-0.005213389173150,0.069665513932705,0.001581876538694,0.069370321929455,-0.016787948086858,0.003360565984622,0.097575768828392,0.087219826877117));
res += mul(Get(s1,dx,-dy), float4x4(0.115901835262775,0.010619807988405,0.125781565904617,-0.058136008679867,0.172417730093002,0.001060988055542,-0.011012095957994,0.020348189398646,-0.029494255781174,-0.095403842628002,-0.052600413560867,0.044418577104807,0.078667938709259,-0.033901009708643,-0.068946518003941,0.010180401615798));
res += mul(Get(s1,dx,0), float4x4(0.012944066897035,-0.033761899918318,0.054639764130116,-0.069860935211182,0.120071686804295,0.058666855096817,0.055255733430386,-0.124214977025986,-0.071341738104820,-0.176910281181335,-0.024540986865759,-0.069565117359161,-0.054222062230110,0.057603731751442,0.062848471105099,0.044526614248753));
res += mul(Get(s1,dx,dy), float4x4(-0.027918756008148,-0.053313791751862,0.079042993485928,0.010630852542818,0.090807102620602,0.011564647778869,-0.031064055860043,-0.197601646184921,-0.073423281311989,-0.141047343611717,-0.013781990855932,-0.017302548512816,-0.031322214752436,0.106759838759899,-0.007507654372603,0.013520427979529));
res += mul(Get(s2,-dx,-dy), float4x4(-0.054914712905884,0.041161041706800,-0.024192459881306,-0.045930948108435,-0.092405870556831,-0.004500376526266,0.076937869191170,-0.124231725931168,0.077842175960541,0.038705453276634,0.089939624071121,-0.060408610850573,0.007721445988864,-0.024955540895462,-0.117680840194225,0.047486793249846));
res += mul(Get(s2,-dx,0), float4x4(-0.025548782199621,0.053129419684410,-0.136718750000000,-0.029530717059970,-0.077026218175888,0.002166296122596,0.021255107596517,-0.137659817934036,0.028318233788013,-0.019231537356973,-0.056101649999619,0.016304887831211,0.013015906326473,-0.033099532127380,-0.082378424704075,0.203215464949608));
res += mul(Get(s2,-dx,dy), float4x4(0.048532690852880,-0.033898185938597,0.107250601053238,-0.063168533146381,-0.055489279329777,0.123699598014355,0.049172755330801,-0.068344272673130,0.047881979495287,-0.077079474925995,0.044422410428524,0.072817347943783,0.021051710471511,-0.100194685161114,-0.033704847097397,0.021103085950017));
res += mul(Get(s2,0,-dy), float4x4(-0.001450609648600,-0.072095207870007,-0.084780447185040,-0.041488267481327,0.074890762567520,0.018207831308246,0.032902922481298,-0.041193682700396,-0.003216834971681,0.072506017982960,-0.018249459564686,-0.003703363006935,0.039413627237082,0.047467902302742,0.077271811664104,-0.091943271458149));
res += mul(Get(s2,0,0), float4x4(0.000519422930665,-0.026393234729767,-0.112321376800537,-0.029767638072371,-0.057199828326702,0.110794134438038,0.034783944487572,-0.121438004076481,0.001036103232764,-0.125849872827530,0.019023004919291,0.019858703017235,-0.054166425019503,0.062382366508245,0.046299494802952,0.006130860187113));
res += mul(Get(s2,0,dy), float4x4(-0.023694202303886,-0.096435569226742,-0.000921830825973,-0.010343090631068,0.021185934543610,0.022651046514511,-0.024142989888787,0.075934171676636,0.134769454598427,0.014122966676950,-0.054994709789753,0.040416203439236,-0.003647225210443,0.029733445495367,-0.051216628402472,0.027070444077253));
res += mul(Get(s2,dx,-dy), float4x4(0.008707782253623,-0.067847363650799,0.051179025322199,0.034957606345415,-0.046555582433939,0.009375122375786,-0.004891166463494,0.143472716212273,0.007838852703571,0.017604947090149,-0.060265239328146,-0.148426935076714,0.053675703704357,0.113879889249802,0.162647202610970,0.168073028326035));
res += mul(Get(s2,dx,0), float4x4(-0.086675189435482,0.086302347481251,-0.032617617398500,-0.036282576620579,0.052674323320389,-0.081187166273594,-0.052846085280180,0.063725300133228,0.007893352769315,-0.036651171743870,-0.042375937104225,-0.085964977741241,-0.074448876082897,-0.066143788397312,-0.047125156968832,0.047512840479612));
res += mul(Get(s2,dx,dy), float4x4(-0.066127963364124,0.083621405065060,0.099140428006649,-0.032780788838863,-0.037512101233006,-0.046783782541752,0.010620729997754,0.067212872207165,0.203693479299545,-0.012685130350292,-0.077678516507149,-0.007567585911602,0.091548100113869,0.110726423561573,-0.006175552029163,0.029718441888690));
res += mul(Get(s3,-dx,-dy), float4x4(0.009595881216228,0.124041505157948,0.051232963800430,-0.070565141737461,-0.062266886234283,0.013569292612374,-0.021064262837172,0.098632000386715,0.165843293070793,0.035750068724155,0.043993189930916,0.115045830607414,-0.049917846918106,-0.068792976438999,0.199966192245483,-0.085436724126339));
res += mul(Get(s3,-dx,0), float4x4(-0.081249363720417,-0.000245904637268,0.065851099789143,0.034868892282248,-0.044932201504707,-0.070972807705402,-0.083072632551193,-0.006696937140077,0.113042056560516,0.083672255277634,0.067040532827377,0.185872092843056,-0.041594278067350,-0.004149884916842,0.079102486371994,-0.054141048341990));
res += mul(Get(s3,-dx,dy), float4x4(-0.070354767143726,-0.005525570362806,0.009161015041173,-0.062372118234634,0.020754018798470,-0.001414627418853,0.018399994820356,0.091387890279293,0.088472053408623,0.019269905984402,-0.003827207023278,0.037961669266224,0.030864536762238,-0.004214086104184,0.058360740542412,-0.026004323735833));
res += mul(Get(s3,0,-dy), float4x4(0.054538082331419,-0.001491927541792,-0.024765467271209,0.143124371767044,0.016544399783015,-0.050060499459505,-0.012154472991824,-0.061268601566553,0.019085615873337,-0.054157577455044,-0.037209101021290,-0.011952160857618,0.034118302166462,-0.046410761773586,0.001054114778526,-0.186936363577843));
res += mul(Get(s3,0,0), float4x4(0.015508577227592,0.023041926324368,0.003305432619527,0.018725197762251,-0.050851032137871,-0.038123492151499,-0.020440343767405,-0.096089415252209,0.002462958917022,0.048521585762501,0.050717785954475,0.007552719209343,-0.138638466596603,-0.102561153471470,-0.098977245390415,-0.089561730623245));
res += mul(Get(s3,0,dy), float4x4(-0.116302005946636,0.043366950005293,-0.076719217002392,0.078010596334934,-0.010394892655313,-0.000004276158506,-0.009077622555196,0.033979538828135,0.119569495320320,0.054171830415726,-0.029222248122096,-0.063091367483139,0.031641684472561,0.108066730201244,-0.135044619441032,-0.091720402240753));
res += mul(Get(s3,dx,-dy), float4x4(-0.031574111431837,0.054498802870512,-0.041698992252350,0.136151075363159,0.000219042834942,-0.036478754132986,-0.018154116347432,-0.067979916930199,0.045480046421289,0.036839462816715,0.066029705107212,0.050042897462845,-0.026753600686789,0.014717398211360,0.132815226912498,-0.019205449149013));
res += mul(Get(s3,dx,0), float4x4(-0.005900535266846,-0.046168014407158,-0.071200355887413,0.097348265349865,-0.088139429688454,0.017218252643943,0.227846026420593,0.007055813912302,0.083216711878777,0.032047867774963,0.063291639089584,0.057557705789804,-0.020341208204627,-0.098562195897102,-0.056808207184076,0.049209263175726));
res += mul(Get(s3,dx,dy), float4x4(-0.091397270560265,0.017591282725334,0.073554076254368,-0.024945363402367,-0.130760461091995,0.006298102904111,-0.044993557035923,-0.016829060390592,-0.015412508510053,-0.029153924435377,0.092415206134319,0.121668592095375,0.064674057066441,-0.068905442953110,0.020575257018209,0.026450091972947));
return max(float4(0,0,0,0), res);
}
