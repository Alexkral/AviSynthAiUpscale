sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.065446943044662,-0.167518496513367,0.019739741459489,0.022032309323549,0.105125471949577,-0.111818484961987,-0.040330875664949,-0.059559978544712,0.032531592994928,0.136401891708374,0.012370402924716,-0.100201606750488,-0.047965086996555,0.180815413594246,-0.164404690265656,0.004307162482291));
res += mul(Get(s0,-dx,0), float4x4(-0.082398220896721,-0.040395814925432,0.069045446813107,0.043908078223467,-0.094710104167461,0.045930039137602,-0.022024448961020,-0.042311117053032,0.002599971601740,0.284252256155014,0.134065955877304,-0.083294712007046,0.190471634268761,-0.030923977494240,0.061067577451468,0.077394567430019));
res += mul(Get(s0,-dx,dy), float4x4(-0.248452439904213,0.046166121959686,0.045212063938379,0.106993824243546,0.040168222039938,0.151066765189171,-0.068470917642117,0.111399665474892,0.153479173779488,0.258936733007431,-0.117898657917976,-0.093524731695652,-0.114797957241535,0.159961238503456,-0.192517727613449,0.170789957046509));
res += mul(Get(s0,0,-dy), float4x4(0.178749233484268,-0.004912738222629,0.019705457612872,-0.018254430964589,-0.021996086463332,0.086758181452751,0.009319152683020,0.001842260709964,0.027786411345005,-0.169779717922211,-0.079594857990742,0.106330819427967,-0.019282938912511,0.036325238645077,-0.025833239778876,-0.071942567825317));
res += mul(Get(s0,0,0), float4x4(0.002500771079212,-0.014303990639746,0.003880265168846,-0.159952655434608,-0.002297492930666,-0.117097593843937,0.024009685963392,-0.059311069548130,-0.014352656900883,-0.142013058066368,0.169708803296089,0.098341949284077,-0.042574580758810,-0.042400322854519,0.134121030569077,0.128167048096657));
res += mul(Get(s0,0,dy), float4x4(0.017122158780694,0.015087325125933,-0.098370879888535,-0.164446592330933,0.013412731699646,0.018480362370610,-0.096317827701569,-0.143725112080574,0.059826586395502,0.035428680479527,0.028247326612473,0.181988611817360,-0.103531919419765,0.035922162234783,-0.085630178451538,0.024593880400062));
res += mul(Get(s0,dx,-dy), float4x4(-0.052539918571711,0.282903671264648,0.080609343945980,-0.013657833449543,-0.120573297142982,0.121742770075798,0.159881800413132,0.019613469019532,0.261574298143387,-0.145316973328590,-0.130193933844566,0.034486301243305,0.066529951989651,0.119638018310070,0.202373981475830,-0.003247456392273));
res += mul(Get(s0,dx,0), float4x4(-0.027608415111899,-0.085511483252048,0.031371552497149,-0.017881786450744,0.145353078842163,-0.035843506455421,-0.188755601644516,0.018691685050726,0.109073832631111,-0.082255870103836,0.004169303458184,-0.059220388531685,0.037933200597763,-0.059765722602606,0.067254871129990,-0.013479582034051));
res += mul(Get(s0,dx,dy), float4x4(0.159774959087372,0.036785282194614,-0.116253733634949,-0.140639185905457,0.031972557306290,0.138524621725082,-0.031271304935217,-0.042750835418701,0.047205056995153,0.135463818907738,-0.208906322717667,0.101913556456566,0.080467499792576,-0.032214723527431,-0.192601591348648,-0.122039459645748));
res += mul(Get(s1,-dx,-dy), float4x4(0.080292634665966,0.038613136857748,0.115648508071899,-0.050816833972931,0.179277509450912,-0.040844310075045,-0.168009221553802,0.066240645945072,-0.178133144974709,0.031716823577881,0.081025414168835,-0.019212281331420,-0.033667035400867,0.030492484569550,-0.188977375626564,0.002830012468621));
res += mul(Get(s1,-dx,0), float4x4(-0.060933463275433,-0.013496635481715,-0.145069092512131,-0.121969513595104,0.221027418971062,0.273844003677368,0.054204054176807,0.096933878958225,-0.042291551828384,0.111078448593616,0.020369652658701,0.083249963819981,0.377090066671371,0.260579138994217,0.148140177130699,0.036950372159481));
res += mul(Get(s1,-dx,dy), float4x4(0.029616458341479,0.061880048364401,-0.113745346665382,-0.058380376547575,0.160459071397781,-0.032164927572012,-0.046102043241262,0.155753940343857,0.062836959958076,0.257258355617523,0.050206627696753,0.192432433366776,-0.181814074516296,-0.097575791180134,-0.005790608469397,-0.021768592298031));
res += mul(Get(s1,0,-dy), float4x4(-0.144697412848473,0.054138395935297,0.180741429328918,0.190733179450035,0.068232730031013,0.018379915505648,0.020667919889092,0.091562211513519,0.166333556175232,0.021865414455533,0.087230823934078,-0.060011409223080,0.173551455140114,-0.100888788700104,-0.129291340708733,-0.067129440605640));
res += mul(Get(s1,0,0), float4x4(-0.208882808685303,0.125159874558449,0.083093799650669,-0.130758121609688,-0.057633984833956,-0.058101411908865,0.125900149345398,-0.182078436017036,-0.121820092201233,0.040105186402798,-0.065293997526169,-0.029364297166467,-0.014924236573279,0.131356060504913,0.027246048673987,0.020321607589722));
res += mul(Get(s1,0,dy), float4x4(0.007110389880836,-0.017455490306020,0.189197137951851,-0.033082552254200,0.052350807934999,0.011866979300976,0.169521659612656,0.010853569023311,-0.042294412851334,-0.150617599487305,0.102163180708885,-0.005178994033486,-0.120050728321075,-0.161095082759857,-0.120960608124733,0.205289334058762));
res += mul(Get(s1,dx,-dy), float4x4(0.171650171279907,-0.065256848931313,0.123550795018673,0.106862619519234,-0.063306912779808,-0.035164397209883,-0.036038611084223,0.064194634556770,0.058247074484825,-0.064728759229183,0.091567665338516,-0.054545551538467,-0.042605847120285,-0.033804688602686,0.241896480321884,0.042478807270527));
res += mul(Get(s1,dx,0), float4x4(-0.118292383849621,-0.017339954152703,0.023795811459422,-0.124532036483288,0.104717753827572,0.005007298663259,-0.082091994583607,-0.293186724185944,0.047749791294336,0.028496276587248,-0.017823964357376,-0.136727586388588,0.106570027768612,0.041712351143360,0.058692403137684,-0.016546813771129));
res += mul(Get(s1,dx,dy), float4x4(-0.033513326197863,-0.020138442516327,0.147784620523453,0.122644208371639,0.017278602346778,0.023877523839474,-0.018400214612484,-0.063527464866638,0.022302238270640,-0.269188225269318,0.182552337646484,0.113384015858173,0.099899172782898,-0.036842118948698,-0.196255043148994,0.162606954574585));
res += mul(Get(s2,-dx,-dy), float4x4(-0.330719083547592,0.056509949266911,-0.041000459343195,0.152865126729012,-0.065010406076908,0.221873238682747,0.214332774281502,-0.110268898308277,0.019165463745594,-0.032339915633202,0.020758518949151,-0.021097160875797,-0.004684452898800,0.120703205466270,-0.118999145925045,-0.123423494398594));
res += mul(Get(s2,-dx,0), float4x4(-0.003821836784482,0.025100821629167,0.028555775061250,0.120890922844410,-0.011723994277418,-0.232463300228119,-0.060799159109592,-0.006587898824364,0.155419766902924,-0.059890169650316,-0.117035977542400,-0.032211188226938,-0.209421828389168,0.102831900119781,-0.024143612012267,0.126803576946259));
res += mul(Get(s2,-dx,dy), float4x4(0.000933522940613,-0.111138053238392,-0.042794145643711,0.073704972863197,0.029590338468552,0.083464510738850,0.110587954521179,-0.042455706745386,-0.140074431896210,0.026290638372302,-0.034162495285273,0.160087808966637,-0.104433998465538,-0.123296089470387,-0.242129653692245,0.046652060002089));
res += mul(Get(s2,0,-dy), float4x4(0.028888378292322,0.083667576313019,0.071912445127964,-0.051277566701174,0.037126086652279,0.131407916545868,-0.164740055799484,-0.013596963137388,0.053218089044094,0.059924196451902,0.147804453969002,0.179416537284851,-0.100372672080994,0.057321805506945,0.134634912014008,-0.034382566809654));
res += mul(Get(s2,0,0), float4x4(0.137344062328339,-0.062173567712307,-0.204668089747429,-0.094855129718781,-0.123827472329140,0.194549888372421,-0.053637471050024,-0.048165895044804,0.001977544743568,-0.010799823328853,0.029163492843509,0.085426606237888,0.006802600342780,-0.041570603847504,0.082598969340324,0.159407079219818));
res += mul(Get(s2,0,dy), float4x4(-0.245037704706192,-0.204514712095261,0.083887323737144,-0.137036934494972,0.220550030469894,0.042722687125206,0.136597618460655,0.094149328768253,0.086393542587757,-0.082145355641842,-0.013429050333798,0.033376548439264,-0.142561957240105,-0.028854593634605,0.038336571305990,0.019135231152177));
res += mul(Get(s2,dx,-dy), float4x4(0.054375089704990,0.162206262350082,-0.211975857615471,-0.003074851818383,0.053223256021738,0.041021525859833,-0.078974224627018,0.189380288124084,-0.042575236409903,0.065797694027424,0.256197452545166,-0.125973001122475,-0.069053389132023,-0.075192056596279,0.197300001978874,-0.161539658904076));
res += mul(Get(s2,dx,0), float4x4(-0.087930545210838,-0.167812064290047,-0.185298994183540,-0.087821900844574,-0.124546818435192,-0.181064620614052,0.072807967662811,-0.062790185213089,0.065300405025482,-0.085032969713211,0.077914528548717,0.097016721963882,-0.077571466565132,-0.072873733937740,-0.061783570796251,0.126392513513565));
res += mul(Get(s2,dx,dy), float4x4(-0.133464962244034,-0.029700297862291,-0.159247681498528,0.357959747314453,0.053003307431936,0.044158436357975,0.064354673027992,0.106075882911682,-0.029186272993684,-0.081508323550224,0.007359737530351,-0.121149897575378,0.274326384067535,-0.085023179650307,0.199787020683289,-0.255927979946136));
res += mul(Get(s3,-dx,-dy), float4x4(-0.078481063246727,0.142196565866470,-0.002485236851498,0.013987280428410,0.114852443337440,0.062569387257099,-0.045055065304041,-0.024235745891929,-0.040793847292662,0.038533855229616,-0.050721947103739,-0.133919164538383,0.093565449118614,0.058331843465567,-0.103527396917343,0.130548670887947));
res += mul(Get(s3,-dx,0), float4x4(-0.020439745858312,-0.088921718299389,-0.057842243462801,0.237733513116837,0.112859524786472,-0.018874567002058,-0.326641499996185,0.202143058180809,-0.057869654148817,0.095221698284149,0.019389603286982,0.056720521301031,0.256709724664688,-0.017625888809562,0.239289656281471,-0.169675543904305));
res += mul(Get(s3,-dx,dy), float4x4(-0.173558130860329,-0.054186049848795,0.165565535426140,-0.131412893533707,0.178701579570770,-0.068220630288124,-0.166342824697495,0.079902507364750,0.025166010484099,-0.005122295580804,0.039804499596357,0.028145257383585,0.057323027402163,0.037996660917997,0.028001505881548,0.052728112787008));
res += mul(Get(s3,0,-dy), float4x4(-0.103720210492611,0.135771378874779,-0.199561133980751,-0.024411313235760,0.054928224533796,-0.022897379472852,0.005476486869156,0.180854365229607,0.023858614265919,-0.052571285516024,-0.022778537124395,-0.046280793845654,-0.049511976540089,-0.068124763667583,-0.103902533650398,-0.119512133300304));
res += mul(Get(s3,0,0), float4x4(0.004331335891038,-0.116260483860970,-0.129494413733482,-0.076130524277687,-0.004563226830214,0.123590506613255,-0.001013181055896,-0.009863174520433,0.079358443617821,-0.116826310753822,0.048727091401815,0.071814917027950,-0.063918627798557,-0.035675581544638,-0.133622661232948,-0.098018474876881));
res += mul(Get(s3,0,dy), float4x4(-0.087286762893200,0.059282798320055,-0.012353580445051,0.176371738314629,0.200707167387009,0.193683177232742,0.115436568856239,0.000729663064703,0.076659001410007,0.191939890384674,0.095389336347580,0.224113777279854,-0.027533745393157,0.007265118882060,-0.114533603191376,-0.063549004495144));
res += mul(Get(s3,dx,-dy), float4x4(0.035389102995396,-0.091111034154892,0.125522106885910,-0.022516798228025,0.069381415843964,0.039455857127905,0.054428610950708,0.097026407718658,-0.117177531123161,0.111369311809540,-0.005974268075079,0.112347595393658,-0.152276828885078,0.023024626076221,0.037137597799301,0.120932862162590));
res += mul(Get(s3,dx,0), float4x4(0.101800970733166,-0.015163360163569,0.052839960902929,0.054749429225922,-0.012135782279074,0.118741750717163,0.082998022437096,0.057048454880714,-0.128217741847038,0.140828758478165,-0.045897193253040,0.161366343498230,-0.128186240792274,0.147649481892586,-0.046251639723778,0.227856293320656));
res += mul(Get(s3,dx,dy), float4x4(-0.044853955507278,0.024360010400414,0.049727629870176,-0.006986238062382,-0.048419732600451,-0.088947512209415,0.039799910038710,-0.080976128578186,0.008029643446207,0.216637507081032,0.216908141970634,0.102314129471779,0.055440194904804,-0.056813474744558,-0.050456702709198,0.090306483209133));
return max(float4(0,0,0,0), res);
}
