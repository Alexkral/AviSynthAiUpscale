sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.082903414964676,-0.012617185711861,-0.002405686303973,0.006117366719991,0.102821528911591,-0.174625456333160,0.078178346157074,-0.080627284944057,-0.223926603794098,0.116304554045200,-0.056548353284597,-0.146012753248215,0.074627965688705,-0.056103911250830,-0.075972273945808,0.012479769065976));
res += mul(Get(s0,-dx,0), float4x4(-0.208053603768349,-0.048139739781618,0.048103932291269,-0.071425899863243,0.166249081492424,0.079178310930729,-0.152161374688148,0.069142863154411,0.080139614641666,0.055227342993021,-0.000424600060796,0.005677657201886,-0.113163053989410,-0.062110465019941,-0.045445464551449,-0.031973976641893));
res += mul(Get(s0,-dx,dy), float4x4(-0.256856292486191,-0.102067999541759,-0.117106117308140,0.046003676950932,0.173143312335014,0.033428784459829,0.147575318813324,0.032655686140060,-0.040926247835159,0.227298721671104,0.157966136932373,-0.144142717123032,-0.097284011542797,-0.029090395197272,-0.122050769627094,-0.031931422650814));
res += mul(Get(s0,0,-dy), float4x4(0.010155917145312,-0.154440388083458,0.011589632369578,0.351425707340240,0.088969469070435,0.002159942174330,0.038788214325905,-0.002016759710386,-0.052630674093962,-0.112139277160168,0.240071102976799,0.012562680058181,0.066694483160973,0.094872936606407,-0.267026752233505,-0.154623329639435));
res += mul(Get(s0,0,0), float4x4(0.126960963010788,-0.041297230869532,-0.133316174149513,0.036176927387714,-0.157777741551399,-0.068217016756535,-0.035667877644300,-0.074700430035591,-0.090631864964962,-0.030097246170044,-0.015710376203060,0.071855358779430,0.176337614655495,-0.063104771077633,-0.132500424981117,0.176011696457863));
res += mul(Get(s0,0,dy), float4x4(0.104963339865208,0.016851559281349,0.031824193894863,0.011665791273117,0.005269807297736,0.017687192186713,-0.106417790055275,0.049714282155037,0.133416861295700,-0.137929484248161,0.021867988631129,-0.082430317997932,0.121788799762726,-0.121415868401527,-0.010977647267282,-0.244045093655586));
res += mul(Get(s0,dx,-dy), float4x4(-0.179054021835327,0.021188994869590,0.337243050336838,0.090954661369324,-0.155852362513542,0.068790458142757,0.184392094612122,0.123266801238060,0.043162535876036,0.015671059489250,-0.028764244168997,0.134775266051292,0.000594003708102,0.028660392388701,0.159607633948326,-0.144159495830536));
res += mul(Get(s0,dx,0), float4x4(-0.015963830053806,0.056256916373968,-0.039420578628778,-0.160568356513977,0.129387050867081,0.039365645498037,0.019855484366417,0.073236756026745,-0.003772729309276,0.132743284106255,-0.202393323183060,-0.056199710816145,-0.146656900644302,-0.250461041927338,0.140871062874794,-0.215610966086388));
res += mul(Get(s0,dx,dy), float4x4(0.065899491310120,0.230835616588593,-0.151965901255608,0.131031468510628,0.188402429223061,-0.160507366061211,-0.065108917653561,0.154649049043655,0.046086564660072,0.014583322219551,-0.033726669847965,0.066639259457588,-0.261713832616806,-0.003625176381320,0.064897231757641,-0.139411702752113));
res += mul(Get(s1,-dx,-dy), float4x4(-0.111734978854656,-0.091561645269394,-0.069946996867657,-0.298254907131195,0.105961114168167,-0.153872683644295,-0.028736889362335,-0.013257745653391,-0.002224331023172,0.165986582636833,0.154958203434944,0.142725512385368,-0.172599598765373,-0.053506158292294,-0.088735476136208,0.039510130882263));
res += mul(Get(s1,-dx,0), float4x4(0.126823440194130,0.187094002962112,-0.149200871586800,0.073160544037819,-0.087450891733170,0.137224599719048,0.064278833568096,-0.033094525337219,0.115637890994549,-0.054116800427437,-0.152906104922295,0.028516830876470,-0.121388055384159,-0.083687521517277,0.183783605694771,-0.171415328979492));
res += mul(Get(s1,-dx,dy), float4x4(-0.076084055006504,-0.087913773953915,-0.101525761187077,0.015470815822482,0.063625290989876,0.102854840457439,0.026052121073008,0.081933945417404,-0.003004689700902,-0.102259509265423,-0.038163054734468,-0.078987702727318,0.068357743322849,0.049730584025383,0.096583552658558,-0.266680568456650));
res += mul(Get(s1,0,-dy), float4x4(0.030697911977768,0.022122902795672,0.038500428199768,-0.123505614697933,0.233317822217941,-0.152081474661827,0.042313866317272,0.040909558534622,0.152009218931198,0.050790920853615,0.121450513601303,-0.117666423320770,0.058835379779339,0.112043596804142,0.160841107368469,-0.020407615229487));
res += mul(Get(s1,0,0), float4x4(0.049407418817282,-0.012809335254133,0.181751474738121,-0.144618183374405,0.136688664555550,-0.041081931442022,0.165595814585686,-0.034705303609371,-0.020360713824630,0.090601332485676,0.003927209880203,0.036376178264618,-0.159815981984138,-0.026031358167529,-0.002925466746092,-0.105740666389465));
res += mul(Get(s1,0,dy), float4x4(-0.252803504467010,-0.131970807909966,0.031264126300812,-0.161694064736366,-0.077854469418526,-0.079520471394062,-0.062689624726772,0.006489484570920,-0.037588272243738,0.025698913261294,-0.118706092238426,-0.019479414448142,0.014998321421444,0.066509880125523,0.208065167069435,0.165782853960991));
res += mul(Get(s1,dx,-dy), float4x4(0.086865328252316,0.171014234423637,-0.005244120489806,-0.030732396990061,-0.110316731035709,0.003109573852271,-0.030894124880433,-0.014924148097634,0.016083762049675,-0.141986504197121,0.029865514487028,-0.090455636382103,0.057051539421082,0.083240509033203,0.099604845046997,0.150179252028465));
res += mul(Get(s1,dx,0), float4x4(0.202922895550728,-0.200093641877174,-0.041576638817787,-0.221858456730843,0.008740520104766,0.192007124423981,0.098455965518951,-0.067222081124783,0.037257462739944,-0.084312193095684,0.029078058898449,0.011188025586307,-0.127729699015617,0.013959860429168,-0.196266293525696,-0.067580662667751));
res += mul(Get(s1,dx,dy), float4x4(-0.017676554620266,-0.190791219472885,0.157180175185204,0.043919645249844,-0.025445064529777,-0.103775940835476,0.024322677403688,0.120605252683163,-0.045661903917789,-0.171472460031509,-0.006842678412795,-0.138254299759865,-0.106416530907154,-0.022181158885360,-0.137474969029427,-0.105379804968834));
res += mul(Get(s2,-dx,-dy), float4x4(0.126663416624069,-0.060497418045998,0.072506785392761,-0.021245766431093,-0.164709821343422,-0.029122967272997,-0.055470995604992,0.188125908374786,-0.063944049179554,0.008467032574117,0.134571239352226,0.018539406359196,0.155240580439568,0.031854197382927,-0.173595130443573,-0.120425589382648));
res += mul(Get(s2,-dx,0), float4x4(-0.192492961883545,-0.125957459211349,-0.039137244224548,-0.034120649099350,0.065450131893158,0.017774084582925,0.023750614374876,-0.078501477837563,0.211898401379585,-0.152678698301315,0.276722520589828,-0.070083796977997,0.063135519623756,0.004547828342766,0.060347553342581,-0.003196865553036));
res += mul(Get(s2,-dx,dy), float4x4(0.047874365001917,-0.022511361166835,-0.047139495611191,0.147969156503677,0.058693833649158,-0.065591216087341,-0.037501998245716,-0.196142032742500,-0.006221028044820,0.073075339198112,-0.030706245452166,0.038355115801096,-0.135153830051422,0.190485045313835,0.080256029963493,0.041401203721762));
res += mul(Get(s2,0,-dy), float4x4(0.105696141719818,0.020751593634486,0.098716475069523,-0.038566373288631,-0.057820707559586,0.020189631730318,-0.001691666780971,0.010795605368912,0.050459858030081,0.115538492798805,0.073817543685436,0.102304711937904,0.099160909652710,-0.179782420396805,-0.063612535595894,0.228678509593010));
res += mul(Get(s2,0,0), float4x4(-0.195283129811287,-0.018484748899937,0.159078285098076,0.130932047963142,0.055346287786961,-0.188817515969276,-0.064190737903118,0.054637398570776,0.059352643787861,-0.035476475954056,0.004751200787723,-0.111678473651409,0.096459925174713,0.013539800420403,-0.155774429440498,-0.001460070721805));
res += mul(Get(s2,0,dy), float4x4(-0.014024822041392,0.033973153680563,0.032554183155298,0.131717696785927,-0.151724115014076,0.045285224914551,-0.171116381883621,-0.038299921900034,0.042531870305538,-0.182669058442116,0.068923160433769,0.015115081332624,0.174989372491837,-0.007328995037824,-0.059303559362888,0.049385789781809));
res += mul(Get(s2,dx,-dy), float4x4(-0.128569215536118,0.010593370534480,-0.003430834272876,0.275470346212387,-0.128686547279358,0.033522576093674,-0.082772403955460,-0.036526937037706,0.020155932754278,-0.036559570580721,-0.122095249593258,-0.010174529626966,-0.066875271499157,-0.067312836647034,-0.121744610369205,0.130040735006332));
res += mul(Get(s2,dx,0), float4x4(0.009497087448835,0.075774125754833,0.228155851364136,-0.036645822227001,-0.126153245568275,0.001656372565776,0.030025281012058,-0.146903023123741,0.128247156739235,0.125797778367996,0.032291799783707,0.221213087439537,0.131630852818489,0.061456270515919,0.048174105584621,0.055574104189873));
res += mul(Get(s2,dx,dy), float4x4(-0.045161712914705,-0.059478744864464,-0.020171461626887,-0.046902511268854,-0.017373304814100,-0.045862719416618,0.138256505131721,0.184823691844940,-0.125729024410248,0.108421817421913,0.051122605800629,0.050078835338354,0.017327152192593,-0.009420415386558,0.024382596835494,-0.086090542376041));
res += mul(Get(s3,-dx,-dy), float4x4(-0.170559018850327,0.177163064479828,-0.074067108333111,0.006789113860577,0.062037095427513,-0.089572884142399,-0.065072193741798,0.197429254651070,-0.101901903748512,0.101535536348820,0.138460472226143,0.155904978513718,0.074538908898830,0.062290214002132,-0.079937227070332,-0.109552763402462));
res += mul(Get(s3,-dx,0), float4x4(-0.092999607324600,-0.102493986487389,0.024516547098756,-0.063940055668354,-0.065879814326763,-0.119445323944092,-0.115474380552769,0.051981199532747,0.078983969986439,-0.117988519370556,0.186854407191277,-0.017537988722324,0.039260808378458,0.051232457160950,0.010877685621381,0.037963397800922));
res += mul(Get(s3,-dx,dy), float4x4(0.100792802870274,-0.117271855473518,-0.092372715473175,0.076161585748196,0.073242358863354,0.003820413956419,-0.030718067660928,0.066198661923409,-0.128773346543312,0.012210821732879,0.073214806616306,0.029568461701274,-0.077266030013561,-0.078593254089355,-0.009515289217234,-0.043112508952618));
res += mul(Get(s3,0,-dy), float4x4(0.196600303053856,0.099359236657619,-0.173914879560471,0.181701928377151,-0.202345177531242,0.335391759872437,-0.051536887884140,-0.046835981309414,-0.045679319649935,0.091627582907677,0.014221789315343,-0.062172863632441,-0.005939280614257,-0.015453239902854,0.169889569282532,0.104768097400665));
res += mul(Get(s3,0,0), float4x4(-0.116150699555874,-0.054584071040154,-0.094171486794949,-0.009850692003965,0.162265121936798,-0.017503473907709,-0.009336846880615,-0.048147562891245,-0.335680335760117,-0.134919986128807,0.123343192040920,-0.219954758882523,0.222565189003944,0.043201781809330,0.057354532182217,-0.027752947062254));
res += mul(Get(s3,0,dy), float4x4(-0.013871739618480,0.010777837596834,-0.067386001348495,0.096544496715069,-0.250472515821457,0.024918535724282,0.074697621166706,0.024552501738071,-0.237439975142479,0.130200833082199,-0.078913040459156,-0.007197177968919,-0.166831925511360,0.054626084864140,0.109786503016949,-0.227410957217216));
res += mul(Get(s3,dx,-dy), float4x4(-0.062353607267141,-0.048921547830105,-0.155403077602386,-0.064877972006798,-0.004764758981764,0.144832938909531,-0.149211257696152,-0.057000581175089,-0.056359905749559,0.052919179201126,0.022258419543505,0.203500911593437,0.042458184063435,-0.070727854967117,0.031835842877626,-0.055339612066746));
res += mul(Get(s3,dx,0), float4x4(0.225971370935440,0.142342835664749,0.087582081556320,0.040307346731424,-0.035246174782515,0.201099708676338,0.350791186094284,-0.115200378000736,0.056762538850307,-0.131052434444427,0.071735873818398,-0.047787468880415,0.008484330028296,-0.172790959477425,0.007709885016084,0.070668265223503));
res += mul(Get(s3,dx,dy), float4x4(-0.098711788654327,0.065702013671398,-0.162854641675949,0.004212114494294,-0.100627683103085,-0.090819291770458,0.227040857076645,-0.001612912397832,-0.191423892974854,0.067597061395645,-0.021224625408649,-0.163052946329117,0.019751220941544,0.038005731999874,-0.087536945939064,0.095067009329796));
return max(float4(0,0,0,0), res);
}
