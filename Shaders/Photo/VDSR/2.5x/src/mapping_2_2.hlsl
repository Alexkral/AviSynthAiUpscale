sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.052022077143192,0.019004113972187,-0.200807154178619,0.044843278825283,-0.011046669445932,0.005818178411573,0.286444395780563,-0.198272809386253,-0.073431007564068,0.054663114249706,0.051345080137253,-0.072374120354652,-0.063220657408237,-0.000655503419694,-0.128004252910614,0.080069594085217));
res += mul(Get(s0,-dx,0), float4x4(-0.054646618664265,-0.002587375231087,-0.066233731806278,0.109736576676369,0.032095067203045,-0.012636843137443,0.048883173614740,-0.074867583811283,0.030414709821343,-0.042078495025635,0.145325779914856,-0.052052810788155,-0.035529930144548,-0.025785511359572,-0.091602213680744,0.080452904105186));
res += mul(Get(s0,-dx,dy), float4x4(-0.027017418295145,-0.091944925487041,-0.091765969991684,0.003822918049991,0.257270067930222,0.007603168487549,0.060099191963673,0.003944927360862,-0.014312108047307,-0.017687097191811,0.082857184112072,-0.057762440294027,-0.000900575949345,-0.038948386907578,-0.033381380140781,-0.014937005937099));
res += mul(Get(s0,0,-dy), float4x4(0.030414856970310,0.132861509919167,-0.150728479027748,0.188042879104614,0.007485972251743,-0.110066734254360,-0.022501405328512,-0.313903272151947,0.024432092905045,0.033926516771317,0.021381279453635,-0.192307680845261,0.005929755978286,0.122930459678173,-0.219124153256416,-0.008994961157441));
res += mul(Get(s0,0,0), float4x4(-0.035518020391464,-0.035004310309887,-0.045361336320639,0.303405165672302,-0.105860948562622,-0.043907649815083,-0.220276519656181,-0.049945607781410,0.083635665476322,-0.059984736144543,-0.073189549148083,-0.203303128480911,0.027066674083471,0.009592929854989,-0.160231709480286,0.012378107756376));
res += mul(Get(s0,0,dy), float4x4(-0.053838763386011,-0.037914652377367,-0.040198881179094,0.001975727500394,0.152266308665276,-0.220831796526909,-0.075574435293674,0.078831464052200,-0.020516382530332,-0.042956549674273,-0.091755688190460,-0.131041243672371,0.022205213084817,-0.043979398906231,-0.099849253892899,-0.037655241787434));
res += mul(Get(s0,dx,-dy), float4x4(-0.062446031719446,0.048103045672178,-0.092987112700939,0.112764976918697,-0.087853968143463,-0.067043803632259,0.133707314729691,-0.027799153700471,0.155349254608154,-0.036388736218214,-0.034356985241175,0.010030344128609,0.003947754856199,0.070568338036537,0.026329059153795,0.102387197315693));
res += mul(Get(s0,dx,0), float4x4(-0.048740223050117,-0.248810634016991,-0.026584668084979,0.281502276659012,-0.154744386672974,0.137772843241692,0.068083792924881,0.148049816489220,0.148589089512825,-0.044723559170961,-0.105075404047966,0.095037855207920,0.007980836555362,-0.018073912709951,0.057942882180214,0.111063949763775));
res += mul(Get(s0,dx,dy), float4x4(-0.030325707048178,-0.073068529367447,-0.031323280185461,0.105139665305614,0.193324699997902,0.045555990189314,0.046476796269417,-0.078452393412590,0.028246734291315,0.052025489509106,-0.041885845363140,0.135001763701439,-0.023418011143804,-0.057230774313211,0.046813938766718,0.102533370256424));
res += mul(Get(s1,-dx,-dy), float4x4(-0.145861357450485,-0.450360089540482,-0.202740833163261,-0.055661588907242,0.000809107383247,0.013554305769503,-0.012143691070378,0.019631912931800,-0.006329532247037,0.058181013911963,-0.161218285560608,-0.079424619674683,0.007392765488476,-0.037979520857334,-0.021788047626615,-0.036774631589651));
res += mul(Get(s1,-dx,0), float4x4(0.027152525261045,0.111691936850548,-0.218178406357765,-0.111599005758762,-0.004507238510996,0.020602729171515,-0.006177851464599,0.018883315846324,-0.084885045886040,-0.018306158483028,-0.190501064062119,0.091053754091263,0.013790621422231,0.004159136209637,0.021025011315942,-0.017400486394763));
res += mul(Get(s1,-dx,dy), float4x4(0.040673531591892,0.292917460203171,0.039701428264380,-0.138984128832817,-0.000240057459450,0.015090082772076,-0.008108233101666,0.017765127122402,0.112638600170612,0.035007331520319,-0.071867443621159,0.068798996508121,0.029390333220363,0.027664562687278,0.051775325089693,0.032392583787441));
res += mul(Get(s1,0,-dy), float4x4(-0.207293540239334,0.508706450462341,-0.209288805723190,0.048574116080999,0.005551673471928,0.005019600503147,0.021112801507115,0.007077262271196,-0.041909471154213,-0.043071236461401,0.128404930233955,-0.092419020831585,0.010551895946264,0.049814093858004,0.179883629083633,-0.004749045707285));
res += mul(Get(s1,0,0), float4x4(0.164661049842834,-0.112495496869087,0.403161793947220,0.089850962162018,0.001619020709768,0.002553635742515,0.027649547904730,0.008351815864444,-0.092237532138824,-0.040023613721132,0.013924091123044,-0.021782172843814,0.011915193870664,-0.025621557608247,0.142129212617874,0.005067109595984));
res += mul(Get(s1,0,dy), float4x4(0.017616674304008,-0.368357747793198,0.172936350107193,0.009357908740640,-0.003568014129996,-0.007544390391558,0.018862606957555,0.009670342318714,0.057767346501350,-0.008023399859667,0.032111439853907,0.052658673375845,0.060056325048208,-0.031818922609091,0.027652677148581,0.077707760035992));
res += mul(Get(s1,dx,-dy), float4x4(-0.033569548279047,0.232333481311798,0.014208098873496,-0.036843646317720,-0.013262310065329,0.011398716829717,-0.008359216153622,-0.023352889344096,-0.049536667764187,-0.012759705074131,-0.058801017701626,-0.123067043721676,0.012340910732746,-0.032867293804884,0.078662708401680,-0.076125688850880));
res += mul(Get(s1,dx,0), float4x4(0.196671530604362,-0.188867568969727,-0.002984997816384,-0.012806280516088,-0.012048086151481,0.014572264626622,-0.006181723903865,-0.024347530677915,-0.076452329754829,-0.002576754661277,0.029864082112908,-0.096267037093639,0.002800773130730,-0.108222544193268,0.007801397703588,-0.072763733565807));
res += mul(Get(s1,dx,dy), float4x4(-0.035336207598448,-0.101589858531952,-0.029609937220812,-0.005780953448266,-0.015029313974082,0.002308391267434,-0.006571033969522,-0.020523561164737,-0.013780226930976,-0.001054898952134,0.096898742020130,-0.056389003992081,0.021486753597856,-0.116702422499657,-0.063480570912361,-0.009855455718935));
res += mul(Get(s2,-dx,-dy), float4x4(0.038624417036772,-0.034568313509226,0.054140560328960,-0.046098645776510,0.026055712252855,-0.056512702256441,0.030723262578249,-0.012715447694063,-0.031461298465729,0.044629853218794,0.110397920012474,-0.157802581787109,0.066929124295712,-0.063708603382111,-0.023381123319268,0.129210904240608));
res += mul(Get(s2,-dx,0), float4x4(0.034121345728636,-0.048822995275259,-0.015517516992986,0.018523154780269,0.011451557278633,-0.013064512051642,0.072181902825832,-0.043510667979717,-0.153663977980614,-0.203211367130280,-0.075416468083858,-0.252167493104935,-0.084041170775890,-0.007171737030149,0.039437964558601,0.013095933943987));
res += mul(Get(s2,-dx,dy), float4x4(0.056453950703144,-0.000645985302981,0.012452601455152,0.075060993432999,0.049775201827288,-0.026586942374706,-0.021478962153196,-0.016057444736362,0.085756160318851,0.161026611924171,-0.140843123197556,-0.146777182817459,-0.040907856076956,-0.047207944095135,-0.069059804081917,0.084798775613308));
res += mul(Get(s2,0,-dy), float4x4(0.000188281890587,0.003021096577868,0.045630864799023,-0.033532366156578,-0.001567497733049,-0.015599946491420,0.084467381238937,-0.005226097535342,0.070662647485733,-0.056553717702627,0.080432504415512,0.120591364800930,0.060287751257420,-0.090754255652428,-0.019962705671787,0.155410721898079));
res += mul(Get(s2,0,0), float4x4(-0.027219312265515,-0.008566124364734,0.022343555465341,0.084551408886909,-0.012780212797225,-0.000010538005881,0.037193667143583,-0.039064634591341,-0.112016707658768,-0.002401018515229,-0.158260315656662,0.034666098654270,0.009678466245532,0.056189160794020,-0.000666796055157,0.055449947714806));
res += mul(Get(s2,0,dy), float4x4(0.038010545074940,-0.012103780172765,0.035994779318571,0.137859463691711,0.022962246090174,-0.017315883189440,-0.112760975956917,0.021222908049822,-0.016198620200157,-0.005761077627540,-0.099552460014820,0.004719970747828,-0.048106666654348,0.110538102686405,-0.092756517231464,0.099177904427052));
res += mul(Get(s2,dx,-dy), float4x4(-0.028384225443006,0.000475018838188,0.063161708414555,-0.017876097932458,-0.025271898135543,-0.017225572839379,0.094745360314846,-0.014496201649308,0.017651280388236,-0.038478255271912,0.027051692828536,0.154307782649994,0.048191484063864,-0.089432440698147,-0.017783001065254,0.081012189388275));
res += mul(Get(s2,dx,0), float4x4(-0.040659092366695,-0.033570542931557,0.060152996331453,0.023548595607281,-0.043671283870935,0.006985844112933,0.039257012307644,-0.027101784944534,0.055431164801121,0.051620025187731,0.018742952495813,0.123843505978584,0.054455295205116,0.161862552165985,0.012048841454089,-0.012656028382480));
res += mul(Get(s2,dx,dy), float4x4(0.025542402639985,-0.086213469505310,0.024739498272538,0.009596453979611,-0.004456865601242,-0.029094532132149,-0.076280780136585,0.052057519555092,-0.023520030081272,0.099183149635792,0.052751969546080,0.064392827451229,-0.060914032161236,0.099114149808884,-0.040413264185190,0.032805129885674));
res += mul(Get(s3,-dx,-dy), float4x4(-0.038792058825493,0.049874268472195,0.041802752763033,0.131139352917671,-0.111324727535248,-0.012522860430181,-0.101488918066025,-0.011354309506714,0.044912766665220,-0.041123576462269,-0.073319457471371,0.005037197377533,-0.010551391169429,0.058117635548115,0.049272842705250,-0.017751978710294));
res += mul(Get(s3,-dx,0), float4x4(-0.164361506700516,-0.099719688296318,-0.095477528870106,0.131208583712578,-0.009891645982862,-0.087311826646328,-0.128559127449989,-0.158684208989143,0.053559411317110,0.137418195605278,-0.173955544829369,-0.043059032410383,0.051907360553741,-0.010027832351625,0.300566166639328,-0.090203098952770));
res += mul(Get(s3,-dx,dy), float4x4(0.194137707352638,-0.107303559780121,0.014879100024700,0.060592185705900,0.082320064306259,-0.039606012403965,-0.082656934857368,-0.129541382193565,-0.017026547342539,0.008715844713151,0.100767843425274,-0.017082363367081,0.050504095852375,-0.015060621313751,-0.019078230485320,-0.043580442667007));
res += mul(Get(s3,0,-dy), float4x4(0.013206869363785,-0.052381433546543,-0.056041888892651,0.018764011561871,-0.170267641544342,0.235010728240013,-0.220468446612358,0.002295455662534,-0.012693673372269,0.084502033889294,0.003886476624757,0.018351390957832,-0.076940059661865,-0.036024246364832,-0.026913804933429,0.017568472772837));
res += mul(Get(s3,0,0), float4x4(-0.082041993737221,0.218464061617851,-0.080028913915157,-0.118684627115726,0.089308142662048,-0.131984621286392,0.048194549977779,-0.060260660946369,0.129389822483063,-0.024695733562112,0.166436657309532,-0.027632346376777,-0.046599566936493,-0.065361186861992,-0.112268924713135,-0.043615765869617));
res += mul(Get(s3,0,dy), float4x4(0.190097853541374,0.166075587272644,-0.143931001424789,-0.297983348369598,0.051119629293680,-0.134113982319832,0.120600253343582,-0.083804965019226,-0.148748695850372,-0.180145189166069,0.130368471145630,-0.039346151053905,0.035667598247528,-0.064971588551998,-0.063825674355030,0.036105435341597));
res += mul(Get(s3,dx,-dy), float4x4(-0.074418976902962,0.027898930013180,-0.118964135646820,-0.076124809682369,-0.205450192093849,0.418282181024551,-0.060699149966240,-0.022213611751795,-0.082310236990452,-0.064558021724224,-0.135271340608597,0.049190588295460,-0.098316952586174,0.066768050193787,-0.121476776897907,-0.116389594972134));
res += mul(Get(s3,dx,0), float4x4(-0.093508489429951,0.234999850392342,-0.142998546361923,-0.000131087130285,0.067758105695248,0.006494645494968,0.126660823822021,-0.049019716680050,0.208985790610313,0.051895711570978,0.149092048406601,0.013069937005639,-0.104710794985294,0.036349415779114,0.141208887100220,0.071400873363018));
res += mul(Get(s3,dx,dy), float4x4(0.050573520362377,0.095887720584869,-0.161630302667618,-0.114735648036003,0.001943225157447,-0.195626839995384,0.278999567031860,-0.074448302388191,-0.169851616024971,-0.119259126484394,-0.024292761459947,-0.001252956339158,0.117500737309456,-0.023363534361124,0.039333213120699,0.037750329822302));
return max(float4(0,0,0,0), res);
}
