sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.077003076672554,0.084773823618889,-0.009110490791500,-0.166103720664978,0.027020376175642,-0.054157495498657,0.364399880170822,-0.045495610684156,-0.046292621642351,0.125283986330032,0.050126049667597,0.120450891554356,-0.039814669638872,-0.004348436370492,0.049741655588150,0.059526614844799));
res += mul(Get(s0,-dx,0), float4x4(-0.093630701303482,-0.047118250280619,-0.005730228964239,0.053917650133371,0.054503943771124,0.178378894925117,-0.002705827122554,-0.144058048725128,-0.068128950893879,0.048909272998571,-0.168283060193062,-0.088290654122829,-0.090723149478436,0.075493492186069,-0.023553067818284,0.200959235429764));
res += mul(Get(s0,-dx,dy), float4x4(-0.086882799863815,-0.069135159254074,-0.109524279832840,-0.092577651143074,-0.180696308612823,-0.141986191272736,-0.249821871519089,-0.123687550425529,-0.107133239507675,-0.108011208474636,0.022790160030127,0.004413451533765,-0.030581889674067,0.018258394673467,0.086204275488853,-0.029949679970741));
res += mul(Get(s0,0,-dy), float4x4(0.074294224381447,0.164573833346367,-0.052681922912598,-0.041224312037230,-0.080231763422489,-0.045522376894951,-0.288524001836777,-0.083111390471458,-0.024973185732961,-0.057695694267750,0.046218991279602,-0.102604590356350,0.386575877666473,-0.167129635810852,-0.164435476064682,0.115448094904423));
res += mul(Get(s0,0,0), float4x4(0.182324945926666,0.297749042510986,-0.148738920688629,0.084019094705582,0.309371680021286,-0.011585686355829,-0.014533707872033,-0.072745896875858,-0.045319929718971,-0.107298724353313,-0.000238816472120,-0.073232382535934,0.368972659111023,-0.168038845062256,-0.116416849195957,-0.227229699492455));
res += mul(Get(s0,0,dy), float4x4(-0.042307209223509,0.015649853274226,0.036940280348063,0.033312026411295,0.223385721445084,0.256107658147812,0.260815441608429,0.061550904065371,-0.005041758064181,0.054099630564451,0.083849065005779,-0.027615873143077,0.124119527637959,0.093779526650906,-0.332606852054596,0.069207154214382));
res += mul(Get(s0,dx,-dy), float4x4(-0.059582822024822,-0.052042838186026,-0.045644093304873,-0.018323417752981,-0.060137618333101,-0.150897130370140,-0.047944281250238,-0.204985737800598,-0.032289322465658,0.047750439494848,-0.031593661755323,-0.025113303214312,0.084966003894806,-0.015563529916108,0.056148815900087,0.040217883884907));
res += mul(Get(s0,dx,0), float4x4(0.044734843075275,-0.149846911430359,0.080630138516426,0.064079158008099,-0.030491728335619,-0.073715679347515,0.014732914976776,0.028828050941229,0.033250976353884,-0.164608299732208,-0.083081737160683,-0.056595455855131,-0.138484045863152,-0.041807450354099,-0.107397332787514,-0.040444780141115));
res += mul(Get(s0,dx,dy), float4x4(0.115056112408638,0.102340340614319,0.132322818040848,0.177666589617729,-0.005473051685840,-0.064595222473145,0.105957023799419,-0.080707654356956,-0.053458333015442,-0.190484642982483,0.020594451576471,0.122333273291588,-0.063450708985329,0.142481282353401,-0.027292413637042,0.075349271297455));
res += mul(Get(s1,-dx,-dy), float4x4(-0.068759083747864,-0.086517564952374,0.115972995758057,0.095065563917160,0.019763533025980,-0.025775838643312,-0.154837563633919,-0.083363376557827,0.121128715574741,0.058222696185112,-0.148882418870926,0.087437734007835,-0.040245011448860,-0.129562065005302,-0.123138248920441,0.130013749003410));
res += mul(Get(s1,-dx,0), float4x4(0.053390797227621,0.014274462126195,0.006375545635819,0.112159311771393,0.068926416337490,-0.087058953940868,0.072023652493954,-0.051439449191093,0.026698419824243,-0.007831904105842,0.052053913474083,0.167554646730423,0.129122942686081,-0.026233114302158,0.069668352603912,0.118040628731251));
res += mul(Get(s1,-dx,dy), float4x4(0.050637409090996,0.044736463576555,-0.048220831900835,0.045968092978001,0.053217455744743,-0.091027982532978,0.064492374658585,0.322210520505905,0.121854767203331,0.051289193332195,-0.041529115289450,-0.173866376280785,0.103229932487011,0.108746170997620,-0.001357543049380,-0.038833782076836));
res += mul(Get(s1,0,-dy), float4x4(0.010230149142444,0.088948391377926,-0.086476229131222,0.064903005957603,-0.177590027451515,0.054261580109596,-0.098331406712532,-0.066497191786766,-0.058602426201105,0.019825160503387,-0.102132305502892,0.252426028251648,-0.153807550668716,-0.208184167742729,0.098964437842369,-0.013865673914552));
res += mul(Get(s1,0,0), float4x4(-0.035761378705502,-0.091795317828655,-0.026242678985000,-0.073250658810139,-0.000580075778998,0.251215010881424,-0.162080809473991,0.208493202924728,-0.190981358289719,0.117062367498875,-0.183942213654518,0.098287023603916,-0.011120190843940,0.065668679773808,0.120004974305630,0.079537995159626));
res += mul(Get(s1,0,dy), float4x4(-0.099937863647938,0.038844138383865,0.064667075872421,-0.118187360465527,-0.065076105296612,-0.085219562053680,0.043905541300774,0.104060538113117,0.038352429866791,-0.029532272368670,0.057403046637774,-0.059343177825212,0.017240088433027,0.081316225230694,0.097805351018906,0.013019467703998));
res += mul(Get(s1,dx,-dy), float4x4(-0.000588271301240,0.298054724931717,-0.164340093731880,-0.029183939099312,-0.219996482133865,0.060261923819780,0.088498435914516,-0.059905108064413,0.015992945060134,-0.077769719064236,-0.002781155519187,0.007443004287779,0.056771725416183,0.023031760007143,-0.088207609951496,0.123264178633690));
res += mul(Get(s1,dx,0), float4x4(0.123736992478371,-0.163175567984581,-0.008604120463133,0.019910946488380,-0.148982420563698,-0.060331657528877,0.063909024000168,-0.011213768273592,0.169970974326134,0.031973090022802,0.122682169079781,0.036971990019083,0.071660064160824,-0.083409145474434,-0.013634609989822,-0.074277803301811));
res += mul(Get(s1,dx,dy), float4x4(0.046375513076782,0.046733003109694,0.084529802203178,0.103513255715370,-0.056477580219507,0.216419234871864,0.070483930408955,-0.023284325376153,0.132251426577568,0.172139123082161,0.149926140904427,0.030428087338805,0.059092007577419,-0.000757840170991,0.021637853235006,0.051074944436550));
res += mul(Get(s2,-dx,-dy), float4x4(0.073586069047451,0.010211263783276,0.341824024915695,0.031247995793819,-0.092822775244713,0.020659288391471,-0.148168131709099,0.031247295439243,-0.066109254956245,0.023006277158856,-0.012971939519048,-0.014669939875603,0.035141501575708,-0.071347482502460,0.058731868863106,0.060585010796785));
res += mul(Get(s2,-dx,0), float4x4(-0.033679045736790,0.101243764162064,0.132693856954575,0.150916114449501,-0.104973636567593,0.095244035124779,0.094434209167957,-0.050273884087801,-0.033688992261887,-0.006885037757456,0.029811019077897,0.155398219823837,-0.069286733865738,0.030166750773787,0.109526164829731,0.061114624142647));
res += mul(Get(s2,-dx,dy), float4x4(0.040787626057863,0.071640945971012,0.251300483942032,-0.145557641983032,-0.051173545420170,0.007671499624848,-0.176340565085411,0.041614018380642,-0.117233157157898,0.011710785329342,-0.129127457737923,0.221791997551918,-0.009623941965401,-0.122181110084057,0.109257295727730,-0.036343913525343));
res += mul(Get(s2,0,-dy), float4x4(-0.243672490119934,-0.037843793630600,0.044802386313677,0.000200240712729,0.047021348029375,0.270097970962524,-0.202691331505775,-0.041184086352587,0.052609469741583,0.080954380333424,-0.116806060075760,-0.106296353042126,0.045507133007050,-0.106870956718922,-0.070431686937809,0.082379445433617));
res += mul(Get(s2,0,0), float4x4(-0.126504272222519,0.175052583217621,0.023251002654433,0.005978606641293,-0.019819291308522,-0.179002285003662,0.029714379459620,-0.011042407713830,-0.241442784667015,-0.067293539643288,-0.230548784136772,-0.070270329713821,-0.101138412952423,-0.163835510611534,-0.087321825325489,0.122069753706455));
res += mul(Get(s2,0,dy), float4x4(0.129481092095375,-0.005797738675028,0.066601276397705,-0.253535568714142,-0.105083368718624,-0.043211556971073,-0.105680018663406,0.175217285752296,0.017696810886264,0.052778437733650,-0.046344988048077,0.057967428117990,0.085892453789711,-0.240996032953262,0.010114523582160,0.015918735414743));
res += mul(Get(s2,dx,-dy), float4x4(-0.071511149406433,-0.087952330708504,-0.057100676000118,0.135290235280991,-0.171309307217598,-0.009216832928360,-0.097508847713470,-0.091740980744362,0.066663928329945,-0.169486552476883,0.088430508971214,-0.041724771261215,0.116789519786835,-0.015545933507383,-0.073393903672695,0.208286151289940));
res += mul(Get(s2,dx,0), float4x4(0.035593170672655,-0.047331515699625,0.134819686412811,0.304307579994202,-0.045340627431870,0.008713046088815,-0.026332121342421,-0.062335778027773,-0.098003722727299,0.001282219775021,-0.081913895905018,0.214250326156616,0.035635821521282,0.126965448260307,0.154032781720161,0.072549834847450));
res += mul(Get(s2,dx,dy), float4x4(0.163553833961487,0.093068294227123,-0.017669167369604,-0.025130286812782,-0.023285048082471,0.158299773931503,-0.057850021868944,-0.008064218796790,-0.004646205808967,-0.098469652235508,0.048739764839411,0.177692696452141,0.002259097294882,-0.019732749089599,0.147711828351021,-0.010229744017124));
res += mul(Get(s3,-dx,-dy), float4x4(-0.126890867948532,-0.025880841538310,0.011268777772784,0.040523383766413,0.034057304263115,-0.012137054465711,0.128002285957336,0.056970920413733,0.063450194895267,0.037186324596405,-0.064871013164520,-0.166434645652771,0.111720450222492,-0.098311997950077,0.028179951012135,-0.146168470382690));
res += mul(Get(s3,-dx,0), float4x4(0.038682024925947,-0.112839467823505,-0.047297656536102,0.118833176791668,0.256239145994186,0.140365615487099,-0.102813079953194,-0.266995608806610,0.061268825083971,0.067513808608055,0.016309916973114,0.203747689723969,0.044778291136026,0.241857081651688,0.151246502995491,-0.192566871643066));
res += mul(Get(s3,-dx,dy), float4x4(-0.147315472364426,0.174333065748215,0.012007191777229,-0.043021559715271,0.079201109707355,0.192085161805153,0.019217381253839,-0.092304408550262,0.028232282027602,-0.009171107783914,-0.170669749379158,0.015185669995844,-0.037345908582211,0.030438948422670,0.140487655997276,-0.027301762253046));
res += mul(Get(s3,0,-dy), float4x4(0.172749906778336,-0.026912134140730,-0.071230009198189,-0.009238545782864,0.032348901033401,-0.007053336594254,-0.104280866682529,0.055201318114996,-0.187029421329498,0.019178166985512,-0.014442380517721,-0.159122511744499,0.010206942446530,-0.170590430498123,-0.061057150363922,-0.068271279335022));
res += mul(Get(s3,0,0), float4x4(0.068564467132092,0.140117943286896,-0.013769378885627,0.256974071264267,-0.057327233254910,-0.027601853013039,0.038586486130953,0.027497423812747,-0.009971315041184,-0.128341525793076,-0.170309692621231,0.058399401605129,-0.033082708716393,-0.089540719985962,-0.003089879639447,0.041651930660009));
res += mul(Get(s3,0,dy), float4x4(0.040795896202326,0.040942106395960,-0.068477049469948,-0.051254164427519,0.011802100576460,0.043087083846331,0.035714592784643,0.212399065494537,-0.026939813047647,-0.100267268717289,0.101647041738033,0.020053958520293,-0.080356650054455,0.042873464524746,-0.127924665808678,-0.158141002058983));
res += mul(Get(s3,dx,-dy), float4x4(-0.042617380619049,-0.028484504669905,0.011425948701799,0.102466799318790,0.103718437254429,0.038248442113400,0.140361979603767,0.151766732335091,-0.048610847443342,-0.092268273234367,0.063795708119869,-0.038831520825624,0.030059428885579,-0.182841807603836,0.046072736382484,-0.023512804880738));
res += mul(Get(s3,dx,0), float4x4(-0.235658615827560,0.117170691490173,0.122166432440281,0.088583238422871,-0.026932153850794,0.088182196021080,0.119516111910343,0.053536243736744,0.019534105435014,-0.104613780975342,-0.063930884003639,0.078937947750092,0.073877289891243,-0.050195779651403,0.055648721754551,-0.169309541583061));
res += mul(Get(s3,dx,dy), float4x4(-0.129597991704941,0.106379151344299,0.080221392214298,0.172054558992386,0.204316362738609,-0.027786262333393,0.070398963987827,0.008932711556554,0.147359237074852,-0.017367037013173,-0.048477407544851,-0.055408515036106,0.164301469922066,0.182869732379913,0.084674112498760,0.195697441697121));
return max(float4(0,0,0,0), res);
}
