sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.003137982683256,0.002932356204838,0.000192324834643,-0.005396116059273,0.064173944294453,0.024411415681243,0.288551688194275,-0.145393878221512,-0.000277935730992,0.003653878578916,0.003550337860361,0.004574334714562,-0.001353229046799,-0.000148515027831,0.001684488728642,0.002013912191615));
res += mul(Get(s0,-dx,0), float4x4(-0.002692740643397,-0.001636019558646,0.000207728153327,0.001935263280757,-0.319117963314056,0.009177130647004,0.073972225189209,-0.054249893873930,-0.001124660018831,0.001574702444486,-0.004979012534022,-0.002629798138514,-0.003082503331825,0.002560602966696,-0.000802056863904,0.006811202503741));
res += mul(Get(s0,-dx,dy), float4x4(-0.002561807166785,-0.002291013719514,-0.003216108307242,-0.002981423633173,-0.486912220716476,0.012693900614977,0.394520491361618,-0.007323677651584,-0.002521386370063,-0.003687224583700,0.000704283011146,0.000556160928681,-0.001038960879669,0.000620026024990,0.002923133084550,-0.001018577720970));
res += mul(Get(s0,0,-dy), float4x4(0.003005916019902,0.005647109355778,-0.001231387490407,-0.001177928992547,-0.575746178627014,-0.012930992990732,-0.123448215425014,-0.152345240116119,0.000404487567721,-0.002322365762666,0.001203065621667,-0.003007292514667,0.013099681586027,-0.005670677404851,-0.005580322816968,0.003908685408533));
res += mul(Get(s0,0,0), float4x4(0.006482679862529,0.010037695989013,-0.004499931819737,0.002951816422865,1.457261681556702,-0.028893111273646,-0.277431398630142,-0.047907341271639,0.000285126036033,-0.003834966337308,-0.000173849344719,-0.001994455931708,0.012514213100076,-0.005700352136046,-0.003952766302973,-0.007708739489317));
res += mul(Get(s0,0,dy), float4x4(-0.001274497830309,0.000640770362224,0.001756935496815,0.001297712675296,0.314058750867844,-0.017172776162624,0.294326156377792,-0.042832415550947,0.001263593789190,0.001861401833594,0.003392243757844,-0.000372397887986,0.004212077241391,0.003184693166986,-0.011286883614957,0.002345317509025));
res += mul(Get(s0,dx,-dy), float4x4(-0.001711823395453,-0.001742182648741,-0.001051945146173,-0.000439677998656,-0.001603226177394,0.017477802932262,-0.138427510857582,-0.130107164382935,-0.000349018431734,0.001218558987603,-0.000796990934759,-0.000382536381949,0.002859287429601,-0.000533824728336,0.001911124680191,0.001354316715151));
res += mul(Get(s0,dx,0), float4x4(0.001829613815062,-0.005195133853704,0.003321873256937,0.002297271741554,-0.575191557407379,0.008318057283759,-0.388468891382217,-0.144147127866745,0.002753774402663,-0.006007412914187,-0.002419817959890,-0.001245625317097,-0.004694054834545,-0.001418654224835,-0.003643990959972,-0.001377989654429));
res += mul(Get(s0,dx,dy), float4x4(0.004236897453666,0.003603798337281,0.005035200156271,0.006188708823174,-0.194480389356613,-0.001994338119403,-0.083916366100311,-0.189845845103264,-0.000177988855285,-0.007002733182162,0.001437098137103,0.005079042632133,-0.002152604982257,0.004835338331759,-0.000929256202653,0.002553963800892));
res += mul(Get(s1,-dx,-dy), float4x4(-0.165639191865921,0.004866842180490,-0.015844888985157,0.184652805328369,-0.002190689090639,-0.000613990065176,-0.006037243176252,-0.003775990800932,0.136680170893669,-0.000209673322388,0.117800228297710,-0.002345449756831,-0.001605614437722,-0.004390341229737,-0.004024014808238,0.004399967379868));
res += mul(Get(s1,-dx,0), float4x4(0.266414016485214,0.012037639506161,0.103533253073692,0.135144665837288,-0.000415853399318,-0.002743780612946,0.001474854419939,-0.001965338131413,0.007663415744901,-0.011279696598649,0.070642195641994,0.003798343474045,0.002403661841527,-0.000960079836659,0.002771766390651,0.004004863090813));
res += mul(Get(s1,-dx,dy), float4x4(-0.021923933178186,0.009515117853880,0.294827818870544,0.006040737498552,0.002294334815815,-0.002879061037675,0.002348914742470,0.010848212987185,0.111727520823479,-0.003789694514126,0.015342345461249,-0.014886211603880,0.002730443142354,0.003764151129872,0.002416886854917,-0.001374865300022));
res += mul(Get(s1,0,-dy), float4x4(0.361747413873672,-0.010965101420879,-0.122234404087067,0.122331343591213,-0.038262631744146,0.002098448108882,0.000834278995171,-0.002683079335839,0.145507723093033,0.004932285752147,0.075770050287247,-0.007536217104644,-0.003440464846790,-0.007012162823230,0.000375516130589,-0.000635183067061));
res += mul(Get(s1,0,0), float4x4(0.038788113743067,-0.014408742077649,0.047709383070469,0.012280030176044,-0.019930753856897,0.008973055519164,-0.005179522559047,0.005726069211960,-0.097001105546951,0.006633638869971,0.012563686817884,0.004207995254546,-0.006369394715875,0.002134696580470,0.002765420824289,0.003039332106709));
res += mul(Get(s1,0,dy), float4x4(-0.288214117288589,-0.001518093631603,0.246536388993263,-0.098907962441444,-0.010010917671025,-0.002474545501173,-0.000245791219641,0.002800599439070,0.168414831161499,-0.002142842393368,-0.073432885110378,0.000790279940702,-0.029800372198224,0.002690502908081,0.007137172855437,-0.000110998065793));
res += mul(Get(s1,dx,-dy), float4x4(0.062802873551846,0.002552220597863,-0.310173839330673,-0.004072769545019,0.009265432134271,0.001980592729524,0.006204333156347,-0.002269623801112,0.005881753284484,0.001935860607773,0.095045074820518,-0.012208832427859,-0.000626300694421,0.000993916881271,-0.003257727948949,0.004096117801964));
res += mul(Get(s1,dx,0), float4x4(-0.289679080247879,-0.014038390479982,-0.256053030490875,-0.089125856757164,-0.016526104882360,-0.001846357714385,0.007710717152804,-0.001138427760452,0.002846264513209,0.012404682114720,0.019896926358342,0.004815933760256,-0.020182669162750,-0.003045972203836,-0.000449477694929,-0.002482633106411));
res += mul(Get(s1,dx,dy), float4x4(0.288140386343002,0.003367179771885,-0.119243972003460,-0.081087790429592,-0.000747840735130,0.007618525996804,0.004743040539324,-0.001598855829798,0.125575006008148,0.007910054177046,-0.127063214778900,0.003508022287861,0.019907739013433,-0.000055213171436,0.001551858033054,0.001312205218710));
res += mul(Get(s2,-dx,-dy), float4x4(0.002495708176866,0.000341995793860,0.011593059636652,0.001052390667610,-0.014030531980097,0.044751372188330,-0.077409021556377,0.064750157296658,0.124690108001232,-0.002591718686745,0.021839380264282,0.155773878097534,-0.016917083412409,0.032973520457745,-0.040409259498119,0.052159823477268));
res += mul(Get(s2,-dx,0), float4x4(-0.001151561271399,0.003435389371589,0.004502083640546,0.005111506674439,-0.054480541497469,0.042159892618656,-0.042245987802744,0.107823498547077,0.021126108244061,0.004615087993443,-0.051081079989672,0.060705732554197,0.063156060874462,0.033943109214306,-0.031770575791597,0.083755329251289));
res += mul(Get(s2,-dx,dy), float4x4(0.001399345346726,0.002437477232888,0.008521268144250,-0.004942181985825,0.082565583288670,0.025782324373722,-0.007157328538597,0.132871761918068,0.022032897919416,-0.000854397076182,0.047166552394629,-0.024315040558577,0.068406805396080,0.020968783646822,-0.019092084839940,0.104746080935001));
res += mul(Get(s2,0,-dy), float4x4(-0.008268613368273,-0.001286513288505,0.001517410157248,-0.000003579008307,-0.259644329547882,0.009745838120580,0.026358228176832,-0.008719066157937,0.119659982621670,0.000910681148525,-0.056815840303898,0.184162080287933,-0.088793568313122,-0.000256817962509,0.008805489167571,0.007033044472337));
res += mul(Get(s2,0,0), float4x4(-0.004301969893277,0.005950028542429,0.000774301122874,0.000195964268642,-0.302302032709122,-0.005201013758779,0.046873521059752,0.002379231620580,-0.079663291573524,0.001581170596182,-0.005952040664852,0.057921037077904,-0.101118572056293,-0.002990219742060,0.008847937919199,0.013427221216261));
res += mul(Get(s2,0,dy), float4x4(0.004390591755509,-0.000186091667274,0.002253232290968,-0.008602345362306,-0.235979393124580,-0.001124436617829,0.072658292949200,0.021877309307456,0.109243266284466,0.003255028743297,0.100423544645309,-0.014779119752347,-0.040394548326731,-0.006930005270988,0.022596258670092,0.029727449640632));
res += mul(Get(s2,dx,-dy), float4x4(-0.002421615179628,-0.002984910737723,-0.001939289737493,0.004580997396260,0.036405216902494,-0.000955123687163,-0.001077668624930,0.002703406382352,0.002214222913608,-0.005371235311031,-0.092863924801350,0.149225726723671,0.066815458238125,-0.001476815436035,0.005361018236727,0.017949329689145));
res += mul(Get(s2,dx,0), float4x4(0.001188983558677,-0.001609640545212,0.004562348593026,0.010318763554096,0.043058849871159,-0.000333984469762,-0.007730928715318,0.005694422870874,0.078279934823513,0.003979731351137,-0.020940139889717,0.067640021443367,0.130439519882202,0.003100415458903,0.003732324345037,0.011896518990397));
res += mul(Get(s2,dx,dy), float4x4(0.005480275955051,0.003153964411467,-0.000579433224630,-0.000851997232530,0.030660539865494,0.004831866826862,-0.007990708574653,0.017383251339197,-0.054157249629498,0.000877132057212,0.146790117025375,0.029947265982628,0.075136989355087,-0.001690207049251,0.003200784325600,0.021629167720675));
res += mul(Get(s3,-dx,-dy), float4x4(0.037750191986561,-0.002496061613783,0.004057459998876,-0.002121449913830,0.001621361006983,-0.001010645413771,0.003749420633540,0.001924689859152,0.030178997665644,0.084804587066174,-0.149286717176437,0.182942852377892,0.042731851339340,0.019310245290399,0.122128225862980,0.031785622239113));
res += mul(Get(s3,-dx,0), float4x4(-0.202045902609825,-0.012098986655474,0.011500678025186,0.006539690308273,0.008947508409619,0.004414616152644,-0.003506855107844,-0.009070063009858,0.162719115614891,0.079977102577686,-0.158738419413567,0.253329455852509,0.089591555297375,0.045662153512239,0.112888813018799,-0.041600201278925));
res += mul(Get(s3,-dx,dy), float4x4(0.072293594479561,0.002309716306627,0.030327804386616,-0.014480187557638,0.002454289468005,0.006202643271536,0.000607429654337,-0.003138655796647,0.102895922958851,0.060798574239016,-0.112159021198750,0.267216712236404,0.030074773356318,0.038565125316381,0.070324487984180,-0.049711123108864));
res += mul(Get(s3,0,-dy), float4x4(0.083791904151440,-0.000797164917458,-0.006411838810891,-0.004198967013508,0.001213755807839,-0.000731314183213,-0.004129888489842,0.001863487181254,0.043885052204132,0.012489483691752,-0.033519741147757,0.043319042772055,0.022506691515446,-0.002444291952997,-0.070649646222591,0.006777007132769));
res += mul(Get(s3,0,0), float4x4(-0.267083644866943,0.003698703134432,0.003940058406442,0.010456838645041,-0.001985398354009,-0.001187211601064,0.001150311087258,0.000938100158237,-0.170881271362305,0.003393816761672,-0.038492068648338,0.028370372951031,-0.218863159418106,0.009152561426163,0.010429720394313,-0.048106696456671));
res += mul(Get(s3,0,dy), float4x4(-0.054169066250324,-0.002251247409731,-0.023857893422246,-0.017087509855628,0.000222520931857,0.001306159421802,0.001088508055545,0.007205380126834,0.080529704689980,0.003575140144676,0.020050279796124,0.062929473817348,0.065555147826672,0.018583951517940,-0.067528299987316,-0.060409165918827));
res += mul(Get(s3,dx,-dy), float4x4(0.056655693799257,0.002062940970063,0.003327941056341,-0.000323491636664,0.003486861009151,0.001002572127618,0.004028323572129,0.005154780577868,0.074327915906906,-0.002572894329205,-0.021762508898973,0.038965057581663,0.220006942749023,-0.010191091336310,-0.077367633581161,0.008797599002719));
res += mul(Get(s3,dx,0), float4x4(-0.244112983345985,0.011124354787171,0.006129604298621,0.003396973945200,-0.001020072028041,0.002746705897152,0.003402437781915,0.001821220619604,0.111233673989773,-0.002934484975412,-0.017780784517527,0.016092360019684,0.199020057916641,-0.000204940588446,0.047811802476645,0.008542229421437));
res += mul(Get(s3,dx,dy), float4x4(0.079728350043297,0.002178049879149,-0.081502616405487,-0.002950189169496,0.006839086767286,-0.001029919483699,0.002039937069640,0.000305028603179,0.081874355673790,0.003432600526139,-0.015270437113941,0.034061294049025,0.212960407137871,0.013064532540739,0.109303697943687,0.040519841015339));
return max(float4(0,0,0,0), res);
}
