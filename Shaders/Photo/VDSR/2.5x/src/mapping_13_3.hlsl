sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.040798924863338,-0.048017632216215,0.000365180632798,-0.051786869764328,0.065752021968365,0.120134256780148,0.067170113325119,0.019477032124996,0.028935303911567,-0.119298890233040,0.066021330654621,-0.101876378059387,0.018992941826582,-0.009611610323191,-0.035845089703798,-0.062357995659113));
res += mul(Get(s0,-dx,0), float4x4(0.007016929797828,-0.020294308662415,-0.199599623680115,-0.035838775336742,0.023013439029455,0.023632787168026,-0.099758774042130,0.035949438810349,0.072966985404491,-0.043342594057322,-0.014469260349870,0.045864786952734,0.056168764829636,0.166168794035912,0.038908306509256,0.001844611368142));
res += mul(Get(s0,-dx,dy), float4x4(-0.013116430491209,-0.023791845887899,-0.107799232006073,-0.036015700548887,0.193498656153679,0.100810572504997,-0.074611924588680,0.064366236329079,0.043379113078117,0.001937879482284,-0.021682851016521,-0.023539913818240,0.026289595291018,-0.061481844633818,-0.023631362244487,0.037277512252331));
res += mul(Get(s0,0,-dy), float4x4(-0.107193730771542,-0.007335111964494,0.113444283604622,-0.095555707812309,-0.148659884929657,0.114849269390106,0.139578893780708,0.064173854887486,-0.053153082728386,0.177823260426521,-0.036517139524221,-0.056487448513508,-0.039447635412216,-0.055930498987436,0.058945253491402,-0.019144957885146));
res += mul(Get(s0,0,0), float4x4(-0.047174986451864,-0.027135493233800,0.049114257097244,0.238099187612534,0.028459733352065,-0.032531645148993,-0.040326379239559,0.059379551559687,0.015669031068683,0.050466921180487,0.013123505748808,-0.011406439356506,0.066622689366341,-0.033997360616922,-0.057737343013287,-0.082440637052059));
res += mul(Get(s0,0,dy), float4x4(0.075422428548336,-0.005023040343076,0.091821096837521,-0.114033430814743,-0.009778549894691,0.018846293911338,-0.032646436244249,-0.082612320780754,0.029729133471847,0.003676831023768,-0.072614721953869,-0.062521778047085,0.040938485413790,-0.074574880301952,0.028822019696236,-0.084320567548275));
res += mul(Get(s0,dx,-dy), float4x4(-0.017967162653804,0.056869678199291,0.048358321189880,-0.068483151495457,-0.106983810663223,0.030434941872954,0.008883286267519,-0.069185853004456,0.013286037370563,-0.007074080873281,-0.005617526825517,-0.028729215264320,-0.087118290364742,0.026261186227202,-0.074676029384136,-0.018515216186643));
res += mul(Get(s0,dx,0), float4x4(0.015615321695805,0.103380940854549,0.082708530128002,0.151125937700272,-0.115014374256134,-0.027358550578356,0.035804439336061,-0.051424544304609,0.130588620901108,-0.011700970120728,-0.019743096083403,-0.139912381768227,-0.014178718440235,-0.003918186295778,0.038864053785801,-0.053588870912790));
res += mul(Get(s0,dx,dy), float4x4(0.087203189730644,-0.046217255294323,0.040364779531956,0.160516709089279,-0.139044195413589,0.018346058204770,0.018664315342903,-0.011144227348268,-0.071901530027390,-0.155361145734787,-0.021939627826214,-0.043566543608904,-0.006594534963369,-0.018761068582535,0.073897399008274,-0.081680789589882));
res += mul(Get(s1,-dx,-dy), float4x4(0.128966808319092,0.075409941375256,0.037086330354214,0.140694484114647,0.100662119686604,-0.047606222331524,-0.082430154085159,0.057933114469051,-0.054472245275974,-0.046745683997869,0.010414429008961,0.087102822959423,-0.105562210083008,-0.100659266114235,0.054167434573174,0.124958738684654));
res += mul(Get(s1,-dx,0), float4x4(0.072554692625999,-0.021029990166426,0.047266032546759,0.231645420193672,0.114681392908096,0.069850735366344,-0.121519811451435,-0.038046650588512,0.048042435199022,0.032170735299587,-0.011211929842830,0.034516260027885,-0.039717968553305,-0.080126069486141,-0.059999633580446,0.075598254799843));
res += mul(Get(s1,-dx,dy), float4x4(0.002878259634599,-0.152144938707352,0.075535237789154,0.109511405229568,0.120648853480816,-0.004428558517247,-0.097965031862259,0.004552650731057,-0.044054433703423,0.017171209678054,0.027838759124279,0.025987314060330,-0.026290696114302,0.127014756202698,-0.058401785790920,-0.117100678384304));
res += mul(Get(s1,0,-dy), float4x4(0.075121395289898,-0.067499987781048,0.079803422093391,0.030032336711884,-0.049804516136646,-0.050997719168663,-0.011638649739325,0.135109111666679,-0.051292102783918,-0.014573838561773,0.100377999246120,0.044789806008339,-0.086161948740482,-0.074665263295174,0.011870666407049,0.104632638394833));
res += mul(Get(s1,0,0), float4x4(0.212896004319191,0.090663462877274,-0.044556979089975,-0.049650471657515,-0.063255108892918,-0.046020220965147,-0.021432368084788,-0.036412533372641,0.036131117492914,-0.010726504959166,0.097170144319534,0.029222328215837,0.007047392893583,-0.085738599300385,0.016747469082475,-0.000017727445083));
res += mul(Get(s1,0,dy), float4x4(0.117153741419315,0.066859476268291,0.013994286768138,0.166533648967743,-0.094201728701591,0.015360967256129,-0.092326320707798,-0.041200678795576,0.069065622985363,0.030905336141586,-0.020423255860806,0.009625872597098,0.002763819182292,0.008942387066782,-0.035327881574631,-0.061354998499155));
res += mul(Get(s1,dx,-dy), float4x4(0.015829239040613,-0.051741369068623,0.205622404813766,0.091073445975780,-0.043748665601015,-0.044846106320620,-0.043223723769188,0.095261678099632,-0.081209130585194,0.078103668987751,-0.002967921784148,0.179491415619850,-0.161203056573868,0.162130624055862,-0.037423022091389,-0.141641706228256));
res += mul(Get(s1,dx,0), float4x4(0.029162483289838,-0.069796323776245,0.084601454436779,0.096541173756123,-0.027846127748489,-0.066753357648849,-0.020682534202933,0.025867644697428,-0.063169732689857,-0.013521171174943,0.000560684537049,0.174344241619110,-0.018873937427998,0.183378547430038,-0.004644998814911,0.096566051244736));
res += mul(Get(s1,dx,dy), float4x4(0.124522574245930,-0.004898149054497,0.052883535623550,-0.015237698331475,-0.003635981120169,0.007904631085694,-0.074210643768311,-0.086152888834476,0.048741169273853,0.041248328983784,0.059200529009104,0.049734588712454,0.004485757090151,0.078367821872234,-0.001990270102397,0.076015375554562));
res += mul(Get(s2,-dx,-dy), float4x4(0.029494339600205,-0.013899722136557,0.130141660571098,0.003058326430619,0.068816907703876,0.017856784164906,0.020170547068119,0.056433126330376,0.082995861768723,0.003065649187192,-0.023771831765771,0.013084737583995,-0.058678179979324,-0.013623183593154,-0.004843321163207,-0.026396054774523));
res += mul(Get(s2,-dx,0), float4x4(0.038767132908106,0.005408180411905,0.173997476696968,-0.030839659273624,0.034801129251719,0.077073141932487,-0.037514735013247,0.048919964581728,0.048583090305328,-0.049802541732788,0.085252843797207,-0.021258974447846,0.082984432578087,0.092608533799648,-0.050364919006824,0.060287889093161));
res += mul(Get(s2,-dx,dy), float4x4(0.108200401067734,0.007770295720547,0.178164243698120,0.022779963910580,-0.050291676074266,0.068360738456249,0.049822695553303,0.008034705184400,-0.021521024405956,-0.015893017873168,-0.000607628957368,0.043601810932159,-0.095918603241444,-0.009461469016969,0.203077226877213,0.096050366759300));
res += mul(Get(s2,0,-dy), float4x4(-0.019872238859534,0.142014846205711,-0.120915800333023,-0.105622708797455,0.004717971198261,-0.113362230360508,0.014295001514256,0.068929590284824,0.044562466442585,0.184619620442390,0.045989397913218,0.018298361450434,0.002295177429914,0.018869731575251,0.061383668333292,0.111365944147110));
res += mul(Get(s2,0,0), float4x4(0.056434087455273,0.078571707010269,-0.200169816613197,-0.084724627435207,-0.107700809836388,-0.012778230011463,-0.102802135050297,-0.009007786400616,-0.039156965911388,-0.075232222676277,0.024843035265803,0.138617277145386,0.020787069573998,-0.015369375236332,-0.059012122452259,-0.009385105222464));
res += mul(Get(s2,0,dy), float4x4(-0.022582529112697,-0.062546715140343,0.267790108919144,-0.096249639987946,-0.051842261105776,0.065820962190628,-0.133123934268951,-0.047306034713984,-0.060061071068048,-0.060218427330256,-0.005233293864876,-0.029117986559868,0.091732248663902,0.068618416786194,-0.043643105775118,-0.044982977211475));
res += mul(Get(s2,dx,-dy), float4x4(0.039493337273598,-0.022049754858017,-0.045533329248428,0.022308440878987,-0.113784298300743,-0.037848021835089,0.071724593639374,0.237102597951889,0.041669350117445,0.112311661243439,-0.127235144376755,-0.131246864795685,0.039608854800463,0.013306489214301,0.131367176771164,0.018944298848510));
res += mul(Get(s2,dx,0), float4x4(-0.028955152258277,0.017444284632802,0.011539913713932,-0.010560955852270,-0.052909605205059,0.003699647728354,-0.081933848559856,0.007669287733734,-0.014969635754824,0.035760860890150,-0.089646719396114,-0.039318796247244,-0.008629654534161,-0.044817190617323,0.090296432375908,-0.019221529364586));
res += mul(Get(s2,dx,dy), float4x4(0.004801762755960,-0.092432454228401,0.138583257794380,-0.093042850494385,-0.091244436800480,0.041498817503452,-0.057780914008617,-0.083892345428467,-0.033511858433485,-0.052297908812761,-0.052795071154833,0.007581013254821,-0.025117503479123,-0.012356895953417,0.021521430462599,-0.016295740380883));
res += mul(Get(s3,-dx,-dy), float4x4(-0.030807634815574,-0.005378788802773,-0.054869703948498,-0.081380434334278,0.086577236652374,-0.073408812284470,-0.128491267561913,-0.089098244905472,-0.020677624270320,-0.112450391054153,0.144230261445045,-0.017344286665320,-0.057493150234222,-0.044137865304947,0.114467076957226,-0.002936495468020));
res += mul(Get(s3,-dx,0), float4x4(-0.029879868030548,-0.050443410873413,0.074119888246059,-0.077406749129295,-0.008568287827075,-0.042023159563541,-0.062330625951290,0.025906303897500,-0.082322634756565,-0.092221930623055,0.003161585191265,-0.063002996146679,-0.105471432209015,0.118258379399776,0.129832431674004,-0.048150748014450));
res += mul(Get(s3,-dx,dy), float4x4(-0.038160171359777,0.048146739602089,0.044889945536852,-0.124075278639793,0.176485255360603,-0.055768195539713,-0.159373432397842,-0.039020977914333,0.119148306548595,0.098051600158215,0.072047054767609,-0.094207525253296,-0.012572082690895,0.029739631339908,0.086990609765053,-0.106093272566795));
res += mul(Get(s3,0,-dy), float4x4(-0.102564774453640,0.057168241590261,-0.192429661750793,0.005785224959254,-0.015932993963361,0.149478644132614,0.032302405685186,0.031850621104240,-0.020369961857796,-0.013056671246886,-0.009434587322176,-0.147035434842110,-0.019267080351710,-0.041392054408789,-0.066447786986828,0.055678792297840));
res += mul(Get(s3,0,0), float4x4(-0.076618477702141,-0.050434529781342,-0.134913623332977,-0.039308406412601,0.232958480715752,-0.051340952515602,0.035501364618540,-0.013032764196396,0.062009379267693,-0.044851865619421,-0.051801651716232,-0.002053797012195,0.054395858198404,-0.001140503329225,-0.111980497837067,-0.102393798530102));
res += mul(Get(s3,0,dy), float4x4(-0.097889445722103,0.025227384641767,0.123096689581871,-0.150235056877136,-0.032621592283249,-0.038716275244951,-0.112124294042587,-0.049831792712212,0.044167872518301,0.160830259323120,-0.126579344272614,-0.052094027400017,-0.010562895797193,-0.035298161208630,0.086067527532578,-0.105076208710670));
res += mul(Get(s3,dx,-dy), float4x4(0.069591484963894,-0.043433699756861,-0.067695081233978,0.129750803112984,0.110169604420662,0.068627528846264,0.065915182232857,-0.039698440581560,0.000965216662735,-0.022778844460845,0.080285444855690,-0.100009195506573,-0.045233443379402,0.015548942610621,-0.107264310121536,0.029145445674658));
res += mul(Get(s3,dx,0), float4x4(-0.054195974022150,-0.035646937787533,-0.092210166156292,0.079634070396423,-0.059025205671787,-0.042054116725922,-0.052190255373716,-0.037958405911922,0.016568584367633,0.029417103156447,0.015659743919969,0.168355569243431,-0.000544506998267,0.049270115792751,-0.149356499314308,-0.019332334399223));
res += mul(Get(s3,dx,dy), float4x4(0.110945507884026,0.020511345937848,0.042829532176256,-0.026289949193597,-0.090091474354267,-0.024272324517369,0.007705250754952,-0.066330380737782,0.049130793660879,0.115969024598598,-0.013185887597501,-0.045421890914440,-0.019777443259954,-0.024817675352097,-0.031580761075020,-0.106181368231773));
return max(float4(0,0,0,0), res);
}
