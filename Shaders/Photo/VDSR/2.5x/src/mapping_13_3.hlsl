sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.073638938367367,-0.163852930068970,0.002679405268282,-0.040780346840620,-0.042865440249443,-0.084937766194344,-0.100874878466129,0.055111136287451,-0.066823996603489,0.135450422763824,0.122997716069221,0.082731023430824,0.110745690762997,-0.046317532658577,0.050066068768501,-0.013707653619349));
res += mul(Get(s0,-dx,0), float4x4(-0.001387050026096,-0.131606519222260,-0.010973861441016,0.087395392358303,0.002794608473778,0.120586521923542,-0.082681931555271,-0.108640290796757,0.037601336836815,0.093115076422691,0.000863686727826,0.116461694240570,-0.033528365194798,0.149233654141426,0.092240266501904,0.106086872518063));
res += mul(Get(s0,-dx,dy), float4x4(0.058290239423513,-0.032315094023943,-0.144283026456833,0.131181374192238,0.029043776914477,0.046218909323215,-0.240071132779121,-0.159359216690063,-0.030297424644232,0.024847829714417,0.007059418130666,0.021063815802336,-0.054146476089954,-0.133978724479675,-0.007279470562935,0.109998039901257));
res += mul(Get(s0,0,-dy), float4x4(0.002062760526314,-0.053051296621561,0.104910388588905,-0.106908038258553,0.203403308987617,-0.036918625235558,-0.008193635381758,0.004570638760924,-0.155164554715157,-0.091519527137280,-0.018493473529816,0.077221624553204,0.230159729719162,-0.083486668765545,-0.209525927901268,0.047737717628479));
res += mul(Get(s0,0,0), float4x4(-0.043046765029430,0.259945273399353,0.214353427290916,0.058748323470354,0.139649137854576,0.091258443892002,0.007187653332949,0.081541091203690,-0.091663382947445,0.044272728264332,0.123026907444000,0.124004758894444,-0.020689226686954,-0.016550192609429,0.208088457584381,-0.018399370834231));
res += mul(Get(s0,0,dy), float4x4(-0.007530841976404,0.056458700448275,0.133610099554062,0.034570716321468,0.154110029339790,-0.087839014828205,-0.178592935204506,-0.055246252566576,0.060951903462410,-0.000072645743785,-0.184018060564995,-0.170982316136360,-0.115866415202618,0.046639770269394,-0.052473526448011,0.014836787246168));
res += mul(Get(s0,dx,-dy), float4x4(0.021271305158734,-0.091962248086929,0.167384788393974,0.130395054817200,0.005426660645753,0.038042366504669,-0.040422119200230,0.100205227732658,0.075359240174294,-0.031137730926275,-0.049902934581041,0.118669241666794,-0.204839184880257,-0.174811244010925,-0.116730459034443,-0.089168645441532));
res += mul(Get(s0,dx,0), float4x4(-0.092022918164730,-0.135494127869606,0.037643872201443,0.057934738695621,-0.168712228536606,-0.154750406742096,-0.105866894125938,-0.113827981054783,0.102533452212811,0.122489407658577,0.082492642104626,0.059379655867815,0.059494026005268,-0.220650330185890,-0.062985353171825,0.186233356595039));
res += mul(Get(s0,dx,dy), float4x4(-0.087052285671234,0.113137073814869,-0.108747646212578,0.069266326725483,0.073905676603317,-0.085810810327530,0.085094161331654,-0.191143944859505,0.172770589590073,0.124510079622269,0.043660242110491,-0.087610512971878,0.109255835413933,0.156506165862083,0.018766034394503,-0.016058498993516));
res += mul(Get(s1,-dx,-dy), float4x4(0.040150053799152,-0.059816479682922,-0.020650012418628,-0.046800162643194,-0.008782186545432,-0.029585329815745,-0.010017885826528,-0.180535420775414,0.098773293197155,-0.045941859483719,-0.133479356765747,-0.042110633105040,-0.088227383792400,0.117696173489094,0.053776007145643,0.053991094231606));
res += mul(Get(s1,-dx,0), float4x4(-0.004729079548270,-0.215552002191544,0.025708857923746,0.062287285923958,-0.028086768463254,-0.039235990494490,0.023729108273983,-0.123701423406601,0.101082853972912,0.002680205972865,-0.079077981412411,-0.097746022045612,0.141100630164146,-0.250079333782196,-0.015643903985620,0.019732650369406));
res += mul(Get(s1,-dx,dy), float4x4(-0.047507572919130,0.098763085901737,0.029780678451061,0.050386890769005,0.008302294649184,-0.052736677229404,0.047089543193579,0.033198416233063,0.012467324733734,0.014752530492842,-0.080286651849747,-0.013089701533318,0.090276055037975,0.252930134534836,-0.025623701512814,-0.223728373646736));
res += mul(Get(s1,0,-dy), float4x4(-0.003007561201230,0.076326504349709,-0.042135540395975,0.035884298384190,0.036983165889978,0.024775257334113,0.090546078979969,-0.070091851055622,0.014704324305058,0.182317987084389,-0.065259292721748,0.073135972023010,-0.219698175787926,0.078660286962986,-0.235672697424889,-0.133288502693176));
res += mul(Get(s1,0,0), float4x4(0.100513577461243,0.173934563994408,0.105842128396034,0.031887777149677,0.178932934999466,0.091621972620487,-0.042134668678045,-0.206782907247543,-0.139931261539459,-0.107794985175133,0.086013168096542,-0.055257830768824,0.024788251146674,0.013274485245347,0.021889697760344,0.032085139304399));
res += mul(Get(s1,0,dy), float4x4(0.124314017593861,0.210116595029831,0.029518188908696,0.237551271915436,0.062655538320541,-0.037999462336302,0.196033865213394,0.056824658066034,0.036596998572350,-0.173303097486496,-0.043205570429564,0.085056148469448,-0.011768370866776,0.073971815407276,-0.122563339769840,-0.050538193434477));
res += mul(Get(s1,dx,-dy), float4x4(0.087430007755756,0.024496069177985,0.111771404743195,0.088554531335831,0.143002867698669,-0.011897946707904,0.195368647575378,-0.009678215719759,-0.046797979623079,-0.043347630649805,0.014084490016103,-0.072470650076866,-0.191947087645531,0.020071687176824,-0.021510604768991,-0.148965910077095));
res += mul(Get(s1,dx,0), float4x4(0.078185729682446,0.105672284960747,0.025227436795831,0.193054690957069,-0.080181837081909,-0.080355904996395,-0.109972320497036,0.110655523836613,0.042353667318821,0.044158980250359,-0.165412396192551,0.016696583479643,-0.047202061861753,0.137050688266754,-0.095139428973198,0.011257749050856));
res += mul(Get(s1,dx,dy), float4x4(-0.022729141637683,-0.042828295379877,-0.006335427518934,-0.037457052618265,0.062710233032703,-0.038098070770502,-0.084100961685181,0.081474952399731,0.156514212489128,0.189192652702332,0.010808593593538,0.054482750594616,0.060970094054937,0.098853573203087,0.147502154111862,0.065563224256039));
res += mul(Get(s2,-dx,-dy), float4x4(-0.125645712018013,0.037294872105122,0.182195752859116,-0.022745121270418,-0.034153159707785,-0.074914336204529,-0.085165724158287,-0.014499704353511,0.031762138009071,-0.102763466536999,-0.057762999087572,-0.007702905219048,0.087522037327290,0.042055983096361,0.199448108673096,0.146230205893517));
res += mul(Get(s2,-dx,0), float4x4(-0.002286749659106,0.025335751473904,0.069813027977943,-0.073670722544193,-0.068182840943336,0.023904101923108,-0.008389033377171,0.034208614379168,0.016732510179281,0.052053537219763,0.260465562343597,0.121697515249252,0.088024616241455,0.097444832324982,0.010349513031542,0.090087547898293));
res += mul(Get(s2,-dx,dy), float4x4(0.190347954630852,-0.133551552891731,-0.086717851459980,0.117086082696915,-0.040759742259979,-0.010077316313982,0.015875335782766,0.186262279748917,-0.069236606359482,-0.117242008447647,-0.075375393033028,0.158428296446800,0.087651476264000,0.075825080275536,-0.037870887666941,-0.059272792190313));
res += mul(Get(s2,0,-dy), float4x4(-0.037451494485140,0.077287450432777,0.250993669033051,-0.016550524160266,0.063505835831165,-0.056870304048061,0.146499097347260,-0.053374323993921,0.031108573079109,-0.077736616134644,-0.030320836231112,-0.056303627789021,0.029695915058255,0.019530707970262,0.011041289195418,0.098177753388882));
res += mul(Get(s2,0,0), float4x4(0.013959675095975,-0.221771657466888,-0.039891637861729,-0.106134288012981,-0.004464869853109,0.215690746903419,-0.118907243013382,-0.049686789512634,-0.016138553619385,-0.054489184170961,-0.095109969377518,0.217655092477798,0.102505229413509,0.140842378139496,-0.120887219905853,0.123806804418564));
res += mul(Get(s2,0,dy), float4x4(0.016105258837342,0.160031780600548,-0.002595127327368,-0.222023606300354,0.054613515734673,-0.031076852232218,-0.167097225785255,0.001213283394463,-0.069930404424667,-0.139181584119797,0.041907947510481,0.066928386688232,0.155292272567749,-0.188335537910461,0.050097599625587,-0.046403992921114));
res += mul(Get(s2,dx,-dy), float4x4(-0.158340826630592,0.246889770030975,0.033280797302723,-0.076300263404846,-0.034937616437674,-0.186126247048378,-0.111828431487083,0.207223236560822,0.105165220797062,0.079171061515808,-0.062538221478462,0.025191847234964,-0.005763653200120,-0.093529284000397,0.015848059207201,0.081163860857487));
res += mul(Get(s2,dx,0), float4x4(-0.000575930927880,-0.035850457847118,0.117537789046764,0.181654602289200,-0.030371922999620,-0.024635985493660,-0.069214478135109,-0.045113697648048,-0.161655530333519,0.205746129155159,-0.162692174315453,0.200267747044563,0.112582340836525,0.130733355879784,-0.172729656100273,-0.086705066263676));
res += mul(Get(s2,dx,dy), float4x4(0.072028279304504,0.073351785540581,-0.010963676497340,-0.101880095899105,0.010803465731442,-0.090056307613850,-0.001664680545218,-0.062130395323038,-0.094866678118706,0.008904242888093,-0.060497958213091,0.109960936009884,0.076321318745613,0.066415220499039,-0.136102020740509,0.081213630735874));
res += mul(Get(s3,-dx,-dy), float4x4(-0.155977591872215,0.056373659521341,-0.062476035207510,0.062572553753853,-0.131545484066010,0.047480955719948,-0.022275824099779,-0.052108634263277,0.078304409980774,-0.063138470053673,0.149471014738083,-0.000184116943274,0.066568292677402,0.000736268120818,-0.097448654472828,0.057319145649672));
res += mul(Get(s3,-dx,0), float4x4(-0.028376316651702,0.061382178217173,-0.118828393518925,0.036704305559397,0.060717169195414,0.060318831354380,0.072807863354683,-0.074554003775120,0.013402066193521,0.031713645905256,-0.061468698084354,0.061739120632410,-0.048292264342308,-0.070523612201214,0.250859290361404,-0.060834132134914));
res += mul(Get(s3,-dx,dy), float4x4(-0.015195336192846,0.271485775709152,-0.089274406433105,-0.116024881601334,-0.005721875466406,-0.139194592833519,0.068468257784843,0.042322874069214,0.043992154300213,0.323385387659073,0.047177597880363,0.075725510716438,0.017895950004458,-0.136352464556694,-0.062768258154392,0.050629667937756));
res += mul(Get(s3,0,-dy), float4x4(-0.147215723991394,-0.059692852199078,0.112188369035721,-0.030156517401338,-0.066475301980972,-0.076779000461102,0.099386267364025,0.028202427551150,0.071980416774750,-0.004417765419930,0.120041735470295,-0.029578767716885,-0.252011835575104,-0.040790602564812,-0.092720940709114,0.019876549020410));
res += mul(Get(s3,0,0), float4x4(-0.056886997073889,0.092218600213528,0.136185839772224,0.134401887655258,-0.070942617952824,-0.270641833543777,0.050906442105770,0.142854854464531,0.231646522879601,0.015905667096376,0.037635441869497,0.153539463877678,-0.164450615644455,0.208795666694641,-0.036175739020109,-0.218072041869164));
res += mul(Get(s3,0,dy), float4x4(-0.084363766014576,0.229771405458450,-0.166554659605026,-0.107876099646091,0.117167219519615,0.119402594864368,-0.088145874440670,0.064191594719887,0.023588398471475,0.014607286080718,0.003345777746290,-0.159419164061546,0.033089663833380,0.148053959012032,-0.005638380534947,-0.063795410096645));
res += mul(Get(s3,dx,-dy), float4x4(-0.087146565318108,0.010369502939284,-0.047809593379498,0.118041589856148,0.115952908992767,0.039476580917835,-0.019261492416263,0.014407524839044,-0.020021421834826,-0.027314303442836,0.115881599485874,-0.070481292903423,0.131676018238068,0.034282807260752,0.025142246857285,0.012116500176489));
res += mul(Get(s3,dx,0), float4x4(-0.141908213496208,-0.061335153877735,-0.031781397759914,0.192581743001938,0.128668799996376,-0.006031795404851,0.030164636671543,0.013348783366382,-0.085878126323223,0.067223586142063,0.129595547914505,0.015915090218186,-0.065507523715496,-0.083717852830887,-0.039319977164268,0.009052362293005));
res += mul(Get(s3,dx,dy), float4x4(-0.063011094927788,0.027612036094069,0.214543968439102,-0.005018208175898,-0.040386132895947,-0.114093504846096,-0.171704456210136,-0.097677275538445,-0.013673285953701,-0.135511577129364,-0.080794841051102,0.090021483600140,0.035973723977804,-0.167397886514664,0.011310092173517,-0.152847468852997));
return max(float4(0,0,0,0), res);
}
