sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.068127878010273,0.007023887243122,-0.129235804080963,0.018806600943208,0.193290129303932,0.112673811614513,-0.002426494844258,-0.114178054034710,-0.092038385570049,0.091071262955666,0.220745906233788,0.132862895727158,-0.133039534091949,-0.184407904744148,-0.012781746685505,-0.044407732784748));
res += mul(Get(s0,-dx,0), float4x4(0.032434608787298,-0.114024698734283,-0.051284287124872,-0.079114608466625,-0.071315698325634,0.074940510094166,0.186985075473785,-0.036410596221685,0.081454016268253,-0.069960832595825,-0.008801787160337,-0.016299284994602,-0.042214509099722,-0.183234646916389,-0.124553732573986,-0.032386459410191));
res += mul(Get(s0,-dx,dy), float4x4(-0.044166784733534,0.104660078883171,-0.215850114822388,-0.033806975930929,0.055816419422626,-0.002753657754511,-0.077079363167286,-0.160317063331604,0.068837679922581,-0.021882837638259,0.073990233242512,0.104313753545284,-0.187020272016525,0.007996567524970,0.125945150852203,-0.038234949111938));
res += mul(Get(s0,0,-dy), float4x4(0.023925835266709,0.048548173159361,0.035808019340038,0.028876394033432,-0.000593820819631,-0.029192563146353,0.195724830031395,-0.033173691481352,0.074017085134983,0.020201789215207,0.052701711654663,0.046432383358479,0.129610806703568,0.122009404003620,0.028731055557728,0.050893794745207));
res += mul(Get(s0,0,0), float4x4(-0.052808653563261,-0.132285475730896,-0.038464289158583,0.255817472934723,0.155623272061348,-0.031047141179442,-0.173055186867714,0.131051659584045,0.191978603601456,0.101817935705185,-0.168458268046379,0.328610032796860,0.033884506672621,-0.093312591314316,-0.061972625553608,0.067929044365883));
res += mul(Get(s0,0,dy), float4x4(0.031712248921394,-0.005671397317201,0.021030718460679,-0.025861833244562,-0.034961502999067,-0.181995868682861,0.080309420824051,0.106125168502331,-0.027108944952488,-0.096476197242737,-0.125117644667625,-0.024903705343604,0.146343648433685,-0.098458133637905,0.027034012600780,-0.090703956782818));
res += mul(Get(s0,dx,-dy), float4x4(0.084272131323814,-0.017424104735255,0.220859780907631,0.105088397860527,-0.008196328766644,-0.010653441771865,0.045594003051519,-0.142426714301109,-0.127025991678238,0.026662522926927,0.054371558129787,-0.065527640283108,0.111828483641148,0.047732748091221,-0.050658307969570,0.085887029767036));
res += mul(Get(s0,dx,0), float4x4(-0.008802663534880,0.084246769547462,-0.115336708724499,0.185184866189957,0.115757279098034,-0.166520789265633,-0.047716170549393,0.146163627505302,-0.009759850800037,-0.038505010306835,-0.158070489764214,0.096722148358822,-0.003531005699188,0.102440878748894,0.001027352409437,-0.108302280306816));
res += mul(Get(s0,dx,dy), float4x4(-0.078027307987213,0.315398693084717,0.132736131548882,0.125582963228226,-0.051282327622175,0.058177080005407,0.059153378009796,-0.010822845622897,0.064635157585144,-0.228900671005249,-0.061477053910494,-0.061475366353989,-0.187328398227692,-0.023595863953233,0.176794305443764,-0.067953020334244));
res += mul(Get(s1,-dx,-dy), float4x4(0.067792207002640,0.081199012696743,-0.197776734828949,-0.165124788880348,-0.096787832677364,0.044017016887665,0.088908202946186,-0.014485353603959,-0.073817208409309,0.081131137907505,0.208419948816299,0.014085706323385,0.088874146342278,-0.168158069252968,-0.142134651541710,-0.079545825719833));
res += mul(Get(s1,-dx,0), float4x4(-0.022324118763208,0.081813916563988,-0.085290864109993,0.224799439311028,0.058041464537382,-0.148926272988319,0.080930083990097,-0.144282728433609,-0.081938415765762,-0.007511681877077,-0.021914202719927,0.038453336805105,-0.114154621958733,0.133513942360878,-0.052347496151924,0.081046119332314));
res += mul(Get(s1,-dx,dy), float4x4(0.089878886938095,-0.040382936596870,-0.032130058854818,0.247783362865448,-0.065982274711132,-0.199418053030968,0.008924292400479,0.095354840159416,-0.063667796552181,0.186729803681374,0.095837548375130,-0.125497356057167,-0.014562027528882,0.049722936004400,0.090111754834652,-0.001463076914661));
res += mul(Get(s1,0,-dy), float4x4(0.172471910715103,-0.099213980138302,-0.008850222453475,-0.086885824799538,0.143262013792992,0.074860535562038,-0.062669232487679,-0.150736242532730,0.139128386974335,0.139769658446312,0.077569738030434,-0.081453621387482,-0.047904469072819,-0.213535338640213,-0.077044025063515,-0.001849425258115));
res += mul(Get(s1,0,0), float4x4(0.343702286481857,-0.000883634958882,-0.127163529396057,-0.045312296599150,-0.066141508519650,-0.110485002398491,0.052035465836525,-0.037381380796432,0.016033550724387,-0.032173026353121,-0.094826430082321,-0.033946745097637,-0.012277532368898,-0.276961773633957,-0.077254630625248,0.019196005538106));
res += mul(Get(s1,0,dy), float4x4(0.200090795755386,0.088976465165615,0.003833816386759,0.036543238908052,0.063254438340664,0.049533773213625,-0.023045070469379,-0.090089872479439,-0.130535379052162,-0.091302886605263,-0.122307345271111,-0.111693978309631,-0.109353795647621,-0.002625382272527,-0.046778254210949,-0.095877356827259));
res += mul(Get(s1,dx,-dy), float4x4(0.140682414174080,-0.007096247747540,-0.052021969109774,0.021045211702585,-0.055062748491764,0.046616751700640,-0.046921506524086,0.053816501051188,0.075586058199406,-0.011007927358150,-0.097793363034725,0.042430587112904,-0.196369588375092,-0.042447019368410,0.016485158354044,-0.006309865042567));
res += mul(Get(s1,dx,0), float4x4(-0.140305519104004,-0.004069793969393,-0.193206340074539,0.034295096993446,0.048843614757061,0.099540196359158,-0.034981597214937,-0.067586682736874,-0.135891780257225,0.087698042392731,-0.011395663954318,0.146166115999222,-0.052433840930462,0.062626078724861,-0.108279459178448,0.107440903782845));
res += mul(Get(s1,dx,dy), float4x4(-0.167901605367661,-0.094311922788620,-0.135156616568565,0.033993441611528,0.061225958168507,-0.034072458744049,0.201267421245575,0.008933621458709,-0.091322466731071,-0.003667203709483,0.073088817298412,0.223795786499977,-0.121417954564095,0.000748532649595,-0.011597164906561,0.112663224339485));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046706866472960,0.036987345665693,0.084564171731472,0.058608032763004,-0.022158686071634,-0.012442637234926,-0.006291482131928,-0.000691562891006,-0.076043300330639,-0.052857410162687,0.282246559858322,0.178790912032127,0.004341700114310,0.012651160359383,-0.089999735355377,0.127539977431297));
res += mul(Get(s2,-dx,0), float4x4(0.062635742127895,0.078201748430729,0.167427256703377,0.098886325955391,0.046198517084122,-0.080053068697453,-0.104290388524532,-0.045890275388956,0.073804624378681,0.117355249822140,0.081598900258541,0.098979555070400,-0.061028238385916,0.107928924262524,-0.107983015477657,-0.110485717654228));
res += mul(Get(s2,-dx,dy), float4x4(0.018418790772557,-0.103846102952957,0.069974608719349,-0.025932626798749,-0.043553914874792,0.100478425621986,0.065378591418266,-0.101034514605999,-0.056202828884125,0.112092420458794,0.153339684009552,0.161409318447113,-0.067919686436653,-0.024242727085948,0.045674163848162,0.060224350541830));
res += mul(Get(s2,0,-dy), float4x4(0.092688508331776,0.012792904861271,0.056245725601912,-0.164527341723442,-0.048071712255478,0.028011986985803,-0.023211421445012,-0.061219051480293,0.104619376361370,-0.059372887015343,0.108169890940189,0.100557722151279,0.032639268785715,-0.036728508770466,0.043250903487206,0.117802627384663));
res += mul(Get(s2,0,0), float4x4(-0.011726636439562,0.010790148749948,-0.078522302210331,0.064541712403297,0.020901912823319,-0.156334042549133,-0.020270885899663,0.228012204170227,0.142151683568954,-0.142916008830070,-0.113022267818451,-0.066251970827579,-0.118917047977448,-0.023177733644843,0.132137864828110,0.149554893374443));
res += mul(Get(s2,0,dy), float4x4(-0.180951043963432,0.046173952519894,0.075878791511059,0.126816570758820,0.189408183097839,0.066682063043118,-0.074133075773716,-0.122928686439991,-0.000692808942404,0.095022983849049,-0.081314481794834,-0.052126489579678,0.074871100485325,-0.076781012117863,-0.266108453273773,0.019738990813494));
res += mul(Get(s2,dx,-dy), float4x4(0.154599368572235,0.194444641470909,0.006612659431994,-0.130757212638855,-0.154748529195786,-0.000551237724721,0.055902715772390,0.012961919419467,-0.055462900549173,-0.138568639755249,0.140301749110222,0.130531370639801,-0.048651896417141,0.109276421368122,-0.018183859065175,-0.009065350517631));
res += mul(Get(s2,dx,0), float4x4(-0.163653373718262,0.001704881549813,-0.187732920050621,0.256391823291779,-0.089474342763424,0.137724325060844,-0.138750061392784,-0.044636860489845,0.222610995173454,-0.026439366862178,-0.166893675923347,-0.023364856839180,0.118201531469822,-0.001364997704513,0.036667037755251,0.074516072869301));
res += mul(Get(s2,dx,dy), float4x4(-0.017345981672406,-0.083126939833164,0.113784946501255,-0.015188333578408,-0.029372559860349,0.007837790064514,-0.086447194218636,0.208910569548607,0.060988742858171,0.019973343238235,-0.015430468134582,-0.010909048840404,0.031083442270756,0.042327515780926,-0.094141572713852,-0.075130239129066));
res += mul(Get(s3,-dx,-dy), float4x4(-0.168398931622505,0.015278482809663,-0.052593812346458,-0.240741118788719,0.060165055096149,-0.096204482018948,-0.122644007205963,-0.085024535655975,0.193210691213608,-0.228950068354607,0.082453884184361,0.086113318800926,-0.116059474647045,0.004673979245126,-0.213069215416908,-0.012039698660374));
res += mul(Get(s3,-dx,0), float4x4(0.185139238834381,0.194417551159859,0.093322172760963,0.045719970017672,-0.071416445076466,0.139137670397758,0.070587351918221,0.015829812735319,0.060659375041723,0.067293480038643,-0.198414519429207,0.067381650209427,-0.202892765402794,-0.093601465225220,-0.012026158161461,-0.175169825553894));
res += mul(Get(s3,-dx,dy), float4x4(-0.109696798026562,0.076922945678234,0.055141929537058,-0.059414807707071,0.088706649839878,0.090857215225697,0.005011466331780,-0.100288853049278,-0.047006353735924,-0.016711672767997,0.175876542925835,0.125253111124039,-0.203941956162453,-0.200900837779045,0.022990757599473,-0.004659721162170));
res += mul(Get(s3,0,-dy), float4x4(-0.098950594663620,0.000129481559270,0.029813313856721,-0.048130054026842,0.152969017624855,0.084046393632889,-0.004816546570510,-0.114371784031391,-0.274819940328598,-0.048756070435047,-0.056244950741529,-0.149565815925598,0.040462914854288,-0.140995010733604,0.109115384519100,-0.083771966397762));
res += mul(Get(s3,0,0), float4x4(-0.028630714863539,0.178850457072258,-0.138738855719566,-0.028710795566440,-0.088796816766262,0.069896392524242,0.005489608738571,-0.049677718430758,-0.023481471464038,0.060622159391642,-0.031904488801956,-0.142538487911224,0.046981643885374,0.187314242124557,0.040064889937639,0.140699103474617));
res += mul(Get(s3,0,dy), float4x4(-0.113582909107208,-0.004506819881499,0.033857367932796,0.085563525557518,0.001331917359494,0.064210623502731,-0.023632116615772,-0.001947134616785,0.075806573033333,0.335269272327423,-0.048799071460962,0.193916872143745,-0.142777279019356,-0.089279636740685,0.074940346181393,0.209424510598183));
res += mul(Get(s3,dx,-dy), float4x4(0.022537145763636,0.035919141024351,0.032032303512096,0.065066091716290,-0.146281912922859,0.056107897311449,-0.042713332921267,-0.096675522625446,-0.035955362021923,-0.162177756428719,0.040220070630312,-0.038003280758858,-0.113557331264019,-0.129363566637039,0.116517819464207,0.013005608692765));
res += mul(Get(s3,dx,0), float4x4(-0.143161311745644,-0.025158112868667,0.191068857908249,-0.103122487664223,0.102379590272903,-0.061888091266155,-0.079680182039738,-0.018829198554158,-0.087264291942120,-0.185680285096169,0.004493658896536,0.021877175197005,-0.058810502290726,-0.108245633542538,-0.025278532877564,-0.104704558849335));
res += mul(Get(s3,dx,dy), float4x4(0.075547061860561,0.010062654502690,0.034743770956993,0.074941515922546,0.191799297928810,-0.084560431540012,-0.173304736614227,-0.052652359008789,0.123960569500923,-0.066578477621078,-0.141098767518997,0.056202456355095,0.210953071713448,0.142138719558716,0.073893599212170,-0.017890132963657));
return max(float4(0,0,0,0), res);
}
