sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.126417800784111,0.120368510484695,0.001573965651914,-0.037577006965876) * Get(-dx,-dy);
res += float4(-0.068044573068619,-0.005704215262085,-0.080472469329834,-0.167668193578720) * Get(-dx,0);
res += float4(-0.130982011556625,-0.136704176664352,-0.212824285030365,0.228001222014427) * Get(-dx,dy);
res += float4(0.018828406929970,-0.112178914248943,-0.091640219092369,-0.051822148263454) * Get(0,-dy);
res += float4(0.120186388492584,-0.043529752641916,-0.214753836393356,-0.057957217097282) * Get(0,0);
res += float4(-0.112485118210316,-0.054555293172598,-0.099047087132931,0.307913601398468) * Get(0,dy);
res += float4(0.023680044338107,-0.115911722183228,0.075639590620995,-0.289648503065109) * Get(dx,-dy);
res += float4(-0.079556442797184,-0.021662812680006,0.287493616342545,-0.000829471158795) * Get(dx,0);
res += float4(-0.027132576331496,0.084265239536762,0.273609042167664,0.173220604658127) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
