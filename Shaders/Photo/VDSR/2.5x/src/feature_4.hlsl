sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.038004312664270,0.003066692268476,-0.334843784570694,0.042667638510466) * Get(-dx,-dy);
res += float4(0.131366357207298,-0.000784179195762,-0.458387762308121,0.324762731790543) * Get(-dx,0);
res += float4(-0.534208655357361,-0.005386490840465,-0.373583287000656,0.400039225816727) * Get(-dx,dy);
res += float4(0.256732672452927,-0.005068938247859,-0.138667494058609,0.001981163397431) * Get(0,-dy);
res += float4(0.358166396617889,-0.002112359041348,-0.195038840174675,0.032410368323326) * Get(0,0);
res += float4(-0.627113103866577,-0.002366390777752,-0.192991077899933,0.210615545511246) * Get(0,dy);
res += float4(-0.038631469011307,-0.005691144615412,0.390758156776428,-0.603510200977325) * Get(dx,-dy);
res += float4(0.194315060973167,-0.000629906135146,0.595768928527832,-0.673775255680084) * Get(dx,0);
res += float4(-0.475161820650101,0.004008474294096,0.365297913551331,-0.431218266487122) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
