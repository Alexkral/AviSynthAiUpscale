sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.014670436270535,-0.103035539388657,-0.002549844561145,0.218083336949348,-0.087568439543247,0.071225568652153,0.053101193159819,0.041548486799002,0.038760110735893,0.157114043831825,-0.017111096531153,-0.069603078067303,0.110719509422779,-0.107384294271469,-0.002692612586543,-0.001067796605639));
res += mul(Get(s0,-dx,0), float4x4(0.135497733950615,0.016586510464549,0.060918632894754,0.090808138251305,-0.044972904026508,-0.073234193027020,0.190215587615967,-0.173513680696487,0.083026580512524,-0.203948661684990,-0.103411853313446,0.041546076536179,0.103092089295387,0.005731025245041,-0.044327739626169,0.034057270735502));
res += mul(Get(s0,-dx,dy), float4x4(-0.121668674051762,0.027149412781000,-0.016251299530268,0.049942165613174,0.077922664582729,-0.095300190150738,0.171315610408783,-0.013897274620831,0.100489586591721,-0.165238156914711,0.020506739616394,-0.041572693735361,0.289845466613770,-0.126552939414978,-0.047069728374481,0.255786567926407));
res += mul(Get(s0,0,-dy), float4x4(-0.121998563408852,0.112849570810795,0.087404616177082,0.116805523633957,-0.000819950306322,-0.063076019287109,0.219056412577629,-0.090920470654964,0.136176973581314,0.077772587537766,-0.060521800071001,0.029284026473761,-0.001988722942770,-0.053803972899914,-0.053875498473644,0.017512064427137));
res += mul(Get(s0,0,0), float4x4(-0.193620353937149,-0.078921712934971,0.067675046622753,-0.086434818804264,0.071947097778320,0.114644519984722,0.056596565991640,-0.192673146724701,-0.121183864772320,-0.061444908380508,-0.014457935467362,0.141171440482140,-0.032686702907085,-0.042295880615711,-0.033604804426432,0.100829623639584));
res += mul(Get(s0,0,dy), float4x4(0.123222090303898,0.103410348296165,0.040747910737991,-0.067717462778091,0.091417096555233,0.057816058397293,0.009454205632210,-0.017842255532742,-0.018350156024098,0.036001615226269,0.121273271739483,-0.116810902953148,-0.236656963825226,-0.052937865257263,0.182367891073227,0.166936814785004));
res += mul(Get(s0,dx,-dy), float4x4(0.041944339871407,0.016533911228180,-0.092768102884293,-0.099593847990036,-0.116108030080795,-0.123255632817745,0.139961421489716,-0.041566122323275,-0.086333341896534,-0.057445947080851,-0.068345323204994,-0.007675637025386,0.084897167980671,-0.029777230694890,0.163414493203163,0.062833189964294));
res += mul(Get(s0,dx,0), float4x4(-0.129617065191269,-0.007627616636455,0.101517915725708,0.017167683690786,0.133351102471352,0.029062872752547,-0.036275662481785,0.082294546067715,-0.059029933065176,0.013287753798068,0.045832883566618,0.043181426823139,-0.150877475738525,-0.024922765791416,0.081201612949371,0.190023243427277));
res += mul(Get(s0,dx,dy), float4x4(-0.014957439154387,0.023520482704043,-0.005087022203952,-0.003471552859992,0.187784746289253,-0.094243392348289,0.015253185294569,0.156730815768242,-0.187170684337616,-0.213317602872849,-0.008931824937463,-0.171640276908875,0.099992364645004,-0.087575823068619,-0.006783193442971,-0.013740419410169));
res += mul(Get(s1,-dx,-dy), float4x4(-0.025567021220922,-0.003625724231824,-0.059187758713961,0.047788053750992,-0.090084768831730,0.223401382565498,-0.082107529044151,0.056909460574389,0.163743779063225,-0.036495488137007,0.046493679285049,0.026765188202262,-0.009962940588593,0.159563526511192,-0.164027303457260,-0.056964680552483));
res += mul(Get(s1,-dx,0), float4x4(0.125582426786423,0.107925519347191,-0.203906103968620,-0.019065514206886,-0.044633187353611,-0.020565276965499,-0.029305148869753,0.075034916400909,0.006585507187992,-0.081808604300022,-0.014388533309102,0.043205779045820,-0.251771271228790,-0.171679541468620,0.031492240726948,-0.090312451124191));
res += mul(Get(s1,-dx,dy), float4x4(0.040061727166176,0.089805737137794,0.048648945987225,-0.016755035147071,-0.062701508402824,0.035548489540815,0.077746771275997,0.088075809180737,-0.133975729346275,-0.098393164575100,-0.062472019344568,-0.096243247389793,0.196280404925346,-0.081891186535358,0.114118866622448,-0.104622460901737));
res += mul(Get(s1,0,-dy), float4x4(-0.140827372670174,-0.116879187524319,-0.036184474825859,-0.090158618986607,0.176657408475876,0.163429901003838,-0.225224778056145,0.000914736534469,0.002134171780199,-0.069929264485836,0.055149387568235,-0.031439192593098,-0.097694441676140,0.187834993004799,0.200599670410156,0.049627173691988));
res += mul(Get(s1,0,0), float4x4(0.032927148044109,0.140653818845749,0.173930257558823,-0.000379462202545,0.032344948500395,0.081904754042625,0.104075960814953,-0.054597526788712,-0.050632108002901,-0.035981729626656,0.233514323830605,-0.080210521817207,0.056885853409767,0.022359784692526,0.024668039754033,0.027540709823370));
res += mul(Get(s1,0,dy), float4x4(0.220341339707375,0.045637685805559,0.040578246116638,0.015511726960540,-0.099918507039547,0.018100893124938,0.118707537651062,0.165962114930153,-0.100989148020744,0.122569411993027,0.159687623381615,-0.146139517426491,0.096229553222656,0.177423477172852,-0.071302637457848,0.024428049102426));
res += mul(Get(s1,dx,-dy), float4x4(0.008973278105259,0.174535453319550,-0.029310990124941,0.056158155202866,-0.010436163283885,0.206486061215401,0.056747406721115,-0.010829897597432,0.243520185351372,-0.174280971288681,0.029918231070042,-0.093821935355663,-0.038369651883841,-0.001071918872185,-0.134867385029793,0.099086590111256));
res += mul(Get(s1,dx,0), float4x4(0.023192336782813,-0.025537375360727,0.070435300469398,0.048244643956423,0.128203451633453,0.072699055075645,0.075151339173317,-0.038544133305550,-0.159567758440971,-0.103822544217110,0.179203495383263,-0.038261469453573,0.114809460937977,-0.032603934407234,0.069631390273571,-0.156886607408524));
res += mul(Get(s1,dx,dy), float4x4(0.037182666361332,0.053424879908562,0.066988922655582,0.013042689301074,0.038274839520454,-0.217917189002037,0.053874246776104,-0.071820043027401,0.018227094784379,-0.235269486904144,0.058335315436125,-0.028194608166814,0.078440651297569,-0.050604458898306,0.096800081431866,0.131772801280022));
res += mul(Get(s2,-dx,-dy), float4x4(-0.095343112945557,-0.186865717172623,0.092772379517555,-0.122440017759800,-0.097778663039207,-0.087865762412548,0.094498112797737,0.136177182197571,-0.053912010043859,0.047224476933479,0.080830149352551,0.031452212482691,-0.182352185249329,-0.080098435282707,0.063765324652195,0.112971022725105));
res += mul(Get(s2,-dx,0), float4x4(0.095504730939865,-0.016745669767261,-0.044780474156141,0.089955255389214,-0.093588136136532,0.077971309423447,0.023396851494908,0.191861256957054,-0.053419116884470,-0.051040902733803,0.031949609518051,0.038444545120001,-0.032495941966772,0.018840501084924,0.091924801468849,0.086560375988483));
res += mul(Get(s2,-dx,dy), float4x4(-0.019363991916180,0.157495602965355,-0.026258455589414,-0.009487238712609,-0.068880490958691,0.174452722072601,0.080548644065857,-0.031353905797005,-0.110611431300640,-0.003799641039222,0.146314069628716,0.130718812346458,0.108124583959579,-0.183263733983040,0.018317390233278,-0.105797223746777));
res += mul(Get(s2,0,-dy), float4x4(-0.197257861495018,0.093652240931988,-0.037160865962505,-0.039404675364494,-0.087992638349533,0.183582022786140,0.218663632869720,-0.077018633484840,0.062038566917181,0.092795267701149,0.108667068183422,-0.049821104854345,-0.221463873982430,-0.082186996936798,0.005838073324412,-0.043991543352604));
res += mul(Get(s2,0,0), float4x4(0.055880345404148,0.064280241727829,0.011516615748405,0.075214385986328,-0.235628262162209,0.018419150263071,0.096976824104786,-0.088384538888931,0.033944532275200,0.061369959264994,0.019133623689413,0.034010171890259,0.072726346552372,0.092633411288261,0.111967355012894,-0.049792550504208));
res += mul(Get(s2,0,dy), float4x4(0.221194729208946,-0.147008836269379,-0.050548326224089,0.070903062820435,-0.010876943357289,-0.031383644789457,-0.018878502771258,0.115398481488228,0.029494466260076,0.154781848192215,-0.060038894414902,0.076842546463013,0.125528588891029,-0.069095477461815,0.079003810882568,0.170348405838013));
res += mul(Get(s2,dx,-dy), float4x4(0.051826242357492,0.119069896638393,0.046183858066797,-0.032584257423878,0.015847442671657,-0.133613571524620,-0.104228280484676,-0.055235337466002,0.314484089612961,0.091930530965328,-0.155433952808380,0.154602870345116,0.028258794918656,0.083711557090282,-0.105356194078922,0.136310115456581));
res += mul(Get(s2,dx,0), float4x4(-0.031877186149359,0.124772153794765,-0.012082337401807,0.096262305974960,0.087309770286083,-0.006942125037313,-0.006413275841624,-0.013048626482487,-0.095373362302780,0.057220827788115,0.062037322670221,0.169380366802216,-0.082028776407242,0.074490308761597,-0.071700565516949,0.110983856022358));
res += mul(Get(s2,dx,dy), float4x4(-0.107819430530071,0.116206459701061,-0.066516950726509,0.191554024815559,0.194775909185410,-0.032424256205559,-0.119895771145821,-0.024210015311837,0.034130703657866,-0.018141733482480,0.020785756409168,-0.051761068403721,0.129390999674797,0.040350139141083,0.035839602351189,-0.015755448490381));
res += mul(Get(s3,-dx,-dy), float4x4(-0.004858525469899,-0.034972980618477,-0.063822388648987,0.104953154921532,-0.154851675033569,-0.265397757291794,-0.255960613489151,0.032441239804029,0.134454771876335,0.059756282716990,-0.176438584923744,-0.085523158311844,0.155623540282249,0.015256491489708,-0.166512548923492,-0.030653461813927));
res += mul(Get(s3,-dx,0), float4x4(-0.124054744839668,0.078904725611210,-0.021874902769923,0.095044247806072,0.035656142979860,-0.123406156897545,0.012970990501344,-0.114615254104137,0.149550884962082,-0.056509274989367,-0.171920523047447,0.076109573245049,0.072203032672405,-0.043194428086281,0.227038607001305,-0.082351528108120));
res += mul(Get(s3,-dx,dy), float4x4(-0.145689323544502,-0.002869349671528,-0.039022497832775,-0.251134604215622,-0.246597513556480,-0.098721168935299,0.142912268638611,-0.069037497043610,-0.002537789754570,-0.224927619099617,-0.125560536980629,-0.132853701710701,0.303891509771347,0.107543557882309,-0.078890569508076,0.048568367958069));
res += mul(Get(s3,0,-dy), float4x4(-0.003347903955728,-0.029062671586871,-0.062945060431957,0.109001241624355,0.128598511219025,-0.075379222631454,0.047928243875504,-0.105848357081413,-0.050475917756557,-0.107015892863274,0.135812446475029,-0.102795779705048,0.088033556938171,-0.122262984514236,0.054898742586374,-0.015499806031585));
res += mul(Get(s3,0,0), float4x4(-0.029959099367261,0.126067280769348,-0.111446775496006,0.041793715208769,0.181488037109375,0.063706152141094,0.013295697979629,-0.107238784432411,-0.086018055677414,0.082603931427002,0.116851873695850,0.169668093323708,0.161391124129295,-0.211994111537933,-0.043602358549833,-0.044286616146564));
res += mul(Get(s3,0,dy), float4x4(0.068550623953342,0.110514052212238,-0.043807469308376,-0.134816616773605,0.081551201641560,0.021722795441747,0.074038386344910,-0.079721346497536,-0.055537126958370,-0.207132533192635,-0.310095727443695,0.195170447230339,0.127925917506218,0.059424113482237,-0.000750546751078,0.081655174493790));
res += mul(Get(s3,dx,-dy), float4x4(-0.169016525149345,0.257600784301758,0.056814730167389,-0.112825557589531,0.015993528068066,0.038616154342890,-0.004952779039741,-0.049430478364229,-0.028977755457163,0.135576009750366,0.104318380355835,-0.010143655352294,-0.261984378099442,-0.103178814053535,0.229981750249863,-0.060705747455359));
res += mul(Get(s3,dx,0), float4x4(-0.032683081924915,0.102136492729187,-0.242769226431847,0.147967755794525,-0.090017549693584,0.006253818981349,0.194838270545006,-0.023506147786975,-0.091186866164207,-0.091729156672955,0.116955496370792,-0.107538051903248,-0.195357382297516,0.143706858158112,0.003153277328238,-0.105153061449528));
res += mul(Get(s3,dx,dy), float4x4(-0.166946813464165,0.014242973178625,0.102865822613239,-0.009610792621970,0.050124157220125,-0.019565301015973,-0.172953248023987,0.121953777968884,0.210357934236526,-0.104550421237946,-0.032414559274912,-0.101197227835655,-0.149275362491608,0.021023284643888,0.154049202799797,0.000406608713092));
return max(float4(0,0,0,0), res);
}
