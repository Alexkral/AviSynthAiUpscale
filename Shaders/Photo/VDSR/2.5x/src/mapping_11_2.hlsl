sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.023950297385454,0.065973348915577,0.129782736301422,0.099397048354149,-0.135769292712212,-0.006877182982862,-0.073572412133217,0.051191616803408,-0.107145592570305,0.064181283116341,0.127183914184570,-0.134489044547081,-0.135846018791199,-0.010479345917702,0.068299680948257,0.069848582148552));
res += mul(Get(s0,-dx,0), float4x4(0.077008433640003,0.073658734560013,-0.093959547579288,0.058515213429928,-0.058933701366186,0.008268084377050,-0.024415260180831,-0.006424233783036,-0.050943985581398,-0.200907111167908,0.006189799867570,0.061554331332445,0.170472547411919,-0.092134922742844,-0.050497539341450,0.022758703678846));
res += mul(Get(s0,-dx,dy), float4x4(0.028745252639055,0.077481016516685,-0.043002780526876,0.078623458743095,-0.062579907476902,-0.030417975038290,-0.021315259858966,-0.002785413758829,-0.060493003576994,-0.186096817255020,-0.031984403729439,-0.138558849692345,0.194429904222488,-0.100454553961754,0.010223681107163,0.001056938199326));
res += mul(Get(s0,0,-dy), float4x4(-0.101408772170544,0.025967249646783,0.014745968393981,0.085691079497337,-0.095109485089779,-0.030375082045794,-0.104895465075970,0.062461290508509,0.044488329440355,0.014881196431816,0.150969564914703,0.057396508753300,0.040350481867790,-0.010123690590262,-0.009913322515786,0.063071288168430));
res += mul(Get(s0,0,0), float4x4(-0.033134050667286,0.072581216692924,-0.032415978610516,0.015592045150697,-0.006462735589594,0.160233080387115,-0.094167545437813,-0.014416813850403,-0.021079618483782,-0.130321428179741,-0.079049028456211,0.128625586628914,0.012107552960515,-0.105666093528271,0.166620880365372,-0.006050815805793));
res += mul(Get(s0,0,dy), float4x4(0.010366157628596,0.052419733256102,-0.020667066797614,-0.093930087983608,0.054131317883730,-0.187267050147057,-0.128970980644226,0.006680401973426,-0.019927041605115,-0.185771539807320,-0.078344486653805,-0.004348854999989,-0.030203938484192,-0.115341968834400,-0.009975055232644,-0.000813111022580));
res += mul(Get(s0,dx,-dy), float4x4(-0.041941270232201,0.059984479099512,-0.065618403255939,-0.044877018779516,-0.034717146307230,-0.131768494844437,-0.026184704154730,0.149066179990768,0.057900466024876,0.092237710952759,0.067465700209141,-0.067820779979229,-0.005366532132030,-0.076824426651001,0.027843007817864,-0.067105188965797));
res += mul(Get(s0,dx,0), float4x4(0.013002344407141,0.019108697772026,-0.043614730238914,0.048373494297266,0.088082924485207,0.186144635081291,-0.044292207807302,0.074434392154217,-0.009675016626716,-0.009551265276968,-0.108962163329124,-0.021772835403681,-0.082037702202797,-0.000573778816033,0.047576494514942,-0.011828209273517));
res += mul(Get(s0,dx,dy), float4x4(0.058753445744514,-0.016577363014221,-0.051839832216501,0.060829527676105,-0.060387592762709,0.103401586413383,-0.109729133546352,-0.008334808982909,0.111624293029308,-0.141486600041389,-0.012527269311249,-0.147008612751961,0.002154045505449,-0.066801980137825,-0.082172900438309,0.040106009691954));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024795377627015,-0.088499747216702,0.053075518459082,0.128722861409187,-0.063266664743423,0.058625750243664,-0.093774095177650,0.078117467463017,0.025144385173917,-0.005377154331654,-0.051926936954260,0.105428703129292,0.041939560323954,0.144308328628540,0.124833643436432,-0.072194233536720));
res += mul(Get(s1,-dx,0), float4x4(0.161938682198524,-0.061952475458384,-0.027657127007842,-0.030538100749254,0.191958710551262,0.002116939518601,-0.036544028669596,-0.009211331605911,-0.027217740193009,-0.065175145864487,-0.087835289537907,0.126018717885017,0.040080700069666,-0.016798056662083,-0.045062180608511,-0.031481720507145));
res += mul(Get(s1,-dx,dy), float4x4(-0.053175594657660,0.042862311005592,0.019250469282269,0.136087641119957,-0.006433640141040,0.020661680027843,-0.116433158516884,-0.073564462363720,0.044492643326521,0.019780589267612,-0.136122807860374,0.060250718146563,0.067722655832767,-0.054093834012747,0.030134296044707,-0.053755834698677));
res += mul(Get(s1,0,-dy), float4x4(-0.038403928279877,0.007100111339241,0.024211714044213,-0.135232910513878,-0.004351755138487,0.118642009794712,0.024332150816917,0.036767642945051,-0.006436815485358,-0.021086269989610,0.141999050974846,-0.017141211777925,0.015686603263021,0.089811705052853,0.026211697608232,-0.081144124269485));
res += mul(Get(s1,0,0), float4x4(0.029758138582110,-0.073293298482895,0.009402881376445,-0.061114534735680,0.095312312245369,0.098662286996841,0.036336429417133,0.025676721706986,-0.041130591183901,0.091349907219410,-0.001818107790314,-0.098795235157013,0.062409028410912,-0.000507916265633,-0.072287909686565,-0.104356810450554));
res += mul(Get(s1,0,dy), float4x4(-0.075703732669353,0.009502942673862,-0.064496032893658,0.014897136949003,-0.004571070428938,-0.052804678678513,-0.108554206788540,0.034452404826880,-0.126506194472313,-0.014541161246598,0.010028616525233,0.126528114080429,0.039956375956535,-0.068565450608730,-0.054973632097244,-0.122183777391911));
res += mul(Get(s1,dx,-dy), float4x4(-0.066048152744770,0.020896697416902,0.018476914614439,-0.016841256991029,-0.070795968174934,0.081400580704212,-0.003044567070901,-0.034093700349331,0.033517230302095,0.098558612167835,0.048283882439137,-0.128251627087593,-0.063160568475723,0.022426210343838,-0.000686066749040,-0.023167245090008));
res += mul(Get(s1,dx,0), float4x4(0.105793580412865,-0.101583532989025,0.076070554554462,-0.054608382284641,0.165383800864220,0.026315018534660,0.096224918961525,-0.100876018404961,-0.029211750254035,-0.112624257802963,-0.000637760327663,-0.150565505027771,0.049158331006765,0.081086315214634,-0.020761778578162,-0.110938429832458));
res += mul(Get(s1,dx,dy), float4x4(-0.082366324961185,-0.038997776806355,-0.102303840219975,-0.015933562070131,0.069785811007023,-0.124038547277451,0.228669807314873,-0.158529326319695,-0.069536127150059,-0.053577616810799,-0.178175717592239,-0.175428003072739,0.159988656640053,0.019298642873764,0.086255565285683,-0.069408573210239));
res += mul(Get(s2,-dx,-dy), float4x4(0.080495767295361,-0.071364954113960,0.065315641462803,-0.032990626990795,0.100248523056507,-0.010703145526350,-0.012875101529062,0.026970939710736,-0.070619501173496,0.093970417976379,-0.005570759065449,-0.006487690843642,-0.085716478526592,-0.171947866678238,0.052025247365236,0.149555847048759));
res += mul(Get(s2,-dx,0), float4x4(-0.000875167257618,0.033396147191525,0.020972084254026,-0.082036919891834,-0.106080740690231,0.242107897996902,-0.074124775826931,-0.067417502403259,-0.158394515514374,0.031640511006117,-0.038367569446564,-0.031223205849528,-0.166295841336250,-0.037540681660175,0.042031586170197,0.073538959026337));
res += mul(Get(s2,-dx,dy), float4x4(-0.127967715263367,0.175141125917435,0.069244623184204,0.036609891802073,-0.052765615284443,0.059323903173208,-0.107997350394726,-0.028225349262357,-0.111345827579498,-0.067439541220665,0.002406106330454,-0.121292084455490,0.007903307676315,-0.014960727654397,-0.014269591309130,-0.060755081474781));
res += mul(Get(s2,0,-dy), float4x4(-0.027285108342767,-0.100159138441086,-0.043225754052401,-0.078432820737362,0.078765928745270,0.046314433217049,0.083541072905064,-0.086883373558521,0.000335402233759,0.076195135712624,0.173654839396477,-0.048324730247259,0.039876256138086,-0.134311467409134,-0.023929528892040,0.000004907827133));
res += mul(Get(s2,0,0), float4x4(-0.053028877824545,-0.048458989709616,0.153954178094864,0.004657060839236,-0.085802972316742,0.154020667076111,-0.053426910191774,-0.093772470951080,-0.034393768757582,-0.069811701774597,-0.093740120530128,-0.045675944536924,0.075215004384518,-0.005727165378630,0.001282731769606,-0.101050630211830));
res += mul(Get(s2,0,dy), float4x4(-0.044290721416473,0.022933514788747,0.030048331245780,0.072471991181374,-0.003683191724122,0.065524466335773,-0.126007869839668,-0.049960885196924,0.070505775511265,-0.025075590237975,0.018853899091482,-0.049101483076811,0.116648055613041,-0.113892503082752,0.092086277902126,-0.076146647334099));
res += mul(Get(s2,dx,-dy), float4x4(0.006136184092611,-0.047119669616222,0.255048185586929,0.043405339121819,0.103117115795612,-0.006138703785837,0.086221627891064,0.050052091479301,-0.037522695958614,-0.014768402092159,0.174248531460762,-0.066876105964184,0.005066106561571,0.032664220780134,-0.115589678287506,0.020173933357000));
res += mul(Get(s2,dx,0), float4x4(-0.094144806265831,0.003494500415400,0.099327385425568,0.002484262222424,0.018751394003630,0.100393265485764,-0.042583554983139,0.012564389035106,-0.020327102392912,0.088291101157665,-0.012862736359239,-0.079040601849556,0.013732747174799,-0.104500196874142,-0.056188859045506,0.030244272202253));
res += mul(Get(s2,dx,dy), float4x4(-0.051505558192730,0.092613026499748,0.049856849014759,0.247336700558662,0.103688992559910,0.073982007801533,-0.054908391088247,-0.115332402288914,-0.050648920238018,0.006795457098633,0.016220031306148,-0.081996776163578,-0.008618976920843,-0.026636812835932,-0.022870006039739,0.072034053504467));
res += mul(Get(s3,-dx,-dy), float4x4(0.057041119784117,0.108287625014782,-0.033362861722708,-0.003748421790078,-0.016871994361281,-0.025320708751678,-0.029425367712975,0.003071098122746,0.003099958179519,-0.046031944453716,0.049921557307243,0.104887157678604,0.030015785247087,0.001431827433407,0.033436872065067,0.152574524283409));
res += mul(Get(s3,-dx,0), float4x4(0.105836264789104,0.036380160599947,-0.027850080281496,0.172464221715927,0.137885466217995,-0.005580883473158,0.071580097079277,-0.001278400304727,0.274617135524750,0.131330847740173,0.000714781635907,0.051272857934237,-0.044720564037561,-0.078207656741142,-0.118215188384056,-0.031631704419851));
res += mul(Get(s3,-dx,dy), float4x4(0.022811446338892,-0.073036007583141,-0.092961020767689,0.089123897254467,-0.079020805656910,0.056258749216795,0.066045701503754,0.027292586863041,0.123431317508221,0.008906072005630,-0.033673696219921,-0.005064133554697,0.009712437167764,-0.047389376908541,0.017055209726095,-0.062064766883850));
res += mul(Get(s3,0,-dy), float4x4(0.024085555225611,0.100792311131954,0.034518424421549,0.046498339623213,0.064175114035606,0.033082839101553,0.063732147216797,0.058952208608389,-0.001176124438643,0.049881979823112,0.142879649996758,0.056132301688194,0.025342008098960,0.128944128751755,-0.025591636076570,0.148151353001595));
res += mul(Get(s3,0,0), float4x4(-0.031933143734932,0.138411715626717,-0.076586678624153,0.000823348003905,0.112535201013088,0.103414602577686,0.071250155568123,0.035652901977301,0.072759203612804,-0.068322144448757,0.071226008236408,0.032979227602482,-0.033642210066319,-0.130998581647873,0.024494880810380,0.080842837691307));
res += mul(Get(s3,0,dy), float4x4(-0.002673796610907,-0.010550717823207,-0.095047540962696,-0.014532768167555,-0.081377141177654,-0.013029973953962,-0.025879142805934,0.001627659192309,-0.017657436430454,0.070434696972370,-0.030411766842008,-0.003809707472101,-0.095227964222431,-0.085759110748768,0.000943855091464,0.157239466905594));
res += mul(Get(s3,dx,-dy), float4x4(0.010678088292480,0.108128823339939,-0.016638198867440,-0.157801836729050,0.047595363110304,-0.010431014001369,0.112480029463768,0.011994095519185,0.062437292188406,-0.010369936935604,-0.124246500432491,-0.057562373578548,-0.028040010482073,0.020793618634343,0.126537844538689,0.003118359483778));
res += mul(Get(s3,dx,0), float4x4(0.015601952560246,-0.003156584221870,-0.056992083787918,-0.055818654596806,0.036154955625534,-0.031109688803554,0.039563875645399,-0.070426143705845,0.098294489085674,-0.030867021530867,0.058208990842104,-0.003165662288666,0.024151332676411,-0.064636029303074,0.097958967089653,0.024484455585480));
res += mul(Get(s3,dx,dy), float4x4(-0.113273978233337,-0.083986282348633,-0.122705131769180,-0.066840581595898,-0.036599498242140,-0.078501924872398,-0.029040271416306,-0.022044694051147,0.039754871279001,0.081964358687401,-0.011877167038620,-0.070572793483734,-0.061067830771208,-0.058867063373327,0.029174417257309,-0.133335411548615));
return max(float4(0,0,0,0), res);
}
