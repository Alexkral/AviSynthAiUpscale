sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.069678872823715,-0.053327444940805,-0.174535125494003,-0.004801811650395,0.026815861463547,-0.035653747618198,-0.029205486178398,0.048047054558992,-0.158626779913902,-0.050564404577017,0.016406098380685,-0.177990898489952,0.010591312311590,0.092136166989803,-0.046416584402323,-0.136922970414162));
res += mul(Get(s0,-dx,0), float4x4(0.017125515267253,-0.029629798606038,-0.002341049024835,0.048550963401794,0.052844882011414,-0.037038750946522,0.005440414417535,-0.010748255066574,0.005601925309747,-0.020601432770491,-0.039634756743908,-0.124886468052864,-0.028569290414453,0.198520734906197,-0.010821438394487,0.044084575027227));
res += mul(Get(s0,-dx,dy), float4x4(0.093198217451572,-0.045722261071205,-0.012300972826779,0.035022635012865,0.047613423317671,-0.054723318666220,-0.111607484519482,0.037178225815296,-0.057092048227787,0.039426587522030,-0.061613831669092,0.072060734033585,0.045208208262920,0.003077307716012,-0.006780660245568,-0.141410931944847));
res += mul(Get(s0,0,-dy), float4x4(0.186669930815697,-0.038372986018658,0.081743553280830,-0.051445931196213,0.020162906497717,0.023405561223626,0.167330414056778,-0.119443573057652,-0.100779071450233,-0.049279771745205,0.011488311924040,-0.094526231288910,-0.035686828196049,-0.040926985442638,0.032525565475225,-0.045556813478470));
res += mul(Get(s0,0,0), float4x4(0.020339328795671,0.015761626884341,-0.127693340182304,-0.045602869242430,0.064542375504971,-0.019840873777866,0.075847119092941,-0.041950821876526,0.098998472094536,-0.075495876371861,-0.060664761811495,0.088583312928677,0.009636892937124,0.138975113630295,0.070747099816799,0.040463358163834));
res += mul(Get(s0,0,dy), float4x4(0.010488728061318,-0.106886178255081,-0.080064512789249,-0.035884086042643,0.147420644760132,0.019583765417337,-0.009113117121160,-0.002174905966967,0.179582968354225,-0.105951823294163,0.003720012260601,0.320570826530457,0.139862582087517,-0.021311862394214,-0.013847841881216,0.031486362218857));
res += mul(Get(s0,dx,-dy), float4x4(-0.097907662391663,0.082543477416039,-0.139618426561356,-0.096514143049717,-0.099412627518177,-0.040362767875195,-0.003669543890283,-0.058932803571224,-0.211766213178635,-0.083506911993027,0.091340310871601,-0.205194592475891,-0.150462463498116,-0.069564059376717,-0.059376966208220,-0.060357026755810));
res += mul(Get(s0,dx,0), float4x4(-0.148590579628944,-0.054030768573284,-0.174201220273972,0.116918511688709,-0.130050987005234,-0.097732648253441,-0.082201987504959,0.035537220537663,-0.090228021144867,-0.074347302317619,0.178525373339653,-0.047010321170092,0.043075546622276,0.114432141184807,-0.063791714608669,0.025076467543840));
res += mul(Get(s0,dx,dy), float4x4(-0.051474742591381,0.069980233907700,-0.130424216389656,0.079207211732864,0.010054108686745,-0.025365676730871,-0.069657176733017,0.162878200411797,0.012291516177356,-0.029486056417227,0.095621861517429,-0.212921515107155,0.000617131940089,-0.087915778160095,-0.060249146074057,0.024873094633222));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023858787491918,0.017374759539962,0.006673682481050,0.044427178800106,-0.140563055872917,-0.125484526157379,0.147031843662262,-0.127073243260384,-0.122577607631683,-0.136563912034035,-0.032893035560846,-0.072195783257484,0.138354182243347,0.052011009305716,-0.001566628459841,0.057028129696846));
res += mul(Get(s1,-dx,0), float4x4(-0.086349077522755,-0.070099741220474,0.103504598140717,0.184504613280296,-0.036747612059116,0.037561859935522,0.031799059361219,0.105995222926140,0.127922877669334,0.100665524601936,-0.024075679481030,-0.075986906886101,0.058905910700560,-0.004132174886763,-0.008042107336223,-0.020015748217702));
res += mul(Get(s1,-dx,dy), float4x4(-0.074318349361420,-0.028055584058166,0.063333697617054,0.007832111790776,0.168623268604279,0.055760890245438,-0.114874750375748,-0.013038604520261,0.199188590049744,0.059927735477686,0.018476011231542,-0.086579702794552,0.256729960441589,-0.097188740968704,0.197005584836006,0.107829242944717));
res += mul(Get(s1,0,-dy), float4x4(0.026731077581644,-0.091886945068836,0.046256538480520,-0.008316388353705,-0.063565224409103,0.086623884737492,-0.056562535464764,-0.068084813654423,-0.119500406086445,-0.140250921249390,-0.137248560786247,-0.030324138700962,-0.190552249550819,0.098696462810040,-0.025910194963217,-0.161182194948196));
res += mul(Get(s1,0,0), float4x4(0.076966173946857,-0.054652854800224,0.036814715713263,0.115329235792160,-0.014767993241549,0.041565027087927,-0.013348620384932,0.157685384154320,0.014696613885462,-0.065028600394726,-0.092076465487480,-0.042855709791183,-0.004388919565827,0.012570490129292,-0.079393304884434,0.100699499249458));
res += mul(Get(s1,0,dy), float4x4(0.101454675197601,0.002983579179272,0.017338683828712,-0.093049228191376,0.025206664577127,0.118550196290016,-0.060511227697134,0.039299979805946,-0.005641349125654,0.064845182001591,-0.147012040019035,-0.023024789988995,0.153264403343201,-0.073628365993500,0.047503348439932,-0.039397034794092));
res += mul(Get(s1,dx,-dy), float4x4(0.088039912283421,-0.144529983401299,-0.174514472484589,-0.046527251601219,-0.064529582858086,-0.012457816861570,-0.055924847722054,-0.028349073603749,0.027279082685709,-0.051358517259359,-0.107826687395573,-0.154089108109474,-0.145197674632072,0.097777493298054,0.044439632445574,-0.119967184960842));
res += mul(Get(s1,dx,0), float4x4(0.081277035176754,-0.116690948605537,-0.190376341342926,0.055122189223766,-0.000981593970209,-0.088117614388466,0.028021598234773,0.104855567216873,-0.084280006587505,-0.150299951434135,-0.068941183388233,-0.071931421756744,-0.018507713451982,0.049977105110884,0.082214206457138,-0.087599448859692));
res += mul(Get(s1,dx,dy), float4x4(0.119371376931667,-0.126919478178024,-0.198587849736214,-0.016877889633179,-0.197773054242134,-0.035103172063828,0.138587266206741,0.003479121951386,-0.132978186011314,0.018496721982956,-0.186696738004684,-0.135743036866188,0.202669367194176,0.046723350882530,0.157760590314865,-0.168600708246231));
res += mul(Get(s2,-dx,-dy), float4x4(-0.133703202009201,-0.060357786715031,-0.018187334761024,0.025783885270357,-0.162420779466629,-0.080638706684113,0.027762189507484,0.053373850882053,0.349719673395157,-0.035975966602564,0.080463536083698,-0.074392788112164,-0.049913935363293,0.021872350946069,-0.056067079305649,0.106933526694775));
res += mul(Get(s2,-dx,0), float4x4(0.066451959311962,0.032841317355633,0.049312360584736,-0.010711951181293,0.021416034549475,-0.028969032689929,0.075966551899910,0.036224894225597,-0.033582098782063,-0.126367777585983,-0.054269712418318,-0.029459670186043,0.065807014703751,0.054054327309132,0.022780533879995,-0.155575230717659));
res += mul(Get(s2,-dx,dy), float4x4(0.007831121794879,-0.021347956731915,-0.158106282353401,-0.045833826065063,-0.023464705795050,0.041553121060133,0.039880245923996,-0.001339743379503,-0.055163215845823,-0.000960548466537,-0.052650745958090,0.111290968954563,-0.039071898907423,0.049737334251404,-0.081669658422470,0.043289449065924));
res += mul(Get(s2,0,-dy), float4x4(-0.034287329763174,0.049989353865385,-0.008060862310231,0.105834923684597,-0.106164224445820,0.152911931276321,-0.062803633511066,0.007820840924978,0.117496214807034,-0.040320836007595,-0.026846280321479,0.023667886853218,0.026862189173698,-0.047582387924194,0.000053464016673,-0.016086589545012));
res += mul(Get(s2,0,0), float4x4(0.073831640183926,0.256265938282013,0.213028669357300,-0.013035186566412,-0.029441511258483,0.065449707210064,0.004358701873571,0.040001183748245,-0.070728808641434,-0.033557705581188,0.073190912604332,0.017756739631295,0.041037123650312,0.058713730424643,-0.041968274861574,0.074817359447479));
res += mul(Get(s2,0,dy), float4x4(-0.068605780601501,0.104943685233593,0.125235557556152,0.019686646759510,0.219567224383354,0.164645820856094,0.001675213454291,0.092550292611122,-0.180405333638191,0.015575602650642,0.141069054603577,0.151560738682747,-0.031652446836233,-0.059870298951864,-0.084609992802143,0.173857539892197));
res += mul(Get(s2,dx,-dy), float4x4(-0.080410957336426,-0.029539907351136,0.084548562765121,-0.021053668111563,-0.033404763787985,-0.137227594852448,0.033435542136431,-0.221618875861168,0.007282516453415,0.144857570528984,-0.028966287150979,0.034166611731052,-0.015313885174692,0.009105201810598,-0.022175580263138,0.027452114969492));
res += mul(Get(s2,dx,0), float4x4(-0.029453929513693,0.064666859805584,0.007443257141858,-0.040907893329859,-0.085359334945679,0.000389560242184,-0.008599488995969,-0.098387449979782,-0.010138769634068,0.234281718730927,0.075832560658455,0.027878450229764,-0.001100981724449,0.018580691888928,-0.165829867124557,0.229190796613693));
res += mul(Get(s2,dx,dy), float4x4(0.066935218870640,0.114888913929462,-0.007820188067853,-0.027212180197239,-0.140523508191109,0.074418641626835,-0.000580301624723,-0.233109489083290,0.018754681572318,-0.115180358290672,0.236920446157455,-0.056911293417215,-0.181069657206535,0.037392184138298,0.006356794387102,-0.036891341209412));
res += mul(Get(s3,-dx,-dy), float4x4(-0.040934190154076,-0.015881998464465,-0.066859900951385,-0.073247916996479,0.146789520978928,-0.054692499339581,-0.064207330346107,0.061008609831333,-0.075660631060600,0.116185590624809,0.081079430878162,0.071847185492516,0.029304338619113,-0.128091558814049,-0.135907828807831,0.060699403285980));
res += mul(Get(s3,-dx,0), float4x4(-0.069326102733612,0.030843792483211,-0.094098649919033,0.009570657275617,0.142500102519989,0.035281915217638,0.025604518130422,-0.125010803341866,-0.051773712038994,-0.160353660583496,0.119241327047348,0.113318212330341,0.011878069490194,0.209302395582199,0.046839404851198,-0.004817488137633));
res += mul(Get(s3,-dx,dy), float4x4(-0.010287000797689,0.132201030850410,-0.073760047554970,0.016178708523512,0.103345200419426,-0.005845588166267,-0.041159842163324,0.066703602671623,-0.053752224892378,-0.074332445859909,0.024320421740413,0.056235056370497,-0.115967176854610,-0.029545385390520,0.007662013638765,0.222367540001869));
res += mul(Get(s3,0,-dy), float4x4(0.168050318956375,-0.059414289891720,0.014504357241094,-0.189835906028748,0.066598795354366,-0.125188618898392,-0.147664994001389,0.237296342849731,-0.128578364849091,0.120652534067631,-0.108132913708687,0.141141891479492,-0.002073213923723,-0.183259561657906,-0.004498465452343,0.030212333425879));
res += mul(Get(s3,0,0), float4x4(-0.010510174557567,-0.086127623915672,0.055815145373344,-0.104807265102863,0.066130794584751,0.010296266525984,-0.095001742243767,-0.082955747842789,-0.093730151653290,-0.032067704945803,-0.170299232006073,-0.036638475954533,-0.106252409517765,-0.017607422545552,0.032407622784376,-0.002533672843128));
res += mul(Get(s3,0,dy), float4x4(0.089693844318390,-0.002292594406754,0.114820964634418,-0.129917591810226,-0.046674974262714,0.100315511226654,-0.072651498019695,0.067451789975166,0.091981656849384,-0.120032630860806,-0.033086828887463,-0.079087376594543,0.053603138774633,-0.077023126184940,0.039403207600117,-0.058314502239227));
res += mul(Get(s3,dx,-dy), float4x4(0.091821931302547,0.043427705764771,0.032778695225716,-0.135463103652000,-0.049777977168560,-0.094498075544834,-0.036148581653833,0.044491082429886,0.003705353010446,-0.098054610192776,-0.119816549122334,0.002304281573743,0.097001105546951,0.031292717903852,-0.020867504179478,-0.002545493887737));
res += mul(Get(s3,dx,0), float4x4(-0.133185356855392,-0.000019198057998,-0.036645598709583,-0.132865309715271,0.145086675882339,-0.071637295186520,0.066154718399048,0.213851958513260,0.115648001432419,-0.013071074150503,-0.097051516175270,0.140394181013107,-0.099080257117748,0.047818083316088,-0.032187804579735,0.016869984567165));
res += mul(Get(s3,dx,dy), float4x4(0.139027312397957,0.107376240193844,0.050543740391731,-0.089153774082661,-0.096814393997192,-0.001803327933885,0.026467837393284,0.075970776379108,0.008896806277335,-0.193647578358650,-0.065994739532471,0.010775996372104,0.096726655960083,0.006690610665828,0.203440636396408,-0.048874996602535));
return max(float4(0,0,0,0), res);
}
