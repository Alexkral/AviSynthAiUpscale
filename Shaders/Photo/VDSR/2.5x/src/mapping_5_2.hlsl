sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.112376570701599,-0.012730722315609,0.085448667407036,0.055751331150532,0.097675673663616,-0.050945617258549,0.060686092823744,0.002006527967751,-0.022901104763150,0.026938159018755,0.032028306275606,-0.324110180139542,-0.036894787102938,0.111949011683464,-0.042661041021347,-0.221465483307838));
res += mul(Get(s0,-dx,0), float4x4(-0.058489508926868,-0.132288128137589,0.183453559875488,-0.052205592393875,0.139784976840019,0.048986736685038,-0.037165313959122,0.173898234963417,-0.073884613811970,-0.078101396560669,0.171883583068848,-0.064331136643887,-0.113091774284840,0.011019810102880,-0.059653870761395,-0.013461041264236));
res += mul(Get(s0,-dx,dy), float4x4(0.008638782426715,-0.050744414329529,0.072186760604382,-0.156763181090355,-0.004770050756633,0.073348768055439,-0.122178517282009,0.065612748265266,-0.089016482234001,0.034984581172466,-0.000125352293253,0.124826781451702,-0.061975911259651,0.182789981365204,-0.130165979266167,0.012246332131326));
res += mul(Get(s0,0,-dy), float4x4(-0.116766333580017,-0.055609736591578,0.119100205600262,0.013716304674745,0.114092446863651,-0.111375980079174,0.067999862134457,0.058162298053503,-0.067460656166077,-0.105916939675808,0.102791033685207,0.033643972128630,-0.107737123966217,-0.012823318131268,-0.042061001062393,0.078233912587166));
res += mul(Get(s0,0,0), float4x4(-0.040013611316681,-0.064605653285980,-0.135985642671585,0.145715877413750,0.151547014713287,-0.138462588191032,0.156015753746033,0.016426032409072,0.061535749584436,-0.007548116147518,-0.083601072430611,0.048672083765268,0.160397514700890,-0.026717932894826,0.042805776000023,-0.006771958898753));
res += mul(Get(s0,0,dy), float4x4(-0.167816460132599,-0.068839259445667,-0.096411757171154,-0.088302023708820,0.023729568347335,-0.197155609726906,0.056453056633472,-0.086100921034813,-0.242943793535233,0.030229337513447,-0.108533889055252,0.143246978521347,-0.054170195013285,-0.004122784826905,0.296866953372955,0.148609519004822));
res += mul(Get(s0,dx,-dy), float4x4(-0.060514777898788,-0.096822559833527,-0.120644226670265,0.037614271044731,-0.000944873550907,-0.042539909482002,-0.114239633083344,0.051419310271740,0.074623011052608,-0.122200913727283,-0.115212514996529,0.071837030351162,0.048349231481552,0.108509063720703,-0.025402558967471,0.056985795497894));
res += mul(Get(s0,dx,0), float4x4(0.010624869726598,-0.126152947545052,-0.167197942733765,0.155726641416550,0.106539942324162,0.053317945450544,-0.069212563335896,0.050184752792120,-0.020509578287601,-0.004906413145363,0.034724116325378,-0.081799507141113,0.067956984043121,-0.188943833112717,0.067374981939793,-0.020864501595497));
res += mul(Get(s0,dx,dy), float4x4(0.026021329686046,0.076912552118301,0.060374233871698,0.130714192986488,-0.007154564838856,0.179717257618904,0.084799639880657,0.121081262826920,0.020061213523149,0.111103601753712,-0.124532006680965,0.012140254490077,-0.080430172383785,0.001883363234811,-0.058151084929705,0.088947720825672));
res += mul(Get(s1,-dx,-dy), float4x4(-0.074555821716785,-0.074530489742756,0.040589481592178,-0.113657534122467,0.105565093457699,-0.002378537086770,0.117841884493828,0.035929888486862,0.017307898029685,-0.033849876374006,0.051937680691481,-0.101929292082787,-0.198765113949776,-0.046677283942699,-0.080159053206444,0.128758952021599));
res += mul(Get(s1,-dx,0), float4x4(-0.122516505420208,0.004543800838292,-0.039639141410589,-0.059506017714739,-0.041636068373919,0.015738062560558,-0.012537101283669,0.176381364464760,0.037734247744083,0.000541637942661,0.034620549529791,0.020517166703939,0.120713904500008,-0.066728956997395,0.156971558928490,0.174829691648483));
res += mul(Get(s1,-dx,dy), float4x4(-0.148004814982414,0.021114170551300,-0.082871399819851,-0.056401498615742,-0.060197889804840,-0.077198959887028,0.115357555449009,0.098068863153458,0.144684448838234,0.093469724059105,-0.134421706199646,-0.031972896307707,0.027860302478075,0.074449099600315,-0.049435082823038,0.154473647475243));
res += mul(Get(s1,0,-dy), float4x4(-0.085173308849335,-0.022139234468341,0.045631252229214,-0.045925594866276,0.113304316997528,0.045197937637568,-0.041877016425133,0.153391674160957,-0.049877334386110,0.047763295471668,-0.048889633268118,-0.021491359919310,-0.035743251442909,0.083828076720238,-0.211836636066437,0.009703675284982));
res += mul(Get(s1,0,0), float4x4(-0.052102752029896,0.014588229358196,-0.195114478468895,-0.108930110931396,0.030534464865923,-0.005467830225825,0.100472792983055,-0.015752965584397,-0.039506629109383,-0.129174992442131,-0.003679776098579,-0.127168476581573,-0.084486931562424,0.028872333467007,0.024467423558235,-0.018002161756158));
res += mul(Get(s1,0,dy), float4x4(0.001422961126082,0.155996084213257,-0.028785172849894,0.004078962374479,0.016959646716714,-0.027905112132430,-0.012792457826436,-0.033192131668329,0.012052702717483,0.138573214411736,-0.059195395559072,0.151539415121078,-0.141365155577660,0.079071544110775,0.083602868020535,0.132878720760345));
res += mul(Get(s1,dx,-dy), float4x4(-0.033109322190285,0.058949504047632,0.054622210562229,-0.040733557194471,-0.043526798486710,-0.121918417513371,0.099887870252132,-0.000991819077171,0.030438277870417,0.035867564380169,-0.048062197864056,-0.067516483366489,-0.170938119292259,-0.002713961061090,-0.201439782977104,0.021458817645907));
res += mul(Get(s1,dx,0), float4x4(-0.004473397508264,0.077669404447079,-0.207013681530952,-0.050211615860462,-0.032380361109972,0.091261588037014,-0.129380628466606,-0.144800111651421,0.018861880525947,-0.070571690797806,0.044159010052681,-0.086884349584579,-0.034882765263319,0.166037455201149,0.190150901675224,0.003446514252573));
res += mul(Get(s1,dx,dy), float4x4(-0.052300311625004,-0.117747098207474,-0.084408558905125,0.210043400526047,-0.093814142048359,-0.123007833957672,-0.130713045597076,0.197551563382149,0.016016101464629,-0.075020097196102,0.009842104278505,0.141387477517128,0.060618340969086,0.116186395287514,-0.041283831000328,-0.065252348780632));
res += mul(Get(s2,-dx,-dy), float4x4(-0.185230717062950,-0.224278107285500,0.005117274820805,0.003424574155360,0.104453459382057,0.046898066997528,-0.005712722893804,0.088746622204781,0.190388441085815,0.090237423777580,0.262667804956436,-0.017468007281423,0.180697232484818,0.078035138547421,-0.068007387220860,-0.004400304518640));
res += mul(Get(s2,-dx,0), float4x4(-0.160094454884529,-0.011330258101225,0.051257628947496,0.146299064159393,0.049131393432617,0.172943398356438,-0.206101998686790,0.027078201994300,-0.009306207299232,0.027864523231983,0.035183873027563,-0.103126645088196,0.063135489821434,-0.067560084164143,-0.040342003107071,-0.204380497336388));
res += mul(Get(s2,-dx,dy), float4x4(0.057131420820951,-0.041235651820898,0.004622315056622,-0.102871373295784,0.115895777940750,-0.039320234209299,-0.131793200969696,0.006524422671646,-0.017541740089655,-0.126670464873314,-0.028269959613681,0.072198100388050,-0.060743305832148,0.237409457564354,-0.139462515711784,0.111083380877972));
res += mul(Get(s2,0,-dy), float4x4(-0.187737256288528,-0.037510003894567,0.140407085418701,-0.102705381810665,-0.016395960003138,0.024442305788398,0.044085368514061,-0.130763843655586,0.030781347304583,0.088067024946213,0.063994646072388,0.141984418034554,-0.029043955728412,0.037871241569519,0.004424711689353,0.082124851644039));
res += mul(Get(s2,0,0), float4x4(-0.010951161384583,0.044144798070192,0.132822096347809,0.113083422183990,-0.273271918296814,0.113449260592461,-0.111563064157963,0.133267357945442,0.217542007565498,0.128701373934746,0.126071870326996,0.156221091747284,-0.165600791573524,-0.192364916205406,0.081225126981735,-0.087141707539558));
res += mul(Get(s2,0,dy), float4x4(0.042617529630661,-0.080035760998726,0.044570583850145,0.061995677649975,0.083032883703709,-0.125095620751381,-0.075515486299992,0.179777175188065,-0.157042473554611,0.022874493151903,0.089089035987854,0.088762037456036,-0.024292420595884,-0.092613108456135,-0.082789547741413,-0.017799757421017));
res += mul(Get(s2,dx,-dy), float4x4(-0.009022717364132,-0.044305741786957,0.027214173227549,0.051528628915548,-0.079029157757759,0.006222360767424,0.123983055353165,0.090871423482895,0.208300262689590,0.105913132429123,0.086341351270676,0.009288578294218,0.015457358211279,-0.017287725582719,0.087879672646523,0.025544181466103));
res += mul(Get(s2,dx,0), float4x4(-0.075610361993313,-0.017123827710748,-0.134687960147858,-0.102001436054707,0.061717696487904,0.025395061820745,0.088371582329273,-0.003520927159116,0.101252466440201,0.024776378646493,-0.106622338294983,-0.028531657531857,0.169328913092613,-0.018350997939706,0.087535098195076,0.009706034325063));
res += mul(Get(s2,dx,dy), float4x4(0.020078293979168,-0.057235848158598,-0.043776523321867,-0.053129311650991,-0.091158136725426,0.034244447946548,0.015446308068931,-0.042732726782560,-0.086085267364979,0.014253117144108,-0.067899636924267,0.073949202895164,0.030463673174381,0.025845855474472,0.089051127433777,0.000527046329807));
res += mul(Get(s3,-dx,-dy), float4x4(0.120633654296398,-0.133760511875153,0.036657631397247,-0.023766424506903,0.158612981438637,0.130187317728996,0.024050103500485,-0.081839136779308,-0.100354783236980,0.121855296194553,-0.072862565517426,-0.157442301511765,-0.086840003728867,0.053128503262997,-0.096767753362656,-0.062732078135014));
res += mul(Get(s3,-dx,0), float4x4(-0.072903558611870,0.062354553490877,0.078040882945061,0.118127405643463,0.134899094700813,0.024917842820287,0.096860602498055,0.005797781515867,-0.032400641590357,0.130490899085999,-0.095103032886982,-0.092101544141769,-0.196158513426781,0.235229700803757,0.071433953940868,0.039728958159685));
res += mul(Get(s3,-dx,dy), float4x4(0.037311956286430,0.128554120659828,0.149460703134537,0.065706387162209,-0.071412645280361,0.127887010574341,0.040908120572567,-0.124422587454319,-0.081133328378201,0.091625958681107,-0.125031486153603,-0.032126761972904,-0.021313332021236,-0.018487608060241,0.046799030154943,0.082122296094894));
res += mul(Get(s3,0,-dy), float4x4(-0.032987751066685,0.142231032252312,0.022369334474206,-0.052930712699890,0.033446289598942,-0.132198363542557,-0.076009199023247,-0.018307996913791,-0.038398638367653,-0.127645596861839,0.133254677057266,-0.074770674109459,-0.119991101324558,0.004571373574436,-0.007637488190085,-0.206780672073364));
res += mul(Get(s3,0,0), float4x4(0.013745302334428,-0.156275749206543,0.030792657285929,0.019478667527437,0.166238158941269,0.079126603901386,-0.048024319112301,-0.186879664659500,0.091620042920113,-0.212497398257256,-0.076752640306950,-0.033080596476793,-0.145112365484238,0.263764083385468,-0.120137430727482,-0.012131082825363));
res += mul(Get(s3,0,dy), float4x4(0.009839007630944,0.108515277504921,-0.167033076286316,0.036987204104662,-0.014088144525886,0.110932916402817,-0.103100486099720,-0.048571776598692,-0.074028342962265,0.006619966123253,-0.022821452468634,-0.039196349680424,0.005017025396228,-0.100574471056461,-0.057941306382418,0.225413084030151));
res += mul(Get(s3,dx,-dy), float4x4(0.123482249677181,-0.075639173388481,0.119966998696327,0.046048462390900,0.014178909361362,-0.127528622746468,0.045964088290930,-0.059192340821028,0.124189712107182,-0.122267186641693,-0.039722763001919,-0.093180194497108,-0.032153263688087,0.028749693185091,-0.033915784209967,0.009404797106981));
res += mul(Get(s3,dx,0), float4x4(0.115355744957924,-0.067294031381607,0.105574980378151,-0.042044483125210,0.156590387225151,0.023261541500688,-0.119966544210911,-0.009662457741797,-0.008444340899587,-0.172217816114426,-0.159898713231087,0.106140993535519,0.005602439865470,-0.023973526433110,0.017792789265513,0.056440223008394));
res += mul(Get(s3,dx,dy), float4x4(0.028572382405400,0.027931503951550,-0.008204331621528,-0.005267535801977,0.089648485183716,0.307952523231506,0.032645199447870,0.045293912291527,0.006034084130079,-0.029049230739474,-0.067813001573086,0.074422352015972,0.041296277195215,0.141423150897026,0.106395967304707,0.170496493577957));
return max(float4(0,0,0,0), res);
}
