sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.159379661083221,0.117476224899292,0.153947368264198,0.131396576762199,-0.060509696602821,0.003352582920343,0.054427262395620,-0.026267854496837,0.022414781153202,0.016964226961136,-0.122128814458847,-0.010878442786634,-0.035004552453756,-0.198146790266037,0.095624864101410,0.081711418926716));
res += mul(Get(s0,-dx,0), float4x4(0.017354458570480,-0.134857743978500,0.081143021583557,0.200640678405762,0.271426230669022,-0.017101984471083,0.027727337554097,0.209263354539871,-0.010544075630605,-0.061212141066790,-0.028373884037137,-0.099481619894505,-0.127344563603401,0.119033195078373,-0.037175092846155,-0.130275040864944));
res += mul(Get(s0,-dx,dy), float4x4(-0.129854917526245,-0.082709282636642,-0.088358007371426,-0.025739518925548,-0.055959802120924,0.065506391227245,-0.070636197924614,0.122467003762722,-0.206345230340958,0.101458095014095,-0.092504195868969,-0.076615795493126,0.130012452602386,-0.043377880007029,0.165504798293114,-0.033711310476065));
res += mul(Get(s0,0,-dy), float4x4(-0.025973564013839,-0.069696240127087,0.071102447807789,0.017277054488659,-0.033876545727253,-0.059949200600386,-0.192605957388878,-0.133053958415985,0.110279060900211,-0.095937080681324,-0.069058209657669,0.176007255911827,-0.006155145354569,0.000780955131631,0.050433721393347,0.097170330584049));
res += mul(Get(s0,0,0), float4x4(0.078770741820335,-0.045134384185076,0.038580227643251,0.176389575004578,0.316500306129456,0.004634032491595,0.025877220556140,0.110015332698822,0.047170504927635,-0.114922940731049,-0.150302231311798,-0.009946412406862,0.023805787786841,-0.054525174200535,-0.120793730020523,-0.134546458721161));
res += mul(Get(s0,0,dy), float4x4(0.108474887907505,-0.017530407756567,0.048488840460777,0.102967485785484,0.089584104716778,-0.007099717389792,-0.036393653601408,-0.081494450569153,-0.046716377139091,-0.070000030100346,-0.196920424699783,-0.193244576454163,-0.072239704430103,0.037107177078724,-0.153103768825531,0.006868164520711));
res += mul(Get(s0,dx,-dy), float4x4(0.115485966205597,-0.021932596340775,-0.079717807471752,-0.014367815107107,0.099339529871941,-0.196548819541931,-0.038481879979372,0.042692024260759,0.181464195251465,-0.044702142477036,-0.100746251642704,-0.123490408062935,0.093086011707783,-0.029557632282376,-0.370623558759689,0.079338878393173));
res += mul(Get(s0,dx,0), float4x4(-0.180931955575943,-0.011893759481609,-0.143691360950470,-0.141701668500900,0.085680767893791,0.015052924863994,-0.083025664091110,0.016164662316442,0.146132051944733,0.046228926628828,-0.165084034204483,0.055769249796867,0.002286357106641,-0.077948741614819,-0.174662321805954,-0.109445303678513));
res += mul(Get(s0,dx,dy), float4x4(0.187197372317314,0.013316295109689,-0.021743776276708,-0.076901003718376,0.179644584655762,-0.083781063556671,0.119481332600117,0.148650914430618,-0.120520614087582,-0.031941153109074,0.177730545401573,-0.021859504282475,0.049903701990843,-0.057267300784588,-0.212700396776199,-0.074742183089256));
res += mul(Get(s1,-dx,-dy), float4x4(0.123242363333702,0.251337945461273,0.194850593805313,0.140620946884155,0.028790781274438,-0.096320942044258,-0.038378383964300,-0.136047914624214,-0.005461622960865,0.132755413651466,0.053158599883318,0.059763617813587,0.071650549769402,0.033004093915224,0.084944106638432,-0.051712617278099));
res += mul(Get(s1,-dx,0), float4x4(0.000149494851939,-0.016894103959203,-0.056705288589001,0.135226637125015,-0.054717633873224,0.088231526315212,0.027850024402142,0.006428062450141,0.113766074180603,0.115080296993256,0.023017106577754,0.044515296816826,-0.091183722019196,-0.178512886166573,-0.033350724726915,-0.078866779804230));
res += mul(Get(s1,-dx,dy), float4x4(-0.205925375223160,-0.045802030712366,0.117342256009579,-0.121844246983528,0.139626950025558,0.073806621134281,-0.140242233872414,0.064694926142693,-0.085401847958565,0.009948003105819,0.104126833379269,-0.088045261800289,-0.026569141075015,0.128786981105804,0.079603053629398,0.028571479022503));
res += mul(Get(s1,0,-dy), float4x4(0.103220947086811,-0.064548447728157,-0.177647516131401,0.021865569055080,-0.043483439832926,-0.030594985932112,-0.098766990005970,0.062241341918707,-0.075518332421780,-0.001232374343090,0.105485796928406,0.025608155876398,-0.159961551427841,-0.015627369284630,-0.071959324181080,0.054434977471828));
res += mul(Get(s1,0,0), float4x4(0.109897918999195,0.038432024419308,-0.047723907977343,0.008592302910984,-0.092986926436424,-0.120269767940044,0.119948767125607,-0.034500230103731,-0.045953247696161,-0.064500972628593,0.086102344095707,-0.048361815512180,-0.065189145505428,0.035818658769131,-0.032349817454815,-0.025764312595129));
res += mul(Get(s1,0,dy), float4x4(0.104186363518238,-0.034867294132710,-0.038213722407818,-0.103448949754238,0.102160573005676,0.177425041794777,0.041934765875340,0.064369395375252,0.116981528699398,-0.069203779101372,0.171387761831284,-0.066108427941799,0.003790168557316,0.115039698779583,0.031041055917740,0.170237049460411));
res += mul(Get(s1,dx,-dy), float4x4(0.042860887944698,0.065067149698734,-0.003303706413135,0.120005950331688,0.121867530047894,0.137578800320625,0.121933534741402,-0.042495470494032,-0.081309109926224,-0.142106413841248,0.035890828818083,0.055645603686571,-0.085271589457989,0.077775888144970,0.006868162192404,0.096909046173096));
res += mul(Get(s1,dx,0), float4x4(0.101567126810551,0.026308314874768,-0.029397336766124,-0.017460258677602,-0.035800527781248,0.111009143292904,-0.059636823832989,-0.079042054712772,-0.014389333315194,0.173943385481834,0.050345871597528,-0.031293272972107,-0.232929259538651,0.155943214893341,-0.258840680122375,0.117696017026901));
res += mul(Get(s1,dx,dy), float4x4(0.123444020748138,-0.018456026911736,-0.186130478978157,0.078990444540977,0.148649737238884,-0.014046004973352,-0.211181133985519,0.061655472964048,-0.017967380583286,0.065557770431042,0.116943776607513,0.078496038913727,-0.022004803642631,-0.159927666187286,0.147380426526070,0.124709457159042));
res += mul(Get(s2,-dx,-dy), float4x4(-0.107351258397102,-0.256278485059738,0.163896203041077,0.065347410738468,0.206686556339264,0.016121659427881,-0.006704236380756,-0.016911065205932,0.016627507284284,0.017187364399433,-0.035417120903730,0.077754482626915,0.093497663736343,0.018425919115543,0.049981988966465,0.049034226685762));
res += mul(Get(s2,-dx,0), float4x4(-0.044798478484154,-0.086596958339214,0.149712771177292,-0.333813130855560,-0.134923100471497,0.046539016067982,0.009046971797943,0.051708683371544,-0.010663070715964,0.178654506802559,-0.133074373006821,-0.068659849464893,-0.037182815372944,-0.035709992051125,-0.000810434110463,-0.028327392414212));
res += mul(Get(s2,-dx,dy), float4x4(-0.038775857537985,0.023300493136048,0.048837184906006,0.071283377707005,-0.127399161458015,-0.090300597250462,-0.012636666186154,-0.095468677580357,0.033358667045832,-0.079443491995335,-0.070341832935810,-0.138372421264648,0.124591879546642,0.032295148819685,0.168576821684837,-0.029583245515823));
res += mul(Get(s2,0,-dy), float4x4(0.014633041806519,-0.112874299287796,-0.088167928159237,-0.046855222433805,-0.013919297605753,-0.059107564389706,-0.212466374039650,0.148948386311531,0.051166765391827,-0.026306763291359,0.147118940949440,0.060868170112371,0.102021344006062,-0.117271132767200,0.016934284940362,0.039376810193062));
res += mul(Get(s2,0,0), float4x4(0.051980987191200,-0.055164482444525,-0.202633798122406,0.138856947422028,-0.220053434371948,-0.101369529962540,0.061612118035555,0.095340900123119,0.061846561729908,0.149731680750847,-0.083730041980743,0.098782315850258,0.056254740804434,0.044373419135809,0.086381509900093,0.054049771279097));
res += mul(Get(s2,0,dy), float4x4(0.017099246382713,-0.042005512863398,0.024879669770598,-0.078019194304943,-0.052836239337921,-0.152358517050743,0.039465632289648,-0.039392545819283,-0.134680062532425,0.095480933785439,-0.038545019924641,-0.093992955982685,-0.049623589962721,-0.139617711305618,-0.079719416797161,-0.094881318509579));
res += mul(Get(s2,dx,-dy), float4x4(0.037861157208681,0.071438096463680,-0.034596569836140,-0.027595516294241,-0.236464425921440,0.051308151334524,0.052383698523045,-0.211589932441711,0.130841776728630,-0.247917026281357,0.095430918037891,0.026211915537715,0.007015507202595,-0.019047576934099,-0.117922432720661,0.058074723929167));
res += mul(Get(s2,dx,0), float4x4(-0.039671063423157,-0.065109454095364,0.030889546498656,-0.074054621160030,-0.094307348132133,-0.009517013095319,-0.053349878638983,-0.002405278384686,-0.006016385275871,0.092558622360229,-0.147640362381935,-0.052694749087095,0.189970195293427,0.066564217209816,0.054880212992430,-0.075093895196915));
res += mul(Get(s2,dx,dy), float4x4(0.014859550632536,-0.044491074979305,-0.032720170915127,-0.050210341811180,-0.133282139897346,0.057332243770361,0.080651156604290,0.036270424723625,0.125774025917053,0.148581594228745,-0.033901028335094,-0.056442499160767,-0.040220670402050,0.047096345573664,-0.172322288155556,0.123389825224876));
res += mul(Get(s3,-dx,-dy), float4x4(-0.015997765585780,-0.245794683694839,0.083060011267662,0.029289949685335,0.059381060302258,0.083013400435448,0.112193346023560,0.023404285311699,0.118397347629070,0.105375930666924,0.013344984501600,-0.015227917581797,-0.166611358523369,-0.070901930332184,0.084222473204136,-0.082041628658772));
res += mul(Get(s3,-dx,0), float4x4(0.032758925110102,-0.022400101646781,0.071840919554234,0.038424536585808,0.051506310701370,-0.004362801555544,-0.003991492092609,0.041597742587328,0.053136866539717,-0.244588956236839,0.109653234481812,-0.161249995231628,-0.102591060101986,-0.010147902183235,0.208522588014603,0.121635489165783));
res += mul(Get(s3,-dx,dy), float4x4(-0.014117360115051,-0.067954413592815,0.029680345207453,0.139089196920395,0.080392986536026,-0.063982866704464,0.020939053967595,-0.195723786950111,0.027986831963062,-0.038822051137686,-0.088619396090508,-0.132159814238548,-0.181168183684349,0.037935465574265,0.082448497414589,-0.056562032550573));
res += mul(Get(s3,0,-dy), float4x4(0.128816619515419,-0.048553768545389,0.084808424115181,-0.024782402440906,0.059823516756296,-0.032116707414389,0.123710788786411,0.073421873152256,0.128388971090317,0.013821266591549,-0.066753380000591,-0.072759956121445,-0.070925183594227,0.052275925874710,-0.167329266667366,0.029555406421423));
res += mul(Get(s3,0,0), float4x4(0.019442010670900,-0.025978179648519,-0.104334466159344,0.082459919154644,-0.047753177583218,0.066470324993134,0.096044749021530,0.060113981366158,0.068751588463783,0.104435309767723,0.033354178071022,0.030857181176543,-0.106406107544899,0.021377041935921,0.043428398668766,0.032365869730711));
res += mul(Get(s3,0,dy), float4x4(-0.232198610901833,-0.076529137790203,-0.231768831610680,-0.120706878602505,-0.070769101381302,0.069592744112015,0.069451093673706,-0.048213455826044,-0.082196094095707,-0.021233063191175,0.045695852488279,-0.148316770792007,0.181292459368706,0.070567160844803,0.111789815127850,0.031052820384502));
res += mul(Get(s3,dx,-dy), float4x4(0.202977225184441,-0.040853317826986,0.083783470094204,-0.225746661424637,-0.155835792422295,0.070211790502071,-0.086356349289417,0.083883725106716,-0.154403179883957,-0.013667625375092,-0.013744591735303,-0.059607915580273,-0.063959211111069,-0.130141392350197,0.056756731122732,-0.030152007937431));
res += mul(Get(s3,dx,0), float4x4(0.044144798070192,-0.065678410232067,-0.017378784716129,0.038630343973637,-0.089480727910995,0.063097320497036,-0.015817882493138,-0.120661385357380,0.011234685778618,0.046823374927044,-0.171930387616158,0.010189448483288,-0.094297759234905,-0.019397299736738,-0.097761213779449,-0.048888206481934));
res += mul(Get(s3,dx,dy), float4x4(-0.082941070199013,-0.048399686813354,0.012984590604901,-0.095072045922279,-0.057592011988163,-0.043489996343851,-0.051573462784290,0.142641395330429,0.099452555179596,0.161022439599037,-0.020116187632084,-0.111825890839100,0.078278318047523,-0.053034178912640,-0.052118360996246,-0.100641764700413));
return max(float4(0,0,0,0), res);
}
