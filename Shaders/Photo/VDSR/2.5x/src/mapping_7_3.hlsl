sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016203612089157,0.017544440925121,-0.012621027417481,-0.071591712534428,0.026742547750473,0.032228868454695,0.080281615257263,-0.070492267608643,0.031737569719553,-0.080777071416378,-0.160862743854523,-0.055250816047192,-0.071339800953865,-0.191838294267654,-0.093957200646400,0.048210062086582));
res += mul(Get(s0,-dx,0), float4x4(0.013200510293245,-0.073792345821857,0.061071202158928,-0.078000590205193,0.034051876515150,-0.001264099613763,0.017219049856067,0.031533788889647,0.025703778490424,0.063771650195122,-0.104368224740028,0.060409057885408,-0.049114588648081,-0.040341977030039,-0.133978202939034,-0.081353537738323));
res += mul(Get(s0,-dx,dy), float4x4(-0.116382651031017,-0.008354459889233,0.062223047018051,0.000022521178835,0.003051340579987,0.022451812401414,0.086822196841240,0.133645519614220,0.246992081403732,0.137086376547813,-0.039933502674103,0.078302763402462,-0.045201666653156,-0.133127570152283,0.048785135149956,0.127682417631149));
res += mul(Get(s0,0,-dy), float4x4(-0.005403068382293,-0.016390629112720,-0.122647978365421,-0.060894396156073,0.037881508469582,-0.064050868153572,0.091405279934406,-0.166081190109253,-0.096889741718769,-0.080299146473408,-0.072877652943134,-0.068374283611774,0.026600856333971,0.047837167978287,-0.114777334034443,-0.056511659175158));
res += mul(Get(s0,0,0), float4x4(0.004576558247209,0.089319445192814,0.018619220703840,0.184870943427086,0.104747690260410,0.032085075974464,0.116415448486805,-0.023172093555331,0.049562614411116,0.032894074916840,-0.166745901107788,0.005196718033403,0.052275326102972,0.046975810080767,-0.081779778003693,-0.026883499696851));
res += mul(Get(s0,0,dy), float4x4(-0.030136033892632,-0.062658011913300,0.097856715321541,0.006101682782173,0.004627781454474,-0.111139029264450,0.098471716046333,0.104386009275913,0.041707642376423,-0.137823894619942,0.016670757904649,-0.013627167791128,0.014827334322035,0.138878479599953,0.083341106772423,0.068488538265228));
res += mul(Get(s0,dx,-dy), float4x4(-0.181335359811783,-0.127041190862656,-0.139491125941277,-0.019134512171149,-0.080167204141617,-0.023120760917664,-0.057533264160156,-0.071661077439785,0.139244362711906,0.056397650390863,-0.129220202565193,0.056225262582302,-0.034442368894815,-0.078539274632931,-0.216755181550980,0.074649356305599));
res += mul(Get(s0,dx,0), float4x4(-0.055952250957489,0.128672406077385,0.011084619909525,0.025544162839651,0.016438510268927,0.058246426284313,0.043850336223841,-0.002802986651659,0.136959239840508,0.153924435377121,-0.129564836621284,0.034148540347815,0.031388580799103,0.095566265285015,-0.133710592985153,-0.016642298549414));
res += mul(Get(s0,dx,dy), float4x4(-0.083777613937855,-0.038978159427643,0.118651650846004,-0.069606132805347,0.006482794415206,0.013724556192756,-0.038574483245611,0.043723240494728,-0.087577357888222,0.114896386861801,0.105578929185867,0.012289223261178,-0.008608498610556,0.151474475860596,0.038059514015913,-0.014054557308555));
res += mul(Get(s1,-dx,-dy), float4x4(0.011613477952778,-0.130230084061623,-0.007553326431662,0.324447840452194,-0.007044359110296,0.019203037023544,0.019086331129074,-0.043357353657484,-0.024176590144634,-0.079022541642189,-0.046091374009848,-0.077585108578205,0.080682881176472,0.039790507405996,-0.122740469872952,-0.092180512845516));
res += mul(Get(s1,-dx,0), float4x4(0.006660947110504,-0.013562721200287,-0.050129435956478,-0.001769801718183,0.053901817649603,0.035092409700155,0.056675784289837,-0.014614582993090,0.107344426214695,-0.019318979233503,0.141768231987953,0.241651445627213,-0.056728877127171,-0.147722303867340,-0.084087379276752,-0.050956115126610));
res += mul(Get(s1,-dx,dy), float4x4(-0.009303282946348,-0.029555551707745,-0.021933872252703,0.054823055863380,0.101812288165092,-0.113181620836258,0.087445586919785,0.064691662788391,0.108002096414566,-0.068218097090721,-0.044779852032661,0.005960695911199,-0.085327021777630,0.083706371486187,-0.054730445146561,0.090096883475780));
res += mul(Get(s1,0,-dy), float4x4(-0.022455092519522,-0.064831912517548,-0.158649861812592,-0.019433185458183,-0.040293138474226,0.005015001166612,0.018228176981211,-0.010726294480264,-0.044987641274929,0.066783942282200,-0.017486007884145,0.004538066685200,-0.086015038192272,0.038525480777025,0.103194192051888,-0.013851559720933));
res += mul(Get(s1,0,0), float4x4(-0.002735538175330,0.119713321328163,0.038696251809597,-0.081002406775951,0.025011876598001,0.180741548538208,0.142663359642029,0.004976882599294,0.008511095307767,0.153289556503296,0.011300886049867,0.015871830284595,0.019520133733749,-0.047964718192816,0.087892808020115,-0.072504997253418));
res += mul(Get(s1,0,dy), float4x4(0.026023495942354,0.044480305165052,0.109210990369320,-0.063801877200603,-0.087605535984039,-0.012062442488968,0.029602253809571,-0.045005455613136,0.008565851487219,-0.025111820548773,0.018067581579089,-0.014864455908537,-0.080935709178448,0.009809905663133,0.073281913995743,0.041685093194246));
res += mul(Get(s1,dx,-dy), float4x4(-0.067148543894291,-0.042552635073662,-0.128232032060623,0.043777987360954,-0.032075546681881,0.037762492895126,-0.034995827823877,-0.056033503264189,0.002834301907569,0.121270172297955,-0.071592107415199,-0.003081515897065,-0.040017083287239,0.101942740380764,-0.143766745924950,0.066179029643536));
res += mul(Get(s1,dx,0), float4x4(-0.068843714892864,0.130798995494843,0.013073937967420,0.007120024412870,0.094329960644245,0.016953555867076,0.141762018203735,-0.062334019690752,-0.015345357358456,0.084316954016685,0.176941692829132,0.119983673095703,-0.115937627851963,-0.011615535244346,-0.029299903661013,-0.051450669765472));
res += mul(Get(s1,dx,dy), float4x4(-0.124394051730633,-0.070740140974522,0.135729581117630,0.010610164143145,-0.028796141967177,-0.152465954422951,0.013151647523046,-0.020716952160001,-0.028149731457233,-0.010745301842690,0.063035130500793,-0.039833296090364,-0.005859143566340,-0.140842869877815,0.040850672870874,0.060927316546440));
res += mul(Get(s2,-dx,-dy), float4x4(0.033359266817570,-0.106026016175747,0.055389992892742,-0.191609352827072,0.036076515913010,-0.128579303622246,-0.115376800298691,0.011356617324054,0.031921226531267,-0.123426936566830,-0.089935339987278,0.186359614133835,0.069951191544533,-0.031111188232899,0.004086398985237,-0.024679008871317));
res += mul(Get(s2,-dx,0), float4x4(0.131500452756882,-0.240429252386093,-0.056595273315907,-0.143982887268066,-0.014936061576009,-0.051224611699581,0.029083337634802,-0.037131644785404,-0.028856597840786,-0.072585001587868,0.085253395140171,-0.072537153959274,-0.009335788898170,0.077544175088406,0.012538987211883,0.063285909593105));
res += mul(Get(s2,-dx,dy), float4x4(-0.023533707484603,0.018231946974993,-0.034458372741938,-0.125779688358307,-0.034228168427944,-0.109682671725750,-0.032255366444588,0.055097050964832,-0.061372857540846,-0.100269310176373,0.178620904684067,0.003025300567970,0.103740192949772,-0.020787496119738,0.039947457611561,0.029924942180514));
res += mul(Get(s2,0,-dy), float4x4(0.000060284615756,-0.089492753148079,0.050210218876600,-0.175217062234879,-0.090605892241001,-0.121641948819160,-0.021950734779239,-0.061549916863441,0.006251526065171,-0.028270155191422,-0.060301754623652,0.090499348938465,-0.001747832982801,-0.021365253254771,0.119697786867619,-0.033656988292933));
res += mul(Get(s2,0,0), float4x4(0.090801388025284,-0.050350382924080,-0.090442106127739,-0.057301018387079,-0.018888277933002,-0.101173490285873,0.191004589200020,0.087283320724964,0.001664977171458,0.026733342558146,-0.076883003115654,0.025170721113682,-0.059004671871662,0.130943745374680,0.022977977991104,0.081636659801006));
res += mul(Get(s2,0,dy), float4x4(-0.008637474849820,0.055306199938059,-0.095868602395058,-0.109207980334759,-0.028467651456594,-0.112251944839954,0.148028105497360,0.092387743294239,-0.068613536655903,0.092980645596981,0.006915347650647,0.037138726562262,-0.067302681505680,-0.148918390274048,-0.047704566270113,-0.009798199869692));
res += mul(Get(s2,dx,-dy), float4x4(0.022477759048343,0.006747912615538,0.008191837929189,-0.185917541384697,-0.206135064363480,-0.065603084862232,-0.090167053043842,0.039811354130507,0.064396314322948,-0.046334788203239,-0.062824428081512,-0.154992416501045,0.191074743866920,0.194441780447960,0.135010853409767,-0.021892113611102));
res += mul(Get(s2,dx,0), float4x4(-0.110356003046036,0.087994143366814,-0.037475120276213,0.018876459449530,-0.131587371230125,-0.090249918401241,-0.027018476277590,0.032355066388845,0.054930787533522,0.056186638772488,-0.141604006290436,-0.069360248744488,0.300704032182693,-0.020563596859574,-0.048022978007793,0.006475332658738));
res += mul(Get(s2,dx,dy), float4x4(-0.013897984288633,-0.013807537034154,-0.009767101146281,0.027816256508231,-0.155682444572449,-0.006293499842286,0.044647570699453,0.089298643171787,0.060131169855595,0.085660330951214,-0.077891275286674,-0.009757783263922,0.125060275197029,-0.060715343803167,-0.069318674504757,0.020576700568199));
res += mul(Get(s3,-dx,-dy), float4x4(-0.012235308997333,-0.013829586096108,-0.052792761474848,-0.022583656013012,0.068813093006611,-0.128452807664871,0.071396775543690,0.010359114967287,0.003686608048156,-0.135330528020859,0.010662211105227,0.087722651660442,0.098396047949791,-0.086750537157059,-0.149693548679352,-0.077356450259686));
res += mul(Get(s3,-dx,0), float4x4(-0.137702599167824,0.011982461437583,-0.000837123254314,-0.071603171527386,0.007079354487360,0.106060773134232,-0.021658152341843,-0.040762782096863,0.008932796306908,0.065573275089264,-0.046448484063148,0.151036798954010,0.004139152355492,-0.073177121579647,0.019201442599297,0.015439181588590));
res += mul(Get(s3,-dx,dy), float4x4(-0.140699490904808,-0.092056766152382,0.072284825146198,-0.043609175831079,-0.000031646282878,-0.094450891017914,-0.058034691959620,0.078566722571850,0.071570478379726,0.058857578784227,0.042717166244984,-0.053417328745127,-0.042754642665386,0.085159480571747,-0.054947569966316,-0.075430586934090));
res += mul(Get(s3,0,-dy), float4x4(-0.008734523318708,0.145334497094154,0.113453447818756,0.027513753622770,0.055081527680159,-0.076253212988377,0.227257832884789,-0.024325076490641,-0.151040405035019,0.009460861794651,0.044585607945919,0.021269675344229,-0.023019971325994,-0.119392938911915,-0.120468795299530,0.025796713307500));
res += mul(Get(s3,0,0), float4x4(-0.060726933181286,-0.073550790548325,-0.017026163637638,-0.043244421482086,-0.071088187396526,0.048480451107025,0.246777296066284,-0.072439089417458,-0.082591645419598,0.002027973765507,-0.053945798426867,0.001256501185708,0.078723944723606,-0.037510659545660,-0.072813265025616,0.025622753426433));
res += mul(Get(s3,0,dy), float4x4(-0.150587826967239,-0.021889170631766,-0.016081439331174,0.026975452899933,-0.061400812119246,-0.152135252952576,0.056434568017721,-0.056072790175676,-0.168006747961044,0.072362497448921,0.043927337974310,0.072808496654034,0.140356212854385,0.088398970663548,0.005005660001189,0.024555547162890));
res += mul(Get(s3,dx,-dy), float4x4(0.005641310475767,0.045052919536829,0.083038412034512,-0.060950335115194,0.071749493479729,-0.032333232462406,-0.059419408440590,0.189086586236954,0.089683294296265,0.005604027770460,0.015032650902867,-0.034579690545797,0.129946231842041,0.042292967438698,-0.109406381845474,-0.056340292096138));
res += mul(Get(s3,dx,0), float4x4(-0.097121171653271,-0.124919623136520,0.041119284927845,-0.013034840114415,-0.032664954662323,0.022648060694337,0.001903305179439,-0.078564949333668,0.246324256062508,-0.035037539899349,-0.038961630314589,0.032366525381804,0.075563177466393,0.055868558585644,-0.068499766290188,0.014519772492349));
res += mul(Get(s3,dx,dy), float4x4(0.041737627238035,0.057827834039927,0.013630961067975,-0.054849941283464,0.028975721448660,0.033004004508257,0.006016713101417,0.116768449544907,0.057200580835342,-0.025369742885232,0.030182512477040,0.021279741078615,0.013208200223744,0.123539745807648,-0.114352501928806,-0.067497245967388));
return max(float4(0,0,0,0), res);
}
