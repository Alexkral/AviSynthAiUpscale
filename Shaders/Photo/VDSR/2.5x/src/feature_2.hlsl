sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.294971078634262,-0.014641647227108,0.412643343210220,0.011198690161109) * Get(-dx,-dy);
res += float4(-0.400023758411407,0.010152108967304,-0.079267613589764,0.003318351460621) * Get(-dx,0);
res += float4(0.168968439102173,0.027507092803717,-0.263648957014084,-0.024998383596539) * Get(-dx,dy);
res += float4(-0.144149586558342,-0.027175255119801,0.382491111755371,0.018015716224909) * Get(0,-dy);
res += float4(0.500802695751190,-0.000593326578382,-0.168927207589149,0.012511528097093) * Get(0,0);
res += float4(1.054353117942810,0.004674883559346,-0.465077817440033,-0.028674185276031) * Get(0,dy);
res += float4(0.048049889504910,0.003149216761813,0.239673525094986,-0.032960865646601) * Get(dx,-dy);
res += float4(0.678893268108368,-0.037670508027077,-0.021358996629715,-0.024634083732963) * Get(dx,0);
res += float4(0.077397003769875,-0.035391822457314,-0.364609092473984,-0.000764243304729) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
