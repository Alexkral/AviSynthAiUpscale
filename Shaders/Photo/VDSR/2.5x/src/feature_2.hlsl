sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.008663482032716,-0.044036101549864,0.190218538045883,0.013555150479078) * Get(-dx,-dy);
res += float4(-0.207363262772560,0.052541159093380,0.045704107731581,-0.172730401158333) * Get(-dx,0);
res += float4(-0.043992988765240,0.076076813042164,0.129603564739227,-0.094872027635574) * Get(-dx,dy);
res += float4(-0.070414274930954,-0.045523904263973,-0.009344658814371,0.096860341727734) * Get(0,-dy);
res += float4(-0.129264578223228,0.056182563304901,-0.199260458350182,0.054345410317183) * Get(0,0);
res += float4(0.039664424955845,-0.121729664504528,-0.379199057817459,-0.157940551638603) * Get(0,dy);
res += float4(-0.091558001935482,0.128689929842949,0.188623845577240,-0.247337594628334) * Get(dx,-dy);
res += float4(0.035242725163698,-0.143889024853706,-0.074325628578663,-0.064395152032375) * Get(dx,0);
res += float4(0.078451521694660,-0.205176919698715,0.031785104423761,0.023992445319891) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
