sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.001074449042790,0.150918051600456,0.081474661827087,0.224103733897209,0.012158426456153,-0.161702618002892,0.126203611493111,-0.071362972259521,0.230602979660034,0.088890805840492,0.036218475550413,-0.008567995391786,0.028132170438766,-0.210614874958992,0.032032452523708,0.058214634656906));
res += mul(Get(s0,-dx,0), float4x4(0.216063067317009,0.092028468847275,-0.009846216067672,-0.008153954520822,-0.095112085342407,-0.159012421965599,-0.089004628360271,0.077444374561310,0.063169166445732,-0.070569358766079,0.003338062437251,0.077082470059395,0.007144546136260,0.083216577768326,-0.061020892113447,0.338914841413498));
res += mul(Get(s0,-dx,dy), float4x4(-0.057480957359076,-0.106643654406071,0.110013321042061,0.077269107103348,0.004651641007513,0.088585808873177,-0.024732515215874,0.048793904483318,-0.068412981927395,0.082665666937828,0.067333474755287,0.029666518792510,-0.067199341952801,0.145936742424965,-0.068439446389675,-0.090263046324253));
res += mul(Get(s0,0,-dy), float4x4(-0.155859142541885,0.153847709298134,0.233441188931465,0.018408916890621,-0.229671671986580,-0.230243414640427,-0.078167408704758,-0.055216025561094,0.110935479402542,-0.086755126714706,0.064507998526096,0.005010088440031,-0.082474961876869,0.068052217364311,0.064984664320946,-0.029810640960932));
res += mul(Get(s0,0,0), float4x4(-0.172475010156631,-0.093596331775188,-0.211165353655815,-0.047516718506813,-0.087717309594154,0.089015789330006,-0.161060124635696,-0.126282304525375,0.110377192497253,0.114669166505337,-0.115928106009960,-0.110652588307858,0.126178234815598,-0.128883644938469,0.118667609989643,-0.024204866960645));
res += mul(Get(s0,0,dy), float4x4(0.125395610928535,0.007513187825680,0.196456417441368,-0.054462432861328,-0.031448502093554,0.140515506267548,0.120680421590805,0.083964213728905,0.135887980461121,0.037888970226049,0.096946865320206,0.008341028355062,-0.023788783699274,0.020506231114268,0.043929636478424,-0.166100695729256));
res += mul(Get(s0,dx,-dy), float4x4(-0.031235240399837,-0.003906980622560,-0.171747386455536,-0.263378679752350,0.026731656864285,-0.157747387886047,-0.046648349612951,-0.008950612507761,0.040080387145281,-0.129523009061813,0.088257119059563,0.096851587295532,0.174288764595985,0.232236027717590,0.031935364007950,0.008510482497513));
res += mul(Get(s0,dx,0), float4x4(-0.009591142646968,-0.048519935458899,-0.145095571875572,-0.053904827684164,0.037787523120642,-0.002643771935254,0.002762677147985,0.036476608365774,-0.174998492002487,-0.123319998383522,0.048686411231756,-0.044366285204887,0.050707455724478,0.124497435986996,0.048278268426657,0.070872977375984));
res += mul(Get(s0,dx,dy), float4x4(0.070896118879318,0.148873358964920,0.038749087601900,-0.037961486726999,0.147387474775314,-0.062860541045666,0.230090439319611,0.037864737212658,-0.083597794175148,0.004614708945155,0.160958722233772,0.042931597679853,-0.111480034887791,0.053856488317251,0.049670983105898,-0.032270040363073));
res += mul(Get(s1,-dx,-dy), float4x4(0.010358371771872,0.097719267010689,-0.028587548062205,-0.004822554066777,0.174671530723572,0.060244437307119,-0.041378576308489,-0.062508791685104,0.034007795155048,-0.051992166787386,0.149323433637619,-0.078254394233227,-0.144636869430542,0.066314890980721,-0.101498715579510,-0.034157261252403));
res += mul(Get(s1,-dx,0), float4x4(0.088214822113514,0.145011588931084,0.150642007589340,-0.016328295692801,-0.018485153093934,-0.062871098518372,-0.152745574712753,-0.210887089371681,-0.097873494029045,-0.004938671831042,-0.064204074442387,0.210333466529846,-0.294793695211411,-0.004267307929695,-0.057242620736361,-0.160569950938225));
res += mul(Get(s1,-dx,dy), float4x4(-0.075569294393063,0.023193599656224,0.127908363938332,-0.031376842409372,-0.196532115340233,-0.104938872158527,0.096285820007324,0.024541620165110,0.060137595981359,0.193377882242203,0.019382314756513,-0.145691111683846,-0.045215569436550,-0.073584765195847,0.106430239975452,0.027534706518054));
res += mul(Get(s1,0,-dy), float4x4(-0.065959647297859,-0.007614300120622,-0.036443568766117,-0.091451138257980,0.012693069875240,-0.148347064852715,0.027000341564417,0.102802805602551,0.053896144032478,-0.070115387439728,0.086349561810493,0.016367221251130,-0.002072759438306,-0.237074926495552,-0.150997534394264,0.110866799950600));
res += mul(Get(s1,0,0), float4x4(0.046838812530041,-0.022431232035160,0.058739528059959,-0.086610928177834,-0.046185284852982,-0.147172883152962,-0.002448066603392,0.166316419839859,0.177420258522034,-0.030033202841878,0.059947058558464,0.100981675088406,0.150665640830994,-0.155762702226639,0.044995494186878,-0.136305138468742));
res += mul(Get(s1,0,dy), float4x4(-0.111550018191338,0.019646150991321,-0.069670252501965,-0.096457101404667,-0.056222248822451,0.067324034869671,0.120628327131271,-0.151465669274330,0.030220659449697,-0.119949579238892,-0.194491252303123,-0.245850771665573,-0.031152475625277,-0.063870236277580,0.074615865945816,-0.147167459130287));
res += mul(Get(s1,dx,-dy), float4x4(-0.064935550093651,-0.022136803716421,-0.068482980132103,0.074945747852325,-0.005565402563661,-0.041293833404779,-0.012513883411884,0.063884466886520,0.104543924331665,0.063475772738457,0.039838835597038,0.007428112439811,0.008161063306034,0.081263311207294,0.063862808048725,-0.066392198204994));
res += mul(Get(s1,dx,0), float4x4(0.169345185160637,-0.079915061593056,-0.028318686410785,0.000010790390661,0.114509612321854,0.057728093117476,-0.058091569691896,0.059918131679296,0.096850156784058,-0.113620251417160,-0.003425242612138,0.141056180000305,0.088361091911793,0.071570888161659,-0.056030057370663,0.013384078629315));
res += mul(Get(s1,dx,dy), float4x4(-0.018386952579021,-0.098535276949406,0.015247950330377,0.037026938050985,-0.261063992977142,0.114990063011646,0.047960240393877,0.047349784523249,0.066618174314499,-0.098953075706959,0.128008648753166,-0.105080261826515,-0.051332887262106,0.054662261158228,0.081825956702232,0.121736198663712));
res += mul(Get(s2,-dx,-dy), float4x4(0.035435125231743,0.099878914654255,-0.075355038046837,0.050270166248083,0.072905756533146,-0.050132483243942,0.063191093504429,0.125017881393433,-0.057052828371525,-0.059157188981771,-0.070756539702415,-0.146013304591179,0.116233579814434,-0.030718754976988,-0.003512823022902,-0.198105990886688));
res += mul(Get(s2,-dx,0), float4x4(0.116857476532459,-0.026123724877834,0.039463181048632,-0.017797484993935,0.130464375019073,-0.146929860115051,0.077524460852146,-0.192587316036224,-0.066637262701988,-0.085811875760555,0.028349839150906,-0.040766131132841,0.092085331678391,-0.216832071542740,0.155699893832207,0.061777036637068));
res += mul(Get(s2,-dx,dy), float4x4(-0.091134451329708,0.034796141088009,-0.048437923192978,-0.065458975732327,0.087452717125416,-0.124185323715210,-0.114119768142700,0.100850813090801,-0.131967708468437,0.232270255684853,0.052952341735363,-0.202723637223244,-0.096073657274246,-0.172405958175659,0.147862300276756,0.014011650346220));
res += mul(Get(s2,0,-dy), float4x4(0.058511093258858,-0.024962982162833,0.028172187507153,0.019612433388829,-0.031628377735615,-0.011816299520433,0.132011964917183,-0.092000491917133,-0.134922638535500,0.028802534565330,0.006640828214586,0.169153958559036,0.209874346852303,-0.014337280765176,0.100187852978706,0.101329192519188));
res += mul(Get(s2,0,0), float4x4(-0.015660744160414,0.034645248204470,-0.036108255386353,0.058330714702606,0.067307509481907,0.130010068416595,-0.031161567196250,-0.154906019568443,0.173384502530098,0.138720914721489,0.024715075269341,-0.069633238017559,0.014133501797915,-0.112893059849739,-0.050685208290815,-0.055959846824408));
res += mul(Get(s2,0,dy), float4x4(-0.207319647073746,-0.032753106206656,0.081494614481926,-0.064954161643982,-0.057308796793222,-0.104867026209831,0.025996111333370,-0.067775107920170,-0.000150918218424,0.100781179964542,-0.053794801235199,0.073178201913834,-0.062509402632713,-0.126999691128731,-0.167858883738518,-0.238619312644005));
res += mul(Get(s2,dx,-dy), float4x4(0.004361055791378,0.094767510890961,-0.048001870512962,0.031162286177278,0.176541835069656,0.039975095540285,0.026915639638901,-0.050287008285522,-0.094958543777466,0.023147234693170,-0.157531231641769,0.072149112820625,0.050568245351315,-0.000697743031196,0.087563835084438,-0.096063427627087));
res += mul(Get(s2,dx,0), float4x4(0.103627607226372,-0.179196402430534,-0.017035907134414,0.050373464822769,-0.019520089030266,-0.084978550672531,-0.006775458808988,0.047105073928833,0.110149264335632,0.144914269447327,0.036937970668077,-0.067940466105938,0.004142784979194,-0.319679498672485,-0.125085845589638,0.128379613161087));
res += mul(Get(s2,dx,dy), float4x4(-0.089605182409286,0.233783259987831,-0.176593333482742,0.164171710610390,-0.022208884358406,0.094359397888184,0.157706975936890,-0.000552135694306,-0.099917590618134,-0.012031523510814,-0.099883124232292,-0.162756785750389,-0.019871110096574,-0.106958247721195,-0.154880508780479,0.100351415574551));
res += mul(Get(s3,-dx,-dy), float4x4(-0.130271255970001,-0.124644868075848,0.001398763852194,0.189789667725563,-0.108487248420715,-0.028848642483354,0.068723320960999,-0.151071578264236,-0.098342649638653,0.036537166684866,0.095234222710133,-0.057660069316626,0.257497400045395,-0.042102459818125,0.022620521485806,-0.035990688949823));
res += mul(Get(s3,-dx,0), float4x4(0.011249099858105,0.033937357366085,-0.082839876413345,0.006315056700259,-0.032285787165165,0.035117812454700,0.094951570034027,-0.134112298488617,0.023232128471136,0.104117780923843,0.001140407519415,-0.166823610663414,-0.050737965852022,0.014210126362741,-0.227687314152718,0.032326404005289));
res += mul(Get(s3,-dx,dy), float4x4(0.087974183261395,-0.005506881512702,0.081144183874130,-0.204757660627365,0.003975900821388,0.017292734235525,-0.069001168012619,0.003863130463287,-0.012231563217938,0.064454123377800,0.055222786962986,-0.117542542517185,0.018415851518512,-0.213257044553757,0.002629295922816,0.100405573844910));
res += mul(Get(s3,0,-dy), float4x4(0.137286812067032,-0.171248376369476,-0.046458605676889,0.280128419399261,0.116465747356415,0.038979373872280,0.017028233036399,-0.026944281533360,0.116256676614285,-0.018759161233902,0.069621324539185,0.058336764574051,0.176383018493652,0.126780509948730,0.112057514488697,0.005470186471939));
res += mul(Get(s3,0,0), float4x4(0.056097198277712,-0.018970225006342,0.143260613083839,0.134212076663971,0.053640745580196,-0.129677310585976,0.061349362134933,-0.110038295388222,0.034961193799973,0.016141023486853,0.143353953957558,0.005412070546299,-0.045434292405844,0.138947382569313,0.068570949137211,0.158852517604828));
res += mul(Get(s3,0,dy), float4x4(0.052647653967142,-0.025072908028960,-0.064086638391018,-0.146111339330673,-0.141201943159103,-0.109252884984016,0.116292826831341,-0.018849307671189,-0.114081569015980,0.230750173330307,0.110342368483543,-0.006193977314979,0.175547450780869,-0.010576928965747,0.180549353361130,0.131642118096352));
res += mul(Get(s3,dx,-dy), float4x4(0.056413050740957,0.049865514039993,0.182125672698021,0.014075390063226,-0.063202157616615,-0.091270491480827,0.150094985961914,0.294414967298508,0.027672184631228,0.153683617711067,-0.134850695729256,0.091023482382298,-0.093212090432644,-0.042498353868723,0.011291143484414,0.064807057380676));
res += mul(Get(s3,dx,0), float4x4(0.182156413793564,-0.070508942008018,0.078981466591358,0.009212209843099,-0.186659783124924,0.042515005916357,-0.026690701022744,0.008654221892357,-0.088412784039974,-0.048073299229145,-0.033772286027670,0.221374973654747,0.070787005126476,0.078954800963402,-0.036373335868120,-0.169074416160583));
res += mul(Get(s3,dx,dy), float4x4(0.117696203291416,-0.143096774816513,-0.309708446264267,-0.080689452588558,-0.048434328287840,0.015437038615346,0.068673193454742,0.061953436583281,0.042985409498215,-0.201947897672653,-0.104281745851040,0.096023194491863,-0.074842460453510,0.077345214784145,-0.172025054693222,-0.128419697284698));
return max(float4(0,0,0,0), res);
}
