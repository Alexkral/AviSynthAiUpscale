sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.104022212326527,-0.080812931060791,0.116430789232254,-0.092611797153950,0.020386861637235,-0.034411542117596,-0.031856410205364,0.181455314159393,0.020162336528301,0.092856988310814,0.007592410314828,0.047270886600018,-0.054564759135246,-0.244420811533928,-0.017712393775582,-0.013251103460789));
res += mul(Get(s0,-dx,0), float4x4(-0.054514300078154,-0.093155145645142,0.110373884439468,-0.037093654274940,0.110991925001144,0.043110258877277,-0.135732397437096,0.151287078857422,0.028453798964620,-0.002648450899869,-0.034148257225752,0.011274019256234,-0.164280131459236,-0.127381846308708,-0.071767061948776,0.331320971250534));
res += mul(Get(s0,-dx,dy), float4x4(0.096922568976879,-0.051269575953484,-0.088258974254131,0.185547485947609,-0.138872355222702,0.090796858072281,-0.130409523844719,0.012483505532146,0.162628173828125,-0.007092995103449,-0.135897174477577,-0.033735517412424,0.171007499098778,0.181539118289948,0.000686171581037,-0.203264489769936));
res += mul(Get(s0,0,-dy), float4x4(0.068962983787060,0.055808957666159,-0.066704958677292,-0.020608920603991,-0.073803178966045,-0.052149593830109,0.054608505219221,-0.047413323074579,0.041780833154917,-0.020320566371083,-0.066234230995178,0.005048558115959,0.019177947193384,-0.045271076261997,-0.010818249545991,-0.123491406440735));
res += mul(Get(s0,0,0), float4x4(-0.057117171585560,0.101246133446693,-0.068784043192863,-0.036373037844896,0.169271677732468,0.080174885690212,-0.038457799702883,-0.013035451993346,0.283485472202301,-0.048968125134706,-0.101812355220318,-0.057001199573278,0.016070168465376,0.156347945332527,-0.022040568292141,-0.063277646899223));
res += mul(Get(s0,0,dy), float4x4(-0.001667887554504,0.119985334575176,0.141230866312981,0.023859405890107,0.019163662567735,0.063585400581360,-0.055331647396088,-0.184477016329765,0.057170178741217,0.003424473572522,-0.105309955775738,-0.025747811421752,0.133161053061485,-0.087720319628716,-0.159603342413902,-0.185363948345184));
res += mul(Get(s0,dx,-dy), float4x4(0.137753486633301,-0.049537301063538,-0.076296575367451,0.013175997883081,0.081903889775276,0.036026731133461,-0.029659571126103,-0.008844350464642,-0.030162928625941,-0.051422528922558,0.029132595285773,0.108334198594093,0.155463993549347,0.236833781003952,-0.006715926807374,0.034312602132559));
res += mul(Get(s0,dx,0), float4x4(0.128381997346878,0.030629213899374,0.053403150290251,0.104951038956642,0.091681793332100,0.121121168136597,-0.100457556545734,0.053801268339157,-0.121257707476616,-0.036038011312485,-0.083704322576523,-0.032818943262100,-0.019952494651079,0.101462237536907,0.129733636975288,-0.173846885561943));
res += mul(Get(s0,dx,dy), float4x4(0.077343471348286,0.172710075974464,-0.052420049905777,0.020792467519641,-0.067192524671555,-0.099732421338558,-0.051715567708015,-0.042088884860277,-0.024123480543494,0.006753212306648,-0.104128517210484,-0.014093043282628,-0.064841307699680,-0.165767803788185,-0.071263916790485,-0.040076538920403));
res += mul(Get(s1,-dx,-dy), float4x4(-0.033197648823261,-0.022772857919335,0.022391580045223,-0.005304761230946,0.329304307699203,0.020064223557711,-0.097201824188232,-0.047051813453436,0.035131134092808,-0.077012717723846,-0.151334896683693,0.167351633310318,-0.105816386640072,0.026721451431513,-0.022087357938290,-0.019273759797215));
res += mul(Get(s1,-dx,0), float4x4(-0.041507173329592,-0.007433488499373,0.054137781262398,0.105628855526447,-0.122578628361225,-0.082478001713753,0.053533241152763,-0.114282108843327,0.115308985114098,-0.070768050849438,-0.025599636137486,0.261904805898666,-0.005002374295145,-0.075338192284107,-0.039850324392319,-0.070897080004215));
res += mul(Get(s1,-dx,dy), float4x4(-0.197549894452095,0.029223015531898,-0.038315467536449,-0.045896526426077,-0.313727229833603,-0.135981604456902,0.088292345404625,0.114684134721756,-0.009508037008345,0.172088921070099,-0.085693940520287,-0.002583999652416,-0.017174804583192,0.026416219770908,0.037761852145195,-0.028893338516355));
res += mul(Get(s1,0,-dy), float4x4(-0.094150587916374,0.043328642845154,0.008622948080301,-0.042268138378859,0.131381735205650,-0.048649970442057,-0.197631418704987,0.159513875842094,0.220489129424095,-0.163107797503471,0.018933951854706,0.066407240927219,0.339681953191757,0.084950767457485,-0.072472229599953,-0.032941058278084));
res += mul(Get(s1,0,0), float4x4(-0.047971364110708,0.082730166614056,0.038215812295675,0.030241645872593,-0.134254500269890,0.017364483326674,-0.003586044535041,-0.008096653036773,0.030425639823079,0.059191960841417,0.082788884639740,-0.044586572796106,0.238739252090454,-0.117310956120491,-0.059114567935467,-0.090161249041557));
res += mul(Get(s1,0,dy), float4x4(-0.158838734030724,0.095246195793152,-0.119125671684742,-0.027748975902796,-0.163353964686394,0.063518673181534,0.451909780502319,0.038775127381086,-0.090255118906498,-0.028051167726517,-0.106500506401062,-0.024003291502595,-0.207876458764076,0.028554629534483,-0.032730441540480,-0.140493318438530));
res += mul(Get(s1,dx,-dy), float4x4(-0.009382758289576,0.019776312634349,-0.102975048124790,-0.036326088011265,-0.071220092475414,-0.088700883090496,-0.148123905062675,-0.077330410480499,0.120371393859386,0.016031941398978,0.057510908693075,0.049505844712257,-0.025842810049653,0.002800273941830,-0.008357640355825,0.018593767657876));
res += mul(Get(s1,dx,0), float4x4(0.070453718304634,-0.011106429621577,-0.052500639110804,-0.051386930048466,-0.124241285026073,0.213687792420387,-0.146272093057632,0.034534677863121,-0.211922690272331,-0.135225445032120,0.153068989515305,-0.106969021260738,0.039318989962339,-0.069252908229828,0.014171920716763,0.053706191480160));
res += mul(Get(s1,dx,dy), float4x4(0.041883416473866,-0.028586853295565,-0.137102305889130,0.052005894482136,-0.097955867648125,-0.036709208041430,0.035336762666702,-0.042250275611877,-0.096594028174877,-0.049612708389759,-0.056028228253126,-0.025558253750205,-0.009612180292606,-0.007144220173359,-0.064187362790108,0.062194626778364));
res += mul(Get(s2,-dx,-dy), float4x4(-0.171254485845566,0.119881190359592,0.052972275763750,-0.025394996628165,0.000076655625890,0.016839059069753,0.058926913887262,-0.086296379566193,0.148331031203270,-0.100830115377903,0.031918693333864,-0.039702814072371,0.201446592807770,0.412042677402496,-0.044787827879190,0.350917249917984));
res += mul(Get(s2,-dx,0), float4x4(-0.062180206179619,0.030890235677361,0.100273154675961,0.102367967367172,-0.043209116905928,0.012896874919534,0.155818685889244,0.043743483722210,-0.093055017292500,0.122288733720779,0.104322604835033,-0.040187515318394,0.078952707350254,0.333295404911041,0.166100472211838,-0.149223268032074));
res += mul(Get(s2,-dx,dy), float4x4(-0.112790487706661,0.001018367940560,-0.042052797973156,0.013346834108233,-0.145283177495003,-0.029666936025023,0.180593609809875,-0.036503560841084,-0.135636985301971,-0.011949047446251,0.022493939846754,0.009815426543355,-0.068756386637688,-0.156867846846581,0.116735987365246,-0.098263815045357));
res += mul(Get(s2,0,-dy), float4x4(0.033777002245188,-0.034349378198385,-0.127638846635818,-0.087867155671120,0.277055740356445,-0.082934297621250,0.046296190470457,-0.083919048309326,0.173903629183769,-0.021516546607018,0.204554602503777,0.000917760480661,-0.053183659911156,-0.138549774885178,-0.076731391251087,0.068549677729607));
res += mul(Get(s2,0,0), float4x4(0.061210032552481,0.028313236311078,0.161704301834106,0.110239259898663,-0.062447439879179,-0.017858490347862,0.096615009009838,0.009868579916656,0.017607968300581,0.156407192349434,0.056888382881880,-0.048798125237226,-0.184948980808258,-0.329918801784515,-0.037426553666592,-0.047625962644815));
res += mul(Get(s2,0,dy), float4x4(-0.061262454837561,0.056095737963915,0.023744868114591,-0.077815525233746,-0.139114692807198,-0.000078134515206,-0.047581847757101,0.070340648293495,-0.100402638316154,-0.176623791456223,-0.058333579450846,-0.103059075772762,-0.138489335775375,0.132966965436935,-0.130248159170151,0.044420316815376));
res += mul(Get(s2,dx,-dy), float4x4(0.082640990614891,0.024775799363852,-0.049135643988848,-0.089833348989487,0.220645904541016,-0.011590858921409,0.018650332465768,0.034395854920149,-0.051499780267477,-0.126879185438156,0.000369232991943,0.052652250975370,0.013938994146883,-0.190140530467033,0.045185171067715,-0.096330150961876));
res += mul(Get(s2,dx,0), float4x4(0.021071728318930,0.121806249022484,0.045487668365240,0.078940540552139,-0.097969383001328,0.075638227164745,0.087510086596012,0.134908318519592,0.010551228187978,-0.029781503602862,0.012071964330971,-0.034195132553577,-0.102955184876919,-0.279170393943787,0.037664685398340,0.024849781766534));
res += mul(Get(s2,dx,dy), float4x4(-0.047922287136316,0.160540953278542,-0.254959136247635,-0.075427889823914,-0.077067613601685,0.102340646088123,-0.068870954215527,0.129797145724297,-0.029247825965285,-0.054243430495262,0.026977058500051,-0.158367812633514,0.001972788944840,0.102995820343494,-0.155986204743385,-0.103345967829227));
res += mul(Get(s3,-dx,-dy), float4x4(-0.078946843743324,-0.052585054188967,0.033700767904520,-0.085857264697552,0.070299796760082,-0.051561895757914,0.151036068797112,-0.057162564247847,0.102125898003578,0.008373638615012,-0.011095537804067,-0.053792759776115,0.154494330286980,0.059477925300598,-0.037234857678413,-0.101938351988792));
res += mul(Get(s3,-dx,0), float4x4(0.011527367867529,0.047266263514757,-0.078694514930248,0.023903418332338,0.165305405855179,0.046910744160414,0.060257166624069,0.015085538849235,0.058575816452503,0.012751707807183,-0.044922728091478,0.067739516496658,-0.063879959285259,0.021745054051280,-0.139837920665741,-0.152641996741295));
res += mul(Get(s3,-dx,dy), float4x4(0.180551767349243,-0.012035343796015,-0.014729168266058,-0.001746148453094,-0.198001861572266,-0.099887013435364,0.005193315912038,-0.093622393906116,0.112373948097229,0.077249199151993,0.060133155435324,0.043033991008997,-0.014317388646305,-0.110175184905529,0.185079351067543,0.094817683100700));
res += mul(Get(s3,0,-dy), float4x4(-0.195237874984741,0.088705219328403,0.074204526841640,-0.083756916224957,-0.098456434905529,-0.051389563828707,-0.061752267181873,0.048698045313358,-0.061843555420637,-0.057426329702139,0.141181841492653,0.001364844269119,0.040045887231827,-0.037434544414282,-0.016821274533868,-0.075973801314831));
res += mul(Get(s3,0,0), float4x4(-0.065414667129517,0.028934771195054,-0.105449475347996,0.003943585325032,-0.093927182257175,0.083480179309845,-0.073160573840141,0.140936091542244,-0.060875605791807,-0.008141694590449,0.031635787338018,-0.024185387417674,-0.090924091637135,0.069367766380310,-0.044334631413221,0.028306940570474));
res += mul(Get(s3,0,dy), float4x4(0.080201491713524,-0.059015750885010,-0.017392043024302,-0.017322009429336,-0.018382728099823,-0.054167795926332,0.072301283478737,-0.026120007038116,-0.095821551978588,-0.015872932970524,-0.096821367740631,-0.094854503870010,0.032957676798105,0.021057292819023,0.167937085032463,0.292010039091110));
res += mul(Get(s3,dx,-dy), float4x4(-0.109987877309322,0.098326005041599,-0.027908233925700,-0.024168094620109,-0.117277540266514,0.054323572665453,0.038093093782663,-0.029527243226767,0.017347743734717,0.041073404252529,0.002344924258068,-0.002407143590972,-0.353589147329330,-0.057148657739162,-0.039869360625744,-0.124552518129349));
res += mul(Get(s3,dx,0), float4x4(0.030101854354143,-0.012328546494246,-0.165159195661545,-0.003458908060566,-0.240631222724915,0.060117717832327,-0.088997468352318,0.036220937967300,0.068458028137684,0.036680832505226,0.026072058826685,0.026056721806526,-0.075165726244450,-0.029386058449745,-0.206588849425316,-0.028662959113717));
res += mul(Get(s3,dx,dy), float4x4(0.157922804355621,0.026251973584294,0.042663455009460,0.000237785861827,-0.146499231457710,-0.058725573122501,-0.102123171091080,-0.088232584297657,0.164513096213341,-0.116470120847225,0.082888156175613,0.058283884078264,-0.281085461378098,0.167361661791801,-0.160428136587143,-0.073032557964325));
return max(float4(0,0,0,0), res);
}
