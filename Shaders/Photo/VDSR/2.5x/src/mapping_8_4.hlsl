sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.065030239522457,-0.043532226234674,-0.059462849050760,0.022194597870111,0.065340906381607,0.064535185694695,0.084033183753490,-0.170399174094200,0.121746517717838,-0.010555588640273,-0.015258947387338,-0.239939823746681,0.031710553914309,-0.005207510665059,0.059236988425255,0.094087585806847));
res += mul(Get(s0,-dx,0), float4x4(-0.040695782750845,-0.000734821776859,-0.041009448468685,-0.074146203696728,-0.093906506896019,0.071996636688709,-0.043686691671610,-0.086273372173309,-0.069670289754868,-0.038729909807444,-0.041806630790234,0.130371764302254,-0.074116237461567,-0.017314398661256,0.136321336030960,0.069493949413300));
res += mul(Get(s0,-dx,dy), float4x4(-0.007267451845109,0.057034358382225,0.044393207877874,0.178560554981232,0.049107201397419,-0.108456537127495,-0.002964285900816,-0.078920863568783,-0.026846267282963,-0.110720291733742,0.008722731843591,-0.134139627218246,0.008177799172699,-0.101559184491634,-0.086825907230377,-0.044401176273823));
res += mul(Get(s0,0,-dy), float4x4(0.040060941129923,-0.223511517047882,-0.002418436575681,-0.115782111883163,0.063865400850773,0.067043960094452,-0.105765774846077,-0.102093182504177,0.141558900475502,-0.065880253911018,0.051976881921291,-0.073663689196110,0.052048392593861,-0.115058213472366,-0.017987463623285,0.335726797580719));
res += mul(Get(s0,0,0), float4x4(0.030878806486726,-0.078159220516682,-0.054536040872335,-0.017441220581532,-0.067937180399895,-0.042982421815395,-0.019488021731377,-0.053181540220976,0.077047199010849,0.039576858282089,-0.013503388501704,-0.070595346391201,0.150351867079735,0.114604324102402,-0.030617568641901,-0.019984284415841));
res += mul(Get(s0,0,dy), float4x4(0.070072479546070,-0.028189836069942,0.042078629136086,-0.058211203664541,0.144871607422829,-0.205845594406128,0.180342763662338,-0.047566231340170,-0.025427380576730,-0.230341330170631,-0.153410121798515,-0.040636874735355,0.139077797532082,-0.109466560184956,0.160345211625099,0.095856577157974));
res += mul(Get(s0,dx,-dy), float4x4(-0.037020511925220,-0.015378387644887,-0.045356608927250,0.021960388869047,0.014042612165213,-0.222903653979301,-0.002478328533471,-0.159210905432701,-0.047065276652575,0.017406629398465,0.137164890766144,-0.221835136413574,-0.015433289110661,0.106541536748409,0.232511773705482,0.171025261282921));
res += mul(Get(s0,dx,0), float4x4(-0.098185986280441,0.160391986370087,-0.024199424311519,-0.038342799991369,-0.144529134035110,0.064276427030563,0.081425331532955,-0.075095288455486,0.033867396414280,-0.098782598972321,-0.048738468438387,0.009042944759130,-0.029439063742757,0.106581933796406,-0.042762968689203,-0.035208076238632));
res += mul(Get(s0,dx,dy), float4x4(0.083881080150604,0.063758939504623,-0.090572349727154,0.078028634190559,0.030720038339496,-0.073635309934616,0.067588336765766,-0.212665498256683,0.045877661556005,0.094140581786633,0.098584912717342,0.037365105003119,-0.033586036413908,0.008261908777058,0.044321462512016,-0.002815654268488));
res += mul(Get(s1,-dx,-dy), float4x4(0.178102687001228,0.034109823405743,-0.069648422300816,-0.022782504558563,-0.161348313093185,-0.005952627863735,-0.171267554163933,-0.015431012026966,-0.239763364195824,0.082128345966339,0.050619259476662,-0.006685421336442,-0.049017503857613,0.058736950159073,0.041915584355593,0.082441508769989));
res += mul(Get(s1,-dx,0), float4x4(0.097077719867229,-0.055414441972971,0.067330583930016,-0.143114537000656,-0.018962698057294,0.052366491407156,-0.011961353011429,-0.208424776792526,0.043316408991814,-0.142723798751831,0.018362563103437,0.120149619877338,-0.087319821119308,0.077194698154926,0.033850561827421,0.189745217561722));
res += mul(Get(s1,-dx,dy), float4x4(0.166759893298149,-0.059744805097580,-0.087296731770039,0.036962006241083,0.110027499496937,-0.049038313329220,-0.066443130373955,-0.059968858957291,0.008305625990033,0.059995781630278,-0.058497007936239,0.172684594988823,-0.234383553266525,-0.035129856318235,-0.048007514327765,0.114729806780815));
res += mul(Get(s1,0,-dy), float4x4(0.012043147347867,0.123110719025135,0.063268639147282,0.026036968454719,-0.052662361413240,0.035120438784361,0.124650791287422,-0.027821134775877,0.040519602596760,0.016089530661702,-0.153132617473602,0.041655857115984,-0.096240416169167,-0.052850537002087,0.187203511595726,0.003453210927546));
res += mul(Get(s1,0,0), float4x4(0.084802217781544,-0.276377260684967,0.285556226968765,-0.229622557759285,-0.025075878947973,-0.250869840383530,0.175858780741692,-0.144579887390137,0.135615646839142,-0.068654462695122,-0.009738150052726,-0.000611210125498,0.067977093160152,0.066467583179474,-0.167209953069687,0.230617374181747));
res += mul(Get(s1,0,dy), float4x4(-0.163986042141914,-0.052658632397652,-0.051856368780136,-0.043342027813196,0.234050035476685,0.133530661463737,-0.042281150817871,-0.178106784820557,0.040622919797897,-0.019489841535687,0.053173504769802,0.039494540542364,-0.094654001295567,0.141503453254700,-0.010880254209042,-0.092208810150623));
res += mul(Get(s1,dx,-dy), float4x4(-0.131419003009796,-0.032102778553963,0.094226583838463,0.194052070379257,0.177743539214134,0.075428172945976,0.117893055081367,0.083915479481220,-0.142628028988838,0.168572679162025,0.031303159892559,-0.019995201379061,-0.017838900908828,-0.067344769835472,-0.041589487344027,0.040027540177107));
res += mul(Get(s1,dx,0), float4x4(0.018318455666304,-0.080737553536892,0.108545996248722,0.078120611608028,-0.080228574573994,-0.076981991529465,-0.105394087731838,0.063134886324406,-0.165716230869293,-0.040883865207434,0.086964160203934,0.020937651395798,-0.079132094979286,0.019596988335252,-0.086785912513733,0.023096673190594));
res += mul(Get(s1,dx,dy), float4x4(-0.091225437819958,0.125402927398682,-0.274019271135330,0.125551179051399,0.000951778027229,0.095974817872047,0.051079016178846,-0.048654656857252,0.017440600320697,-0.092920266091824,-0.071285769343376,0.143888905644417,0.011915829963982,-0.224260568618774,-0.024156030267477,-0.011392064392567));
res += mul(Get(s2,-dx,-dy), float4x4(-0.028183026239276,-0.113382942974567,0.046503107994795,0.204166963696480,-0.008583744987845,0.031125640496612,-0.176675751805305,0.119876094162464,-0.043043054640293,-0.092732615768909,-0.054453767836094,-0.084617897868156,-0.058016490191221,0.029582301154733,-0.008944354020059,-0.028486922383308));
res += mul(Get(s2,-dx,0), float4x4(0.106896400451660,-0.095861032605171,0.130415484309196,0.051782637834549,0.120678022503853,0.189975887537003,-0.104314967989922,-0.048936091363430,-0.005276180338115,-0.018836157396436,0.025401627644897,0.325833201408386,-0.249476388096809,0.020008262246847,-0.039430283010006,-0.211988419294357));
res += mul(Get(s2,-dx,dy), float4x4(-0.140997514128685,-0.159310996532440,0.114762865006924,0.035986751317978,0.051240853965282,0.063070163130760,0.066822946071625,-0.065072022378445,-0.006930941250175,-0.004950462840497,0.063081838190556,0.049467418342829,0.123113043606281,-0.025303535163403,0.023725314065814,0.092706367373466));
res += mul(Get(s2,0,-dy), float4x4(0.033070705831051,-0.046512391418219,0.086239472031593,0.099011056125164,0.155092269182205,0.067200422286987,-0.003392603248358,-0.010161469690502,0.031625397503376,0.053053747862577,0.130648016929626,0.072621032595634,0.085652671754360,-0.103708207607269,-0.039912767708302,-0.120811097323895));
res += mul(Get(s2,0,0), float4x4(0.009495696984231,-0.119846023619175,-0.072028897702694,0.106947891414165,-0.042730059474707,0.095357872545719,0.095350600779057,0.051202900707722,0.044227950274944,0.027101548388600,0.160735547542572,-0.063274212181568,-0.063709877431393,-0.024028019979596,0.192564338445663,-0.083584919571877));
res += mul(Get(s2,0,dy), float4x4(-0.189262941479683,-0.134159296751022,-0.072403013706207,0.114864639937878,0.000804927316494,-0.090509332716465,0.044594269245863,0.034165982156992,-0.043170336633921,-0.153593987226486,-0.042154707014561,-0.054199103266001,-0.060851082205772,-0.035055886954069,-0.060075227171183,-0.043908454477787));
res += mul(Get(s2,dx,-dy), float4x4(0.010343839414418,0.052103653550148,0.113893255591393,-0.012073239311576,0.052472911775112,-0.107835792005062,-0.148202940821648,-0.043271668255329,0.023807391524315,0.089109577238560,-0.166879057884216,0.133794084191322,0.215507626533508,0.080194152891636,-0.000089299668616,-0.154841601848602));
res += mul(Get(s2,dx,0), float4x4(-0.122359037399292,-0.039612125605345,0.111156366765499,-0.111714430153370,0.090710900723934,0.110091917216778,0.128685936331749,0.155076295137405,0.094991676509380,0.000512415193953,0.099585711956024,-0.043057963252068,0.020871896296740,0.246476843953133,-0.040046863257885,-0.117021590471268));
res += mul(Get(s2,dx,dy), float4x4(-0.147749572992325,0.077156923711300,-0.043231450021267,0.065681219100952,-0.070100747048855,0.092818416655064,-0.128320485353470,-0.136920779943466,-0.123252809047699,0.014985479414463,0.076274417340755,-0.149367839097977,-0.167215853929520,-0.071585379540920,0.009337872266769,-0.208195343613625));
res += mul(Get(s3,-dx,-dy), float4x4(0.118599273264408,0.076394043862820,-0.002894503762946,-0.021107843145728,-0.004688775166869,0.059551753103733,-0.032136559486389,-0.142260193824768,0.193334639072418,-0.043813217431307,0.097037672996521,0.019716085866094,-0.139029398560524,0.066679082810879,0.146319359540939,0.176990985870361));
res += mul(Get(s3,-dx,0), float4x4(0.037365481257439,0.040271572768688,-0.136042997241020,0.004457879345864,0.109183304011822,0.037127122282982,0.069749861955643,0.010284577496350,-0.122909545898438,0.116143926978111,0.023854505270720,0.055162981152534,-0.025973988696933,-0.077387750148773,0.099454000592232,0.040645420551300));
res += mul(Get(s3,-dx,dy), float4x4(0.132458373904228,0.011619468219578,0.042387336492538,-0.071010790765285,-0.029145454987884,0.130153313279152,0.092641934752464,-0.026403529569507,-0.188328370451927,-0.037627544254065,0.173285841941833,-0.121267795562744,0.017253771424294,-0.118986852467060,-0.060179658234119,0.005998964421451));
res += mul(Get(s3,0,-dy), float4x4(0.130420744419098,0.071412086486816,-0.056291006505489,0.017504259943962,0.174889594316483,0.029557570815086,-0.023414280265570,-0.012374641373754,-0.091860122978687,0.010362862609327,0.164372801780701,-0.104164808988571,-0.037700306624174,-0.039457000792027,-0.045524090528488,-0.034370567649603));
res += mul(Get(s3,0,0), float4x4(-0.255168527364731,0.040626458823681,-0.023854877799749,-0.089052140712738,-0.074593357741833,-0.002329696901143,-0.092547632753849,-0.012767600826919,-0.152018100023270,0.016145745292306,0.016110491007566,0.172940984368324,-0.012381520122290,-0.085660234093666,0.156507804989815,0.057843025773764));
res += mul(Get(s3,0,dy), float4x4(-0.027000160887837,-0.003587205661461,0.068818613886833,-0.011335001327097,-0.135974258184433,-0.040451429784298,-0.105355612933636,0.044345729053020,0.038521286100149,0.209189578890800,-0.074858956038952,-0.059662804007530,-0.062238689512014,0.046757571399212,0.041763022542000,-0.155797332525253));
res += mul(Get(s3,dx,-dy), float4x4(0.243244633078575,-0.138210520148277,-0.021771010011435,0.109091676771641,-0.077798642218113,-0.066626474261284,-0.105410799384117,0.044264018535614,-0.016411695629358,-0.122942946851254,0.023121500387788,-0.083019800484180,-0.062380250543356,-0.007752837613225,-0.042344596236944,0.168250620365143));
res += mul(Get(s3,dx,0), float4x4(-0.003026735270396,-0.082866124808788,-0.028051882982254,-0.063540309667587,-0.056037615984678,-0.013154005631804,-0.055405993014574,0.019822975620627,-0.077881634235382,-0.162397131323814,-0.032425019890070,0.045208610594273,-0.038722038269043,-0.359978288412094,0.218729928135872,-0.187141537666321));
res += mul(Get(s3,dx,dy), float4x4(-0.059971228241920,0.122554197907448,-0.140320584177971,-0.138417273759842,0.019601523876190,-0.159942388534546,-0.111493431031704,-0.017191942781210,0.077226020395756,0.028948482125998,-0.059620510786772,-0.007167848758399,0.000035685377952,-0.000059644797147,0.218172371387482,0.143129527568817));
return max(float4(0,0,0,0), res);
}
