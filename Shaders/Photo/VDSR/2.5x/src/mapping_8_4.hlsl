sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.037870049476624,0.179272249341011,-0.102242290973663,-0.104488991200924,-0.055336441844702,0.158184558153152,0.044305831193924,-0.028761822730303,-0.055031064897776,-0.000298894243315,0.097679048776627,0.031486380845308,-0.013831867836416,-0.097919903695583,0.107012510299683,0.178924843668938));
res += mul(Get(s0,-dx,0), float4x4(-0.093065723776817,0.128398299217224,0.100613787770271,0.104018792510033,-0.054760374128819,-0.102480828762054,0.088905632495880,-0.007639046758413,-0.007644281722605,-0.055315323174000,0.011064912192523,0.011522419750690,0.054776124656200,-0.037579521536827,0.089418448507786,0.097030565142632));
res += mul(Get(s0,-dx,dy), float4x4(0.038147844374180,0.054091423749924,-0.036303788423538,-0.064134165644646,-0.069471940398216,-0.010487093590200,0.043203458189964,0.024768507108092,-0.070395193994045,-0.071227505803108,0.051220204681158,-0.049065858125687,-0.009803676046431,-0.015555669553578,0.112435415387154,0.007693097926676));
res += mul(Get(s0,0,-dy), float4x4(-0.016815984621644,-0.109689392149448,-0.043879538774490,-0.033948216587305,-0.051078870892525,0.002110851695761,-0.055030383169651,-0.081943593919277,0.084271892905235,0.026148708537221,0.021803479641676,-0.043052908033133,-0.014777841977775,-0.084727190434933,-0.076380036771297,0.093841060996056));
res += mul(Get(s0,0,0), float4x4(-0.006039279513061,0.034493081271648,-0.092076778411865,-0.092754989862442,-0.101099349558353,-0.044479560106993,-0.005590079817921,-0.068571224808693,0.155373379588127,0.088403359055519,-0.004145356826484,-0.081681415438652,0.029444493353367,0.066704355180264,-0.103794150054455,0.099574871361256));
res += mul(Get(s0,0,dy), float4x4(0.010300599969923,-0.034560423344374,-0.177465870976448,-0.041802708059549,-0.014819578267634,0.058002099394798,0.174931228160858,-0.006606859154999,0.062332179397345,0.054695017635822,0.005032959859818,-0.110122449696064,0.028519727289677,-0.024465797469020,-0.088980987668037,0.075763665139675));
res += mul(Get(s0,dx,-dy), float4x4(-0.000892162381206,-0.007436651270837,-0.203323245048523,-0.003540522884578,-0.046045269817114,0.016804549843073,-0.066003151237965,0.048899356275797,0.047842577099800,-0.008960581384599,0.069009393453598,0.083900235593319,-0.119820155203342,-0.014127391390502,0.028302395716310,0.141330167651176));
res += mul(Get(s0,dx,0), float4x4(0.014431080780923,-0.089712701737881,-0.135139495134354,0.048326801508665,0.001858532777987,-0.003365134354681,-0.080730788409710,0.059795495122671,0.011416710913181,0.036259617656469,-0.017801957204938,0.008730310946703,0.019587509334087,0.291289627552032,-0.074672974646091,-0.021529197692871));
res += mul(Get(s0,dx,dy), float4x4(0.055963821709156,0.064089789986610,-0.042621016502380,-0.090183228254318,0.084740668535233,-0.009193184785545,-0.021447932347655,0.135665386915207,0.009598350152373,-0.061453994363546,-0.004237764980644,-0.100407019257545,-0.049834609031677,0.123237229883671,-0.023193784058094,0.087243869900703));
res += mul(Get(s1,-dx,-dy), float4x4(-0.071029283106327,-0.172330394387245,-0.111775480210781,0.066126085817814,-0.100178457796574,0.025385206565261,0.041575420647860,-0.064596287906170,0.007868252694607,-0.064687825739384,-0.022117711603642,0.032909791916609,-0.052850231528282,-0.012964571826160,0.062785148620605,0.028052888810635));
res += mul(Get(s1,-dx,0), float4x4(-0.081211045384407,-0.170203089714050,-0.145616427063942,0.010481852106750,-0.041414543986320,0.026112994179130,0.047126833349466,-0.190571829676628,-0.060441695153713,-0.065135955810547,-0.025344885885715,0.106814078986645,0.015746541321278,-0.010674552060664,0.007931811735034,0.061044130474329));
res += mul(Get(s1,-dx,dy), float4x4(-0.075024731457233,-0.134927466511726,-0.048514347523451,-0.010186393745244,-0.053394302725792,-0.034315288066864,-0.043582174926996,-0.093973666429520,-0.049890093505383,0.077379591763020,-0.093491680920124,0.045564983040094,-0.047988768666983,0.038648027926683,0.014710042625666,0.065422937273979));
res += mul(Get(s1,0,-dy), float4x4(-0.059728242456913,-0.116465918719769,0.097655437886715,-0.125854119658470,0.062066260725260,-0.038057461380959,0.076741665601730,0.051682982593775,0.022954929620028,-0.075557038187981,0.009554957970977,-0.000547286064830,0.037556450814009,-0.090763665735722,-0.030233677476645,0.023950450122356));
res += mul(Get(s1,0,0), float4x4(-0.019051019102335,-0.155672356486320,0.242895141243935,-0.034429732710123,0.052616432309151,-0.003570172470063,0.055568996816874,-0.064327135682106,0.096723064780235,-0.051101520657539,-0.027360966429114,-0.018564982339740,0.128808453679085,0.026846069842577,-0.032336998730898,0.014679654501379));
res += mul(Get(s1,0,dy), float4x4(0.046673834323883,-0.113917306065559,0.035005934536457,-0.010815595276654,0.079513609409332,0.036950178444386,0.010483209043741,0.011997378431261,-0.036363977938890,0.055670198053122,-0.012937865220010,0.039373774081469,0.072616741061211,-0.009267717599869,-0.009896074421704,0.034678198397160));
res += mul(Get(s1,dx,-dy), float4x4(-0.151104673743248,-0.054156612604856,-0.056690502911806,-0.092491969466209,0.033501848578453,-0.113422818481922,0.006299152504653,0.053754482418299,-0.063545890152454,0.044831644743681,0.031066281720996,0.142420843243599,0.032951522618532,-0.043662820011377,-0.010424259118736,-0.006701685022563));
res += mul(Get(s1,dx,0), float4x4(-0.031157923862338,-0.024659868329763,0.152158424258232,-0.066286973655224,-0.032561052590609,0.020897617563605,-0.101079754531384,0.097596704959869,-0.048495635390282,0.025372531265020,-0.044240269809961,0.131174266338348,0.032567016780376,-0.026860086247325,-0.056321755051613,-0.031857628375292));
res += mul(Get(s1,dx,dy), float4x4(-0.054763495922089,0.003383327741176,-0.035955063998699,-0.015636069700122,-0.072957478463650,0.069203041493893,-0.097336605191231,-0.066594533622265,-0.122571773827076,-0.019077297300100,-0.055774543434381,0.228978991508484,-0.060697995126247,-0.039893362671137,-0.066982433199883,0.086313880980015));
res += mul(Get(s2,-dx,-dy), float4x4(0.024955103173852,-0.038818012923002,-0.061767734587193,-0.098090283572674,0.061280053108931,0.174733072519302,0.083144046366215,-0.016745585948229,-0.137500807642937,0.144776508212090,0.144763439893723,0.057341054081917,-0.049538109451532,-0.126743212342262,-0.043483752757311,-0.009011920541525));
res += mul(Get(s2,-dx,0), float4x4(-0.059582248330116,0.028924783691764,-0.044926527887583,-0.042168803513050,-0.040840912610292,0.231200858950615,0.226373612880707,0.048125836998224,-0.035064987838268,-0.042568653821945,0.104890584945679,0.007296510972083,-0.057832218706608,-0.022371118888259,-0.032351635396481,-0.051544718444347));
res += mul(Get(s2,-dx,dy), float4x4(-0.064935535192490,0.015132336877286,0.033696942031384,-0.002681444399059,0.018712928518653,0.090700320899487,0.000840917695314,-0.042281389236450,-0.066347382962704,-0.030220942571759,-0.095808736979961,-0.072592139244080,-0.030392181128263,0.031563188880682,-0.035550795495510,0.061568964272738));
res += mul(Get(s2,0,-dy), float4x4(0.220301762223244,-0.026261672377586,-0.078373983502388,-0.071585848927498,0.095033474266529,-0.053977925330400,-0.064067952334881,0.025448741391301,-0.073997743427753,0.115588881075382,0.120637014508247,0.089706525206566,0.155157864093781,-0.136399701237679,-0.096538022160530,0.076929144561291));
res += mul(Get(s2,0,0), float4x4(-0.011241535656154,-0.099214293062687,-0.001892139553092,0.077600128948689,0.043954387307167,-0.017444891855121,0.125590518116951,-0.058560952544212,0.017659159377217,0.134235158562660,0.103210978209972,-0.019843250513077,-0.029247414320707,0.227254569530487,0.072975710034370,-0.031331852078438));
res += mul(Get(s2,0,dy), float4x4(0.010793841443956,-0.008740662597120,-0.134934291243553,-0.103683754801750,0.126585617661476,-0.025728108361363,-0.071744628250599,-0.071569666266441,0.055297724902630,-0.027318058535457,-0.030430803075433,0.053613964468241,-0.034014180302620,0.021896094083786,0.003798795398325,0.087846703827381));
res += mul(Get(s2,dx,-dy), float4x4(-0.042610045522451,0.018731564283371,-0.132672250270844,-0.072967551648617,0.003276813775301,-0.032395448535681,-0.145924702286720,-0.019222985953093,0.021792937070131,-0.069621287286282,0.007768402807415,0.044403366744518,0.038979977369308,-0.156312510371208,-0.013156529515982,0.024190355092287));
res += mul(Get(s2,dx,0), float4x4(-0.043739505112171,-0.059636998921633,-0.027049595490098,0.008952995762229,-0.003251521848142,-0.009266391396523,0.123136758804321,-0.037424311041832,0.042431861162186,0.089097484946251,0.015842875465751,0.003600469091907,0.025054663419724,-0.012052389793098,-0.020821690559387,-0.098016947507858));
res += mul(Get(s2,dx,dy), float4x4(-0.100203111767769,-0.148974627256393,-0.141845300793648,0.033123258501291,0.087252378463745,0.009613109752536,-0.078038081526756,-0.130480602383614,0.012082842178643,0.010853433981538,-0.113382719457150,0.001537545816973,-0.017216341570020,-0.067804008722305,-0.072882130742073,-0.027432411909103));
res += mul(Get(s3,-dx,-dy), float4x4(0.100223578512669,0.021784115582705,0.087469406425953,-0.114041544497013,0.119380712509155,0.077385008335114,-0.054648790508509,-0.122600600123405,0.085028089582920,0.026115732267499,0.085834577679634,0.051218975335360,0.033493850380182,-0.072459883987904,0.084665253758430,0.172814458608627));
res += mul(Get(s3,-dx,0), float4x4(-0.029427779838443,0.027395479381084,0.106509469449520,0.048906914889812,0.036878503859043,0.062380131334066,-0.145681366324425,-0.076734669506550,-0.026476703584194,0.121340505778790,0.101569905877113,0.015213388949633,0.014518469572067,-0.027674533426762,-0.054902318865061,0.002816754160449));
res += mul(Get(s3,-dx,dy), float4x4(-0.031991623342037,-0.036925874650478,0.236501529812813,-0.035331033170223,0.063245616853237,0.250668585300446,-0.144335702061653,-0.049573171883821,-0.126504197716713,0.020994799211621,0.032939165830612,0.030984524637461,0.078621231019497,-0.054329399019480,-0.058417107909918,-0.118507951498032));
res += mul(Get(s3,0,-dy), float4x4(0.150597929954529,-0.075441867113113,0.053115151822567,-0.142251342535019,0.351412206888199,-0.038312517106533,0.014493060298264,0.050653692334890,-0.010560679249465,0.109271928668022,-0.003075706306845,-0.029809951782227,-0.065564967691898,0.114582538604736,0.038391612470150,0.068621590733528));
res += mul(Get(s3,0,0), float4x4(0.053671583533287,-0.020953502506018,-0.042979970574379,-0.093001611530781,0.047580320388079,-0.024766452610493,0.150183111429214,0.021511442959309,-0.138794764876366,0.087225548923016,0.047193560749292,-0.059240549802780,0.051415264606476,-0.077541261911392,-0.017787499353290,0.008577589876950));
res += mul(Get(s3,0,dy), float4x4(0.048898424953222,0.076900213956833,0.042870670557022,0.052436061203480,-0.123568266630173,0.015415228903294,0.081330992281437,0.099325045943260,-0.015796734020114,-0.017969492822886,0.058550771325827,-0.090504683554173,0.080851592123508,0.013646678999066,0.088973328471184,-0.014749306254089));
res += mul(Get(s3,dx,-dy), float4x4(0.000807474541944,0.089787088334560,-0.039195213466883,-0.034914609044790,-0.087673813104630,-0.053716696798801,-0.115185812115669,0.007899967953563,0.028855780139565,-0.084002017974854,-0.124658413231373,0.135851338505745,-0.050195489078760,-0.030868809670210,0.043239962309599,0.082955971360207));
res += mul(Get(s3,dx,0), float4x4(0.046808216720819,-0.218917101621628,0.041622877120972,-0.135678783059120,-0.067995749413967,-0.001636011642404,-0.109603025019169,0.013118503615260,0.126185387372971,0.031433947384357,-0.106933854520321,0.049548666924238,0.061263773590326,-0.051202729344368,0.076154425740242,0.061432640999556));
res += mul(Get(s3,dx,dy), float4x4(0.055631350725889,0.059831731021404,-0.038664538413286,-0.084001794457436,-0.059597771614790,-0.014369751326740,-0.099696032702923,-0.041287597268820,-0.050130221992731,-0.013899487443268,0.020314043387771,0.040558215230703,-0.069206811487675,-0.070346951484680,0.137529656291008,0.044946089386940));
return max(float4(0,0,0,0), res);
}
