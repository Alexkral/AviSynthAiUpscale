sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.008453787304461,0.038010343909264,-0.016493204981089,0.003080273047090,-0.074372880160809,-0.066920183598995,0.041505139321089,-0.130723908543587,-0.032890692353249,-0.130458205938339,0.031734168529510,0.098533533513546,0.349333703517914,0.044497136026621,-0.030922230333090,0.020408462733030));
res += mul(Get(s0,-dx,0), float4x4(0.011338850483298,0.154203519225121,0.201508015394211,0.110484071075916,-0.044499717652798,-0.004450909327716,0.250946849584579,-0.074308559298515,0.001982949906960,0.160237714648247,-0.020444994792342,-0.256663978099823,-0.145430907607079,0.044883385300636,0.073287017643452,-0.017891971394420));
res += mul(Get(s0,-dx,dy), float4x4(-0.079479917883873,0.015608902089298,0.087209463119507,-0.022957587614655,-0.060001388192177,-0.083126671612263,0.072565935552120,0.115525439381599,-0.113052755594254,-0.040416341274977,-0.006598971318454,-0.008880894631147,0.062215033918619,-0.059096936136484,-0.151936590671539,-0.078182660043240));
res += mul(Get(s0,0,-dy), float4x4(-0.036775518208742,0.116365626454353,-0.053444627672434,0.085652559995651,-0.068127505481243,0.067464783787727,0.032331686466932,-0.063509903848171,0.094480179250240,-0.013598047196865,0.043765526264906,-0.046874191612005,0.000962979684118,-0.193803980946541,0.026493771001697,-0.172671929001808));
res += mul(Get(s0,0,0), float4x4(0.036962810903788,0.151440829038620,0.206226959824562,0.021628396585584,0.020349897444248,-0.041484545916319,0.098352082073689,0.058901004493237,-0.083168253302574,0.130852609872818,-0.033759314566851,0.143407121300697,0.123601503670216,-0.054377142339945,0.016150705516338,-0.039194174110889));
res += mul(Get(s0,0,dy), float4x4(-0.131446570158005,-0.003060819348320,-0.079888537526131,0.093234099447727,0.053947165608406,-0.138053357601166,-0.016725476831198,0.063233457505703,-0.152552843093872,-0.132921501994133,0.050911378115416,0.208628907799721,0.132565632462502,-0.171728745102882,0.066888757050037,-0.034595265984535));
res += mul(Get(s0,dx,-dy), float4x4(0.050912391394377,0.000580303836614,0.042813424021006,-0.042386665940285,-0.024152196943760,0.035714026540518,0.149884089827538,0.209052905440331,0.163612246513367,0.005250578280538,0.052869692444801,-0.019512783735991,0.121213465929031,-0.062169544398785,0.160164743661880,-0.048319902271032));
res += mul(Get(s0,dx,0), float4x4(0.043989375233650,0.110093109309673,0.120560474693775,-0.156262889504433,0.095369286835194,0.062415596097708,-0.007878784090281,0.172323212027550,0.011330327019095,0.076970025897026,0.047718953341246,0.096244558691978,0.035927366465330,-0.128580376505852,-0.032497812062502,0.016526293009520));
res += mul(Get(s0,dx,dy), float4x4(-0.086973756551743,-0.007352831773460,0.040961105376482,-0.110362365841866,-0.163220867514610,-0.292878180742264,0.033135984092951,0.075314067304134,0.041097126901150,-0.041989192366600,0.057943031191826,0.060636129230261,-0.113403014838696,0.008551101200283,0.094752214848995,0.119289688766003));
res += mul(Get(s1,-dx,-dy), float4x4(-0.076466724276543,0.062904827296734,-0.034102521836758,0.029246380552649,0.073695570230484,-0.010774133726954,-0.046402893960476,0.047438114881516,0.142302766442299,0.053130947053432,-0.017985202372074,-0.017128722742200,-0.186351388692856,-0.100042715668678,-0.151854053139687,0.343534678220749));
res += mul(Get(s1,-dx,0), float4x4(0.040317986160517,-0.005103231407702,-0.077861770987511,-0.040237143635750,-0.012793257832527,0.017955899238586,-0.056637272238731,-0.005273878108710,-0.101394414901733,0.144392460584641,-0.141181454062462,-0.128912180662155,-0.038314282894135,-0.150751188397408,-0.036545284092426,0.187150374054909));
res += mul(Get(s1,-dx,dy), float4x4(0.106054469943047,-0.022251535207033,-0.026736635714769,0.111297145485878,0.153626486659050,0.034219801425934,0.139459207653999,0.135691165924072,0.160555273294449,0.207683771848679,-0.044206026941538,-0.147112995386124,-0.197548836469650,-0.091918647289276,0.111974395811558,-0.032747253775597));
res += mul(Get(s1,0,-dy), float4x4(0.178657278418541,0.093750029802322,0.053855221718550,-0.003640901762992,0.044224638491869,-0.013693733140826,0.044776570051908,-0.030650259926915,-0.091040246188641,0.117427125573158,-0.189616829156876,0.085691675543785,-0.190520197153091,-0.047150023281574,-0.123020187020302,0.085675977170467));
res += mul(Get(s1,0,0), float4x4(-0.163412660360336,-0.038928598165512,-0.085216924548149,0.108381338417530,-0.033321637660265,-0.054464217275381,0.058692362159491,-0.115043543279171,-0.065735273063183,0.229768544435501,-0.067170098423958,0.135035857558250,-0.074041709303856,-0.087825722992420,-0.023716429248452,0.066345624625683));
res += mul(Get(s1,0,dy), float4x4(-0.073454700410366,0.074601672589779,-0.049610029906034,0.009756681509316,-0.025151956826448,0.005655135028064,-0.066133670508862,0.057415872812271,0.120102569460869,-0.063954003155231,0.010248331353068,0.043164532631636,0.022345025092363,0.069343417882919,-0.006875515449792,-0.020716737955809));
res += mul(Get(s1,dx,-dy), float4x4(0.026166049763560,-0.023832207545638,0.031424537301064,0.222311586141586,0.085847124457359,0.011925757862628,0.117574505507946,-0.113339506089687,0.017362043261528,-0.021447585895658,0.042057491838932,-0.067178085446358,-0.093174070119858,-0.024853760376573,-0.096595443785191,-0.047276481986046));
res += mul(Get(s1,dx,0), float4x4(0.187115207314491,0.054080437868834,-0.101493544876575,-0.150323241949081,0.104328326880932,-0.003000481287017,-0.044640444219112,-0.072308704257011,-0.029325606301427,0.035363014787436,-0.048727855086327,0.005226880777627,-0.043909464031458,-0.143085852265358,-0.041997924447060,-0.010086121968925));
res += mul(Get(s1,dx,dy), float4x4(-0.079997658729553,-0.047918684780598,0.055489949882030,0.087369680404663,0.017287001013756,-0.087332472205162,-0.012377229519188,0.040412500500679,0.092677541077137,-0.087313741445541,-0.195851847529411,-0.121813692152500,-0.043728817254305,-0.145225286483765,-0.031463321298361,0.015055350959301));
res += mul(Get(s2,-dx,-dy), float4x4(-0.044239595532417,0.044301223009825,-0.017970208078623,-0.087076343595982,0.209213137626648,0.117444947361946,-0.077750675380230,-0.144408717751503,0.012835421599448,0.171913459897041,-0.138893902301788,0.145501494407654,0.039010927081108,-0.113303005695343,0.009157619439065,0.141309574246407));
res += mul(Get(s2,-dx,0), float4x4(-0.102293744683266,-0.076775267720222,-0.035720702260733,-0.106175057590008,-0.027864756062627,-0.029876310378313,0.016371702775359,-0.043451692909002,0.040500309318304,0.071015261113644,0.084241069853306,-0.056167162954807,-0.065251611173153,0.007278027944267,-0.011917863041162,0.101786203682423));
res += mul(Get(s2,-dx,dy), float4x4(0.163664966821671,0.019327228888869,0.102243706583977,0.169163018465042,0.195173263549805,-0.172180175781250,0.026140181347728,0.017342101782560,-0.034290127456188,-0.062740638852119,0.082269147038460,0.004122130572796,0.004206970334053,0.039553694427013,0.154739722609520,-0.081675447523594));
res += mul(Get(s2,0,-dy), float4x4(-0.047629669308662,0.055348120629787,0.180273145437241,0.073688827455044,0.141016066074371,-0.198955371975899,-0.088017508387566,0.106330305337906,0.010222249664366,-0.054429680109024,-0.102825567126274,0.142668113112450,0.158076480031013,-0.243935316801071,0.027952900156379,0.136316031217575));
res += mul(Get(s2,0,0), float4x4(-0.067682921886444,-0.082618825137615,0.117136485874653,0.041054047644138,0.090189546346664,0.047942545264959,0.113615974783897,-0.054691541939974,-0.076764121651649,0.000854105805047,0.002771271392703,0.084601491689682,0.158098176121712,-0.156642436981201,-0.034101635217667,0.096816003322601));
res += mul(Get(s2,0,dy), float4x4(-0.030002558603883,0.098609261214733,-0.067825570702553,-0.088930703699589,-0.065294049680233,0.011243193410337,-0.164600729942322,-0.143034219741821,0.018995653837919,0.096654787659645,0.107160508632660,-0.100659176707268,-0.027983250096440,0.022872472181916,0.130915060639381,0.086809098720551));
res += mul(Get(s2,dx,-dy), float4x4(0.074497289955616,0.055672232061625,0.001700693159364,0.206771120429039,-0.045188829302788,-0.072656303644180,-0.113920658826828,0.055153936147690,0.118560671806335,0.022590113803744,-0.174617141485214,-0.029098238795996,0.089162208139896,-0.023883806541562,-0.025863574817777,0.007112797349691));
res += mul(Get(s2,dx,0), float4x4(0.173333585262299,-0.031615566462278,0.097398281097412,-0.042438667267561,0.003679779823869,-0.024952955543995,-0.009560444392264,-0.033291481435299,0.078952252864838,-0.027439912781119,-0.220213547348976,0.005186330527067,-0.265767931938171,-0.029076479375362,-0.037058956921101,-0.071365363895893));
res += mul(Get(s2,dx,dy), float4x4(0.137208372354507,-0.008593648672104,-0.034906987100840,-0.122823767364025,0.089684724807739,-0.023504996672273,0.013325745239854,0.004418896511197,-0.119227543473244,-0.076272822916508,0.117004610598087,-0.020108316093683,0.004608068149537,0.002135455608368,-0.088294915854931,-0.092724889516830));
res += mul(Get(s3,-dx,-dy), float4x4(-0.068206369876862,-0.137604013085365,-0.022488277405500,0.043663367629051,-0.094192937016487,0.010717702098191,-0.052834246307611,-0.079635679721832,-0.015400622040033,-0.001660441630520,0.048204071819782,0.050905004143715,0.102941282093525,-0.053523618727922,-0.220947191119194,0.188700735569000));
res += mul(Get(s3,-dx,0), float4x4(-0.213426291942596,0.045324057340622,-0.006678794510663,0.110886216163635,-0.108246974647045,-0.008829456754029,-0.156698256731033,0.091358244419098,-0.134905755519867,0.154655486345291,-0.099976785480976,0.115155883133411,-0.136759102344513,0.004903190769255,-0.005716749932617,0.158205375075340));
res += mul(Get(s3,-dx,dy), float4x4(0.063273198902607,0.078281797468662,0.012351348064840,-0.012877963483334,-0.099049590528011,0.059851396828890,0.037594880908728,0.143931761384010,-0.024808153510094,-0.106382012367249,0.056173834949732,0.002043870277703,0.083990707993507,-0.115125700831413,-0.108585171401501,0.099415294826031));
res += mul(Get(s3,0,-dy), float4x4(-0.056621614843607,-0.193599939346313,0.094507783651352,0.041265245527029,-0.067344613373280,0.001984629081562,0.026984797790647,-0.056629061698914,-0.025160958990455,-0.070328772068024,0.041989292949438,-0.066935427486897,-0.024554410949349,-0.221474304795265,0.031750872731209,0.110151894390583));
res += mul(Get(s3,0,0), float4x4(-0.156179100275040,0.029084503650665,0.142681896686554,-0.044204108417034,0.062380049377680,0.004758727271110,0.032603595405817,0.034113481640816,-0.005075792316347,-0.179129078984261,0.051934417337179,0.042608235031366,0.016206709668040,0.191658526659012,0.125018611550331,-0.076435700058937));
res += mul(Get(s3,0,dy), float4x4(-0.209572061896324,-0.048673097044230,-0.006224886979908,-0.062964782118797,0.056539393961430,0.090649038553238,0.001687765237875,-0.035680416971445,0.116034559905529,-0.169948995113373,0.140350222587585,0.128704607486725,-0.151026248931885,0.013074470683932,-0.007381757721305,0.030421549454331));
res += mul(Get(s3,dx,-dy), float4x4(-0.009742042981088,-0.053943380713463,-0.006462284829468,0.017896428704262,-0.117733262479305,0.077670536935329,-0.113424025475979,0.001233483548276,0.215675875544548,0.219684228301048,0.045663133263588,-0.000669531815220,0.153399884700775,-0.075541496276855,-0.124100551009178,0.000016737572878));
res += mul(Get(s3,dx,0), float4x4(0.268244415521622,0.008270097896457,-0.037641972303391,0.012400571256876,-0.050896387547255,-0.084838531911373,-0.119894891977310,0.046040389686823,0.072189837694168,0.015040568076074,0.012563590891659,-0.057867370545864,-0.004841664340347,-0.008040699176490,-0.172079414129257,0.109189398586750));
res += mul(Get(s3,dx,dy), float4x4(-0.008997893892229,0.102055877447128,0.007734599057585,0.065324395895004,0.048941127955914,0.020989587530494,0.003697823034599,-0.028711825609207,0.071694195270538,0.132841154932976,-0.075589507818222,-0.204972624778748,-0.037630505859852,0.167341366410255,-0.009458750486374,-0.031866572797298));
return max(float4(0,0,0,0), res);
}
