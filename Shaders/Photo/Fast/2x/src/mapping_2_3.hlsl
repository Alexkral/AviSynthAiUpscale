sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0123217590153217,0.0133078387007117,-0.2438143342733383,-0.1718235462903976);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0045264209620655,-0.0456747338175774,0.0971953421831131,-0.0611050985753536,0.0754186362028122,0.1237277835607529,-0.6953371763229370,-0.1962103396654129,-0.0661983862519264,-0.0131396194919944,0.0978043377399445,0.0212324503809214,0.0076670707203448,-0.0009834270458668,-0.0246353652328253,-0.0021650400012732));
res += mul(Get(s1,-dx,-dy), float4x4(0.1327108293771744,-0.0309453830122948,0.0112714348360896,0.1657375395298004,-0.1002539768815041,-0.0239645354449749,0.0535946115851402,0.0324181094765663,-0.1028661951422691,0.0122741432860494,-0.0335581451654434,0.0284453537315130,0.0076325563713908,-0.0270840451121330,0.1388308554887772,0.0420798622071743));
res += mul(Get(s2,-dx,-dy), float4x4(0.0437197908759117,0.1217035129666328,-0.0859023556113243,0.0615404620766640,0.4340553879737854,-0.1634264886379242,-1.0254913568496704,0.0981743335723877,0.0806033313274384,0.0706313103437424,-0.0514698326587677,-0.0001161459222203,0.0468407049775124,-0.0312432292848825,-0.2166636884212494,0.0764035657048225));
res += mul(Get(s0,-dx,0), float4x4(0.0208179429173470,-0.2788560092449188,-0.1028903350234032,0.0740390941500664,-0.5966679453849792,-0.2366163879632950,0.1331899315118790,0.0823650360107422,-0.0532891750335693,0.1341573297977448,-0.1381402760744095,0.2194108814001083,-0.0441947393119335,-0.1538005769252777,0.0270434059202671,0.0277405735105276));
res += mul(Get(s1,-dx,0), float4x4(-0.0053206067532301,0.0215664040297270,0.0929693803191185,0.1622220724821091,-0.0201004687696695,0.1066850423812866,-0.0216343477368355,0.1110649853944778,-0.0848315134644508,-0.2206434309482574,-0.1089455783367157,-0.2116381824016571,0.0078528076410294,0.0944413915276527,-0.0476072169840336,0.1171766296029091));
res += mul(Get(s2,-dx,0), float4x4(0.0004690991481766,-0.0539592280983925,-0.1276017427444458,-0.1978452354669571,0.2287601381540298,0.1719617247581482,-0.4178341925144196,0.3463797271251678,-0.0609023571014404,0.0470043867826462,0.0846873447299004,0.0048399539664388,0.0141538558527827,-0.0055219242349267,-0.1194728761911392,-0.2862623929977417));
res += mul(Get(s0,-dx,dy), float4x4(0.0881015211343765,-0.2751184999942780,-0.0197397693991661,0.0504686087369919,-0.1563918888568878,-0.0756405070424080,-0.1300774365663528,-0.0694965869188309,0.0320261009037495,-0.0895813107490540,0.0281250998377800,0.0013743129093200,-0.0257893260568380,-0.0878472477197647,-0.0746524780988693,0.0547035709023476));
res += mul(Get(s1,-dx,dy), float4x4(-0.0275124832987785,-0.0829355865716934,-0.0805649980902672,0.0036051131319255,-0.0427150875329971,0.0326229743659496,0.0873700752854347,-0.0120318839326501,-0.2041582316160202,0.0739234387874603,0.1755804419517517,-0.6585810780525208,-0.0382965356111526,-0.0225019901990891,0.1544465422630310,0.0302922297269106));
res += mul(Get(s2,-dx,dy), float4x4(-0.1003850474953651,0.0481563396751881,-0.1355281323194504,-0.1819978654384613,-0.1651528030633926,-0.0287006683647633,-0.2275661677122116,0.0558919459581375,-0.1357645392417908,0.1821404993534088,-0.0288377776741982,0.0849031135439873,0.0239608734846115,0.0289990324527025,0.0936981439590454,-0.0657658278942108));
res += mul(Get(s0,0,-dy), float4x4(-0.0815109238028526,-0.1653822660446167,-0.2577908337116241,-0.1955846995115280,0.0212424993515015,-0.0180136226117611,-0.3280794918537140,-0.2605833411216736,-0.1706481426954269,-0.4342389702796936,0.0362826511263847,0.2701535224914551,-0.1110331937670708,0.2296769767999649,0.1324410736560822,-0.1001952439546585));
res += mul(Get(s1,0,-dy), float4x4(-0.0306458361446857,0.0787329822778702,-0.1611645221710205,-0.2073056846857071,-0.1481752842664719,-0.0900409370660782,-0.1249685212969780,0.1590525060892105,0.1895996183156967,0.3552055656909943,-0.2788445949554443,-0.0095629096031189,-0.0880662724375725,-0.2547030448913574,0.0854150131344795,0.0049737417139113));
res += mul(Get(s2,0,-dy), float4x4(-0.0155066112056375,-0.0339469276368618,-0.3154111802577972,-0.1267927885055542,0.0113923270255327,-0.0116463927552104,0.0363246388733387,-0.1912902593612671,0.0412900894880295,0.0953413322567940,0.0723039805889130,-0.0374328680336475,0.0226295217871666,-0.0204909015446901,0.3918649554252625,-0.1161663308739662));
res += mul(Get(s0,0,0), float4x4(-0.7521485090255737,0.9964053630828857,-0.0705647841095924,0.1887758821249008,-0.3262858092784882,-0.1415852755308151,-0.6871122717857361,-0.4871397018432617,1.0896419286727905,0.4107771217823029,-0.8239468336105347,-0.2491722106933594,0.7587146162986755,0.2391419857740402,-0.0403505340218544,-0.0819200053811073));
res += mul(Get(s1,0,0), float4x4(0.0763798430562019,0.6398754119873047,0.1917434930801392,-0.4259719848632812,0.2577184736728668,-0.0920586436986923,-0.1526941955089569,0.3704496324062347,-0.4418431520462036,-0.0003483927575871,-0.1233403459191322,-0.3304560482501984,0.3567781150341034,-0.4778481125831604,-0.2717330753803253,-0.2214783877134323));
res += mul(Get(s2,0,0), float4x4(-0.0976672768592834,0.0659822896122932,0.5259347558021545,0.4116431474685669,0.2191525250673294,-0.1725803166627884,-0.0453725680708885,0.4723452329635620,0.0182103402912617,-0.0766320601105690,0.4281316697597504,0.1015604659914970,0.4080711901187897,-0.4381232857704163,0.0126526178792119,0.4879749715328217));
res += mul(Get(s0,0,dy), float4x4(-0.1628683060407639,-0.0321807153522968,-0.0215464588254690,0.1984411329030991,0.0105587029829621,-0.0329228453338146,0.2202306687831879,0.1463150233030319,0.0931332558393478,0.1653550267219543,0.0121048782020807,-0.0880064293742180,-0.1323737353086472,-0.1036018952727318,-0.0575686059892178,0.0258803907781839));
res += mul(Get(s1,0,dy), float4x4(-0.0614679269492626,0.1088962480425835,0.0524643436074257,-0.0392362959682941,0.0064820148982108,0.1323060691356659,0.0736733302474022,0.1585390716791153,0.4153363704681396,-0.0926397889852524,-0.0217799283564091,0.2395523637533188,0.0038608852773905,0.2616092562675476,0.1518592685461044,-0.2605206072330475));
res += mul(Get(s2,0,dy), float4x4(0.3267478942871094,-0.1141636297106743,-0.0143055561929941,0.0270647294819355,0.1095221638679504,-0.0402942523360252,0.0775644257664680,-0.0556442253291607,0.0674878507852554,0.0157881043851376,0.1044774949550629,-0.0201877448707819,0.0552905462682247,0.2668735980987549,0.0449677780270576,0.1279098987579346));
res += mul(Get(s0,dx,-dy), float4x4(0.0641632452607155,-0.0655218958854675,-0.0799990445375443,0.0252192392945290,-0.1040980890393257,-0.0430050939321518,-0.0148127702996135,0.0483381375670433,-0.0301338583230972,0.0984973683953285,0.1610230356454849,0.1523457765579224,-0.0754029974341393,-0.0391738116741180,0.0058916271664202,-0.1849398761987686));
res += mul(Get(s1,dx,-dy), float4x4(-0.0362600646913052,0.0159866008907557,0.0181229710578918,0.1162050291895866,-0.1607444286346436,-0.0829341709613800,-0.1292909681797028,0.1818100512027740,-0.0264899302273989,-0.0573232695460320,-0.0453326590359211,-0.1966696232557297,-0.1085610017180443,-0.1100217774510384,0.1368947625160217,0.0252473969012499));
res += mul(Get(s2,dx,-dy), float4x4(0.0116274384781718,0.0465242192149162,-0.0774966329336166,-0.0905278548598289,-0.0068565178662539,0.0766313672065735,0.0162037778645754,-0.1100356206297874,0.0278845075517893,-0.0071400166489184,-0.0463371947407722,0.1138074025511742,0.0832649543881416,0.0730898976325989,-0.1695661097764969,0.4737231731414795));
res += mul(Get(s0,dx,0), float4x4(-0.1209565177559853,-0.2117373496294022,0.1518782526254654,-0.8046170473098755,-0.1746377050876617,-0.0280288886278868,0.0937949493527412,-0.0101468302309513,0.3133807182312012,-0.1221967786550522,0.1506192237138748,0.0945280641317368,-0.2030786573886871,-0.0251868143677711,0.1004345864057541,-0.0779324546456337));
res += mul(Get(s1,dx,0), float4x4(0.1051194965839386,-0.0093597229570150,-0.1838729232549667,0.1524667292833328,-0.0336733981966972,-0.1079008653759956,-0.2187373191118240,0.2507704496383667,-0.0602864548563957,-0.1214859932661057,-0.0911667197942734,0.4108484387397766,0.3154167532920837,0.0136015126481652,0.0951552018523216,-0.0048840958625078));
res += mul(Get(s2,dx,0), float4x4(-0.1077921092510223,-0.0323003679513931,0.0591423325240612,0.1025198101997375,0.1191621497273445,0.0881853401660919,0.0269782729446888,0.0916044265031815,-0.0855901017785072,0.1865494549274445,-0.0241138711571693,0.3821527063846588,0.0053590065799654,-0.0049837613478303,-0.2690156996250153,-0.0151053499430418));
res += mul(Get(s0,dx,dy), float4x4(-0.1817640662193298,-0.1589621007442474,-0.0576123446226120,-0.3328259289264679,-0.1426433622837067,-0.0528422445058823,0.1128437891602516,-0.1048344299197197,0.0151000963523984,0.1504907160997391,0.1695479005575180,-0.1413597017526627,-0.0689901337027550,-0.1019203290343285,-0.0775418430566788,0.0943167358636856));
res += mul(Get(s1,dx,dy), float4x4(-0.0509051680564880,-0.0300516821444035,0.0712348669767380,0.0257050096988678,0.0545573160052299,-0.0317958332598209,-0.0252579487860203,0.2846868932247162,0.0303006079047918,-0.0934077277779579,-0.1238717287778854,0.1749836951494217,-0.0666690617799759,0.1599960923194885,0.2411346584558487,0.1135349646210670));
res += mul(Get(s2,dx,dy), float4x4(0.1293792873620987,0.0227800440043211,-0.0126470113173127,0.1843346208333969,0.1841157078742981,-0.0520067624747753,-0.0045211678370833,0.0304119884967804,-0.0124827288091183,0.1648514419794083,0.2433182001113892,0.3159842789173126,0.0520657114684582,0.0396204665303230,0.1320955306291580,-0.4064285159111023));
res = max(float4(0, 0, 0, 0), res) + float4(-0.1159693375229836,0.9727492928504944,0.2821964919567108,0.0913045778870583) * min(float4(0, 0, 0, 0), res);
return res;
}
