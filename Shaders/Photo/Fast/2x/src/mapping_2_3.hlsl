sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.045881494879723,0.146403133869171,-0.129501044750214,0.072141371667385);
res += mul(Get(s0,-dx,-dy), float4x4(-0.060538463294506,-0.376681834459305,-0.017892738804221,0.098079696297646,0.011176338419318,0.399397283792496,-0.006129640154541,-0.180135026574135,-0.090362511575222,0.054813459515572,0.017417121678591,0.008668922819197,-0.004869703669101,-0.112020485103130,0.010088638402522,0.044628344476223));
res += mul(Get(s0,-dx,0), float4x4(-0.031984500586987,0.173930853605270,0.025037173181772,0.034299775958061,-0.276614785194397,-0.020066505298018,-0.169653445482254,-0.174876824021339,0.008491693995893,-0.070242859423161,0.034768376499414,0.116447798907757,-0.008127596229315,-0.066804111003876,0.006140829995275,-0.005321705713868));
res += mul(Get(s0,-dx,dy), float4x4(0.102033101022243,0.024465050548315,0.147438287734985,-0.076167911291122,-0.258673876523972,-0.042472735047340,0.034889385104179,0.077630408108234,0.209197849035263,-0.082732453942299,0.163088127970695,0.161082178354263,0.076006978750229,0.070238821208477,-0.149197772145271,0.015011883340776));
res += mul(Get(s0,0,-dy), float4x4(-0.056108683347702,-0.100417897105217,-0.020687937736511,0.107776165008545,0.059940651059151,0.245237067341805,0.202850326895714,0.128997579216957,-0.258063733577728,0.277131140232086,-0.034708388149738,-0.076296187937260,0.145328849554062,-0.534708917140961,0.034804027527571,-0.092142365872860));
res += mul(Get(s0,0,0), float4x4(-0.496412277221680,0.075129628181458,0.196394771337509,-0.022309120744467,0.296155005693436,-0.321689933538437,-0.228867307305336,-0.229516714811325,0.260225206613541,-0.131086632609367,-0.113433234393597,-0.311780691146851,-0.055336795747280,0.382022529840469,-0.024496523663402,0.353138893842697));
res += mul(Get(s0,0,dy), float4x4(0.219676151871681,-0.049854055047035,0.186969056725502,0.156184241175652,-0.221085861325264,0.032438367605209,-0.099274307489395,-0.091518394649029,-0.246931597590446,0.192940428853035,-0.175747632980347,-0.104372777044773,-0.216155812144279,0.132595121860504,-0.045526582747698,-0.083720810711384));
res += mul(Get(s0,dx,-dy), float4x4(0.007323993369937,0.041145823895931,-0.067941270768642,0.003784733824432,-0.121497355401516,-0.023040138185024,0.163826748728752,0.074292756617069,-0.038884963840246,0.089582726359367,0.186825513839722,0.158680468797684,0.060932688415051,-0.059711076319218,0.083338432013988,-0.168676480650902));
res += mul(Get(s0,dx,0), float4x4(-0.004267727956176,-0.078335054218769,-0.550414502620697,0.035494949668646,-0.158486619591713,-0.081065498292446,-0.039642911404371,0.130804449319839,0.207512065768242,0.003871571505442,0.045954160392284,-0.084343068301678,0.043906409293413,-0.130183205008507,0.067121669650078,-0.293220847845078));
res += mul(Get(s0,dx,dy), float4x4(0.159907639026642,0.008578875102103,-0.247879043221474,0.063125111162663,0.078731410205364,0.102618455886841,0.053990017622709,0.089410409331322,0.118904642760754,-0.104947254061699,0.035899177193642,-0.131600856781006,0.104282908141613,0.007759686559439,0.010192611254752,0.102955579757690));
res += mul(Get(s1,-dx,-dy), float4x4(-0.099474884569645,-0.084411554038525,0.041851349174976,0.136489287018776,0.078449644148350,-0.085807286202908,0.010346161201596,-0.083528548479080,-0.048878069967031,-0.060253947973251,0.021003210917115,0.013954044319689,0.069298081099987,-0.004189400468022,-0.013967865146697,-0.074565500020981));
res += mul(Get(s1,-dx,0), float4x4(-0.247120738029480,0.003899141447619,-0.089241683483124,0.266080170869827,0.009326454252005,0.049755156040192,0.021366626024246,-0.136309042572975,-0.186019435524940,-0.030777798965573,0.046674489974976,0.213186725974083,0.164468020200729,-0.016004381701350,0.006927327718586,-0.184104442596436));
res += mul(Get(s1,-dx,dy), float4x4(0.131997406482697,-0.031120749190450,0.062433850020170,-0.029430579394102,-0.111191742122173,0.019508777186275,0.024095924571157,-0.210358753800392,-0.235080525279045,-0.031808163970709,0.093722209334373,-0.020939650014043,0.147882401943207,0.085544422268867,-0.021664572879672,0.069940060377121));
res += mul(Get(s1,0,-dy), float4x4(-0.077465154230595,-0.167893305420876,-0.013436452485621,-0.012224109843373,0.071626216173172,0.011728239245713,-0.065798915922642,-0.126040548086166,0.006820889655501,0.027858497574925,-0.009851541370153,0.098506651818752,-0.017752083018422,-0.265397965908051,0.098335422575474,0.402166992425919));
res += mul(Get(s1,0,0), float4x4(-0.146759226918221,-0.043867841362953,-0.071730248630047,-0.004769873339683,-0.007898197509348,0.016452617943287,-0.034146107733250,-0.248662918806076,-0.208091437816620,-0.028183009475470,0.148305952548981,0.136960774660110,0.107174135744572,0.046446714550257,0.124855361878872,0.027546986937523));
res += mul(Get(s1,0,dy), float4x4(0.178806275129318,0.145911708474159,-0.200755000114441,0.085559464991093,0.145239442586899,0.015386704355478,-0.109899662435055,-0.202757313847542,-0.203708514571190,0.038652203977108,-0.044852893799543,-0.126014560461044,-0.431960493326187,0.060544863343239,0.038692995905876,-0.166523978114128));
res += mul(Get(s1,dx,-dy), float4x4(-0.024201918393373,-0.014148823916912,0.418324559926987,0.074958860874176,-0.005183069035411,0.004562938585877,0.071242317557335,-0.174457877874374,-0.017998825758696,0.022469706833363,0.143725395202637,0.074274674057961,-0.004566054325551,-0.148983597755432,-0.066755995154381,-0.045228224247694));
res += mul(Get(s1,dx,0), float4x4(0.230959236621857,-0.054534602910280,0.156421735882759,-0.578293204307556,0.103689230978489,-0.001448853756301,-0.113795183598995,-0.339914649724960,-0.056765332818031,-0.039126034826040,0.182493045926094,-0.156419277191162,0.060966268181801,-0.010292593389750,-0.215795993804932,-0.006694295443594));
res += mul(Get(s1,dx,dy), float4x4(-0.239428400993347,0.010188939981163,-0.363213628530502,0.371090710163116,0.094426579773426,0.065677791833878,0.085779063403606,-0.288132220506668,-0.074706263840199,0.028381576761603,-0.050599854439497,-0.039857625961304,-0.245644718408585,0.026788905262947,0.034501217305660,-0.066080421209335));
res += mul(Get(s2,-dx,-dy), float4x4(-0.078243397176266,-0.099908031523228,0.055220481008291,0.138967424631119,0.055606588721275,0.205372974276543,0.034990709275007,0.035777144134045,-0.180484205484390,-0.045304071158171,0.122287377715111,0.147074550390244,0.222855210304260,0.137401357293129,0.093448169529438,0.065032616257668));
res += mul(Get(s2,-dx,0), float4x4(-0.152916759252548,-0.064431339502335,-0.048996366560459,0.097845271229744,0.012071374803782,-0.072107776999474,-0.087175808846951,0.162790745496750,-0.129558935761452,-0.002411311026663,-0.052615609019995,0.053362838923931,-0.107586897909641,-0.181060954928398,-0.093378543853760,-0.124619387090206));
res += mul(Get(s2,-dx,dy), float4x4(0.067122660577297,-0.019968032836914,-0.107390500605106,-0.369775027036667,-0.046262543648481,0.014718505553901,-0.053715098649263,0.027625735849142,-0.050716090947390,-0.014050098136067,0.001815287978388,-0.022881133481860,-0.108724474906921,0.135821908712387,-0.209330916404724,0.018633449450135));
res += mul(Get(s2,0,-dy), float4x4(-0.051550921052694,-0.370506346225739,0.102703839540482,-0.213561981916428,-0.075172662734985,0.695822775363922,0.089268051087856,0.242855623364449,-0.000178895235877,-0.024804888293147,0.078868627548218,-0.114985004067421,-0.131494194269180,-0.074316896498203,-0.044322058558464,-0.202071011066437));
res += mul(Get(s2,0,0), float4x4(0.041940398514271,0.254172027111053,0.253779113292694,0.021259587258101,0.156871244311333,-0.228794634342194,-0.173442721366882,-0.326557576656342,0.030107503756881,0.017067942768335,0.206079214811325,0.173876136541367,-0.215775907039642,0.037095181643963,-0.078050196170807,0.365005314350128));
res += mul(Get(s2,0,dy), float4x4(0.298980116844177,-0.168737962841988,0.581987798213959,0.297910064458847,-0.506643235683441,0.019570617005229,0.127637162804604,-0.186767905950546,0.204706445336342,-0.007113275118172,0.212828502058983,-0.085203856229782,0.032275043427944,-0.018621914088726,-0.038551013916731,-0.117018856108189));
res += mul(Get(s2,dx,-dy), float4x4(0.067911937832832,-0.052133277058601,0.083331562578678,-0.512251377105713,-0.094815522432327,0.152722150087357,-0.000610796734691,-0.126687541604042,-0.136928290128708,0.034405592828989,0.165927395224571,0.123994745314121,0.001211865688674,0.014981877990067,0.059365037828684,-0.160364180803299));
res += mul(Get(s2,dx,0), float4x4(0.040640581399202,0.063912473618984,-0.069916218519211,-0.403260111808777,-0.164064854383469,-0.045093048363924,-0.089341789484024,-0.065575391054153,-0.407599925994873,-0.082470931112766,-0.003260342171416,-0.032485056668520,0.080830402672291,-0.019643601030111,0.035321004688740,-0.112545847892761));
res += mul(Get(s2,dx,dy), float4x4(-0.012042751535773,0.008607125841081,-0.500836730003357,0.184899494051933,0.035988654941320,0.089157953858376,-0.340513288974762,0.015828689560294,-0.103753283619881,0.009070829488337,0.194519847631454,0.129450961947441,0.032003045082092,0.006463448051363,-0.290848433971405,-0.056050729006529));
res = max(float4(0, 0, 0, 0), res) + float4(0.900450706481934,-0.371820241212845,-0.387445211410522,-0.255162596702576) * min(float4(0, 0, 0, 0), res);
return res;
}
