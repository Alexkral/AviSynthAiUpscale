sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.147211030125618,0.225850284099579,-0.135910943150520,0.141632556915283);
res += mul(Get(s0,-dx,-dy), float4x4(0.102323547005653,0.007711009588093,-0.004333207849413,-0.077908359467983,-0.259321063756943,0.045343700796366,0.047697115689516,-0.031589787453413,-0.156654328107834,-0.095778413116932,-0.000093249080237,-0.032075282186270,-0.129667654633522,-0.117422528564930,0.069729320704937,0.084887064993382));
res += mul(Get(s0,-dx,0), float4x4(-0.008566294796765,-0.181866481900215,-0.182237476110458,0.432699352502823,0.309893608093262,0.100568048655987,0.154575735330582,-0.055373404175043,0.179734870791435,0.018425844609737,0.079109340906143,0.261879682540894,-0.013226945884526,-0.020569439977407,-0.062210988253355,0.006051670759916));
res += mul(Get(s0,-dx,dy), float4x4(0.208799824118614,0.039121575653553,-0.240240007638931,-0.028065400198102,0.083151176571846,0.057556159794331,0.185635864734650,-0.103407651185989,-0.047284010797739,0.135004490613937,-0.073641024529934,0.003359385998920,-0.014466941356659,-0.095871478319168,-0.136332958936691,0.102059476077557));
res += mul(Get(s0,0,-dy), float4x4(-0.032849732786417,0.119112893939018,0.011120606213808,-0.259691208600998,-0.074821472167969,0.156458348035812,0.190595388412476,0.039425220340490,-0.228482842445374,-0.220035105943680,-0.130029067397118,0.132064297795296,0.132892504334450,0.130286380648613,0.027950178831816,0.154169067740440));
res += mul(Get(s0,0,0), float4x4(-0.021727465093136,-0.148976624011993,-0.247922420501709,0.401860147714615,0.203126147389412,0.809821307659149,-0.259098798036575,0.208753585815430,0.084590643644333,0.128584980964661,-0.046183992177248,0.017750002443790,-0.446883976459503,-0.645267069339752,0.103762000799179,-0.267877161502838));
res += mul(Get(s0,0,dy), float4x4(-0.127913802862167,-0.033488105982542,0.045911967754364,-0.082426197826862,-0.167868599295616,-0.226645201444626,-0.094944715499878,-0.535429656505585,-0.200796395540237,-0.007685358170420,-0.213570535182953,0.070244222879410,0.328795731067657,0.318850487470627,0.228191107511520,0.531602621078491));
res += mul(Get(s0,dx,-dy), float4x4(0.166501536965370,0.040160734206438,-0.016025520861149,0.069657862186432,0.046568974852562,0.026957847177982,-0.219337671995163,0.093313626945019,-0.158314362168312,-0.173521161079407,0.057822782546282,0.039916865527630,-0.029957953840494,-0.058474652469158,-0.042206723242998,-0.068244002759457));
res += mul(Get(s0,dx,0), float4x4(0.034462016075850,-0.138851374387741,0.163473591208458,0.024553060531616,-0.069321572780609,-0.114272072911263,-0.243993803858757,0.162426650524139,-0.327871978282928,-0.348876357078552,0.004056572448462,0.223954573273659,0.238851562142372,0.005919987335801,0.045021951198578,0.017196428030729));
res += mul(Get(s0,dx,dy), float4x4(-0.097021177411079,-0.035304799675941,0.038010478019714,-0.031913843005896,-0.056668125092983,-0.038029279559851,-0.238162934780121,-0.184216961264610,-0.026090083643794,0.071637928485870,-0.176890507340431,0.021037306636572,-0.148364394903183,-0.069561474025249,-0.071093149483204,0.127494812011719));
res += mul(Get(s1,-dx,-dy), float4x4(-0.139876469969749,0.044129513204098,-0.026851732283831,-0.107335262000561,-0.149726361036301,0.139330461621284,-0.010902582667768,-0.017713688313961,-0.036888983100653,-0.218284949660301,0.108734272420406,-0.004109683912247,0.099419556558132,-0.016717370599508,0.013847862370312,-0.086685746908188));
res += mul(Get(s1,-dx,0), float4x4(0.044721297919750,0.180205091834068,-0.068555705249310,-0.114895924925804,-0.201890811324120,-0.114859260618687,-0.035164237022400,0.017282834276557,-0.306840747594833,-0.847254633903503,0.112405747175217,-0.359603106975555,-0.219203561544418,-0.114618226885796,0.191913619637489,0.468475759029388));
res += mul(Get(s1,-dx,dy), float4x4(0.048495288938284,0.071916408836842,-0.093754924833775,-0.035161327570677,-0.134427338838577,-0.039764523506165,0.072277933359146,-0.004679449368268,0.057089131325483,-0.221816882491112,0.134555473923683,-0.125111535191536,0.011691438034177,-0.163859754800797,-0.096028476953506,0.052956111729145));
res += mul(Get(s1,0,-dy), float4x4(-0.205972135066986,-0.434243589639664,0.006947881076485,0.028826804831624,-0.277826756238937,0.008154614828527,0.028743157163262,-0.171839565038681,-0.049192894250154,-0.122958704829216,0.089074648916721,0.079034350812435,-0.214001849293709,-0.025482622906566,0.078633494675159,-0.082793414592743));
res += mul(Get(s1,0,0), float4x4(-0.301451176404953,-0.387738317251205,-0.179353922605515,0.205593511462212,-0.116829365491867,-0.248040735721588,-0.027841983363032,-0.015202837996185,0.125833645462990,-0.585958302021027,0.006195017136633,-0.117682129144669,0.002793482271954,0.071782313287258,-0.190124213695526,-0.333076059818268));
res += mul(Get(s1,0,dy), float4x4(0.114443160593510,-0.025910103693604,-0.416585445404053,-0.098495513200760,-0.314843833446503,0.073793269693851,0.062893182039261,-0.045284464955330,0.171197339892387,-0.084308497607708,-0.279134541749954,-0.175752073526382,0.119386173784733,0.077959239482880,0.248276695609093,-0.070668302476406));
res += mul(Get(s1,dx,-dy), float4x4(0.206217020750046,0.067618340253830,-0.110477782785892,0.115617781877518,-0.150330170989037,0.047288890928030,-0.067494124174118,-0.124823883175850,-0.023694541305304,-0.062403526157141,-0.081657871603966,-0.038784433156252,0.047389537096024,0.052320789545774,0.057945262640715,-0.035877548158169));
res += mul(Get(s1,dx,0), float4x4(0.297360956668854,0.191969886422157,0.161350965499878,-0.515076398849487,-0.231321513652802,-0.018051480874419,-0.066701620817184,-0.241959229111671,0.081108860671520,-0.093928657472134,0.025743121281266,-0.017366020008922,0.130204543471336,0.127962008118629,0.126797363162041,-0.241127118468285));
res += mul(Get(s1,dx,dy), float4x4(-0.051705926656723,-0.075964234769344,0.339797526597977,-0.019380545243621,-0.217389807105064,0.122417539358139,0.118643246591091,-0.075407162308693,0.138972386717796,0.050636228173971,-0.146968752145767,-0.119148939847946,0.053414806723595,0.032330293208361,0.204927340149879,-0.114175163209438));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029124004766345,0.003045309800655,-0.035273443907499,0.001271187560633,0.161286026239395,0.028821606189013,0.016668520867825,-0.015207475982606,0.066220909357071,0.024359721690416,-0.018491379916668,0.024460777640343,0.170760691165924,0.303654164075851,-0.024661378934979,0.091958679258823));
res += mul(Get(s2,-dx,0), float4x4(0.098688051104546,0.140613749623299,-0.087928213179111,0.021197423338890,-0.039811525493860,-0.011146835982800,0.062215309590101,0.059116058051586,0.102349348366261,-0.041467022150755,-0.017130102962255,-0.116321109235287,0.128839746117592,0.571187019348145,-0.260238826274872,0.319608330726624));
res += mul(Get(s2,-dx,dy), float4x4(0.162660449743271,-0.022106798365712,-0.273492962121964,0.045137796550989,-0.082418903708458,-0.250685274600983,-0.080537535250187,0.013889523223042,-0.028854090720415,-0.000730118714273,-0.023438971489668,-0.057845614850521,0.000768600963056,-0.343496620655060,-0.483600944280624,-0.040679145604372));
res += mul(Get(s2,0,-dy), float4x4(-0.001451940974221,0.001147814211436,-0.146059796214104,-0.013438833877444,0.159475594758987,0.045164007693529,-0.033534470945597,-0.162780553102493,-0.044748533517122,-0.203282535076141,0.081755176186562,0.228850781917572,-0.036449171602726,-0.126329720020294,0.056149661540985,-0.105767473578453));
res += mul(Get(s2,0,0), float4x4(0.211914002895355,0.029642220586538,-0.157290980219841,0.255712509155273,-0.232690334320068,-0.084250897169113,0.040905341506004,0.214835748076439,0.019924882799387,-0.100049398839474,0.180186823010445,-0.086226657032967,0.077430181205273,-0.513342857360840,0.184874102473259,-0.076874159276485));
res += mul(Get(s2,0,dy), float4x4(-0.040253955870867,0.049856510013342,-0.057786036282778,-0.125667974352837,0.982526302337646,0.298125445842743,-0.300550013780594,0.955876886844635,-0.065211899578571,0.073094777762890,0.038050889968872,0.059507116675377,-0.126490876078606,-0.178743764758110,0.013739163056016,-0.003590441541746));
res += mul(Get(s2,dx,-dy), float4x4(0.062007300555706,0.133705765008926,0.054520044475794,0.131710201501846,-0.055450275540352,0.133533686399460,-0.070828318595886,-0.001211461494677,-0.238056451082230,0.126319289207458,0.427519887685776,0.080939434468746,0.124940790235996,-0.043540950864553,0.030472941696644,-0.014868044294417));
res += mul(Get(s2,dx,0), float4x4(-0.205833762884140,0.203906983137131,0.491162806749344,0.038801755756140,-0.086774826049805,-0.051236409693956,0.025475459173322,-0.101205781102180,-0.223789915442467,-0.132558256387711,0.464249342679977,0.035090267658234,0.059027906507254,-0.002595377154648,0.153739258646965,-0.044811598956585));
res += mul(Get(s2,dx,dy), float4x4(0.004712603520602,0.144307360053062,0.425925433635712,0.122845314443111,-0.273701190948486,0.102308079600334,0.375296413898468,-0.220429062843323,0.005537541583180,0.038366980850697,0.309713184833527,0.062482707202435,-0.009585424326360,-0.050078701227903,0.202079564332962,-0.032150443643332));
res = max(float4(0, 0, 0, 0), res) + float4(0.845567464828491,0.206605181097984,-0.163464561104774,0.920310080051422) * min(float4(0, 0, 0, 0), res);
return res;
}
