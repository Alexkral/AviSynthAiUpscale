sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.1346543282270432,-0.0262335389852524,-0.1709561645984650,-0.0015930879162624);
res += mul(Get(s0,-dx,-dy), float4x4(-0.2598103880882263,-0.0100767435505986,-0.1514880061149597,0.0174245145171881,0.0723265111446381,-0.0916384980082512,0.0337037332355976,-0.0644247457385063,0.3637078106403351,0.0196305122226477,0.2197035849094391,-0.0959120094776154,-0.2720285654067993,0.0274577736854553,-0.1356884390115738,0.0654748603701591));
res += mul(Get(s1,-dx,-dy), float4x4(0.0498453900218010,0.1283850669860840,-0.0683078318834305,-0.0272650178521872,-0.1668247431516647,0.0401737540960312,-0.0310262069106102,0.0743248388171196,-0.2071192711591721,-0.1103151440620422,-0.0997137352824211,0.1919949352741241,0.1248706653714180,0.0437516644597054,0.0831868648529053,0.0111187025904655));
res += mul(Get(s2,-dx,-dy), float4x4(0.1364334076642990,0.0198023878037930,-0.0616258829832077,0.0494666434824467,0.4522412419319153,0.1785471886396408,0.2556196749210358,-0.1470001786947250,0.0275064483284950,-0.0176133606582880,-0.0370034649968147,-0.0175791401416063,0.1068503260612488,0.0009381723939441,-0.0718765333294868,-0.0422505661845207));
res += mul(Get(s0,-dx,0), float4x4(0.0461639910936356,0.0353274121880531,-0.3136898577213287,0.1815224587917328,-0.1466528177261353,0.1368887871503830,0.1452446430921555,-0.0970183759927750,-0.0843014568090439,0.4278694689273834,0.0852873101830482,-0.0531708523631096,-0.0088045625016093,-0.0286504272371531,-0.1263478100299835,0.0658506527543068));
res += mul(Get(s1,-dx,0), float4x4(-0.2097417116165161,0.2823205888271332,0.1221720352768898,-0.1045452505350113,-0.2285424768924713,0.0242830049246550,0.1353882998228073,0.0139562357217073,-0.1323209553956985,-0.2358957529067993,-0.2686505317687988,0.2642396390438080,0.1325848698616028,0.1699165254831314,0.0144630596041679,-0.0582662634551525));
res += mul(Get(s2,-dx,0), float4x4(0.2225082516670227,-0.1217977702617645,-0.2766201198101044,0.1759928911924362,0.5495731830596924,0.9284087419509888,-0.3206292986869812,-0.3186716735363007,0.0807571485638618,-0.0552113652229309,0.1841168552637100,-0.1224808841943741,0.0857484787702560,-0.0722342506051064,0.1462550014257431,-0.2566420137882233));
res += mul(Get(s0,-dx,dy), float4x4(0.0157397221773863,0.0935833901166916,-0.0534978322684765,0.0841838866472244,-0.3954900205135345,0.0109736882150173,0.0365653187036514,0.0524256788194180,0.0115513000637293,-0.0578439384698868,-0.0547704920172691,0.0798639506101608,-0.0153751531615853,-0.0121598690748215,-0.0250568836927414,0.0101634040474892));
res += mul(Get(s1,-dx,dy), float4x4(-0.0119113083928823,0.0916665121912956,-0.0300555918365717,-0.1230787262320518,-0.0789522826671600,0.0242831371724606,-0.0482426844537258,0.0140936337411404,0.1654893904924393,-0.3735724091529846,0.0765394419431686,0.1151250824332237,-0.1191115751862526,-0.0622526146471500,-0.1028931066393852,0.0477168038487434));
res += mul(Get(s2,-dx,dy), float4x4(0.1786892563104630,-0.0997943580150604,0.0676214024424553,0.0051318667829037,-0.0628963038325310,0.0996209532022476,0.1000849083065987,-0.0207868721336126,-0.1035674959421158,0.1291611492633820,0.1893583983182907,-0.1791618019342422,0.1705061495304108,0.1937308758497238,0.0587295070290565,-0.0541954562067986));
res += mul(Get(s0,0,-dy), float4x4(-0.0870753973722458,-0.0578025728464127,0.2005196362733841,-0.0931941494345665,-0.0901947170495987,0.1250973492860794,0.0258224364370108,-0.2053173780441284,0.2623067796230316,0.0874167978763580,0.0047693615779281,0.1636400371789932,-0.2424368411302567,-0.0905449464917183,0.0772135108709335,0.0060079596005380));
res += mul(Get(s1,0,-dy), float4x4(0.1664139479398727,-0.2165158540010452,-0.0717465132474899,-0.2363352030515671,-0.3417924940586090,0.0022923534270376,0.0427932292222977,0.0561542622745037,-0.1293246895074844,-0.0816337689757347,0.0592291615903378,0.1744516938924789,0.0585571192204952,0.0519862361252308,-0.3034632802009583,0.1408792287111282));
res += mul(Get(s2,0,-dy), float4x4(-0.2800017595291138,-0.0517291761934757,-0.0278340335935354,-0.0559932067990303,-0.0096430797129869,0.0794361755251884,0.1193561851978302,-0.0938364192843437,0.0254244916141033,-0.0495672486722469,-0.0274317804723978,-0.0133505659177899,-0.2305990755558014,-0.0961893424391747,0.1227245926856995,-0.0868226066231728));
res += mul(Get(s0,0,0), float4x4(-0.1783659309148788,-0.1086523011326790,0.7374075055122375,-0.0909070670604706,-0.2211647629737854,-0.1418332606554031,0.0262635778635740,0.3653619289398193,0.2870444953441620,-0.7494310736656189,-0.8826118707656860,0.4029945135116577,-0.0374530442059040,0.0614386871457100,0.4566321671009064,-0.1242071986198425));
res += mul(Get(s1,0,0), float4x4(0.2154318243265152,-0.9938946962356567,-0.2152288109064102,0.7960154414176941,-0.1665841341018677,0.2543296813964844,0.1277888417243958,0.1391651481389999,0.1556314229965210,-0.2338966578245163,-0.6122418642044067,-0.6274171471595764,0.1225923225283623,-0.1831331402063370,0.0720296651124954,0.0256666094064713));
res += mul(Get(s2,0,0), float4x4(-1.0633993148803711,0.1768036633729935,0.0370008535683155,-0.3200033307075500,-0.4154393076896667,-0.1409902721643448,0.1760708689689636,0.1580868214368820,0.0715222358703613,0.1215484589338303,0.0278277881443501,-0.0094254864379764,0.1836894303560257,-0.2676847279071808,-1.0457032918930054,0.3947626352310181));
res += mul(Get(s0,0,dy), float4x4(-0.0577467046678066,0.0439201779663563,0.2025403082370758,0.0484584905207157,-0.5631042122840881,0.0389659069478512,-0.1056935936212540,0.2028085440397263,-0.0154863651841879,0.1697818487882614,0.2225313484668732,-0.1376871317625046,0.0384269133210182,-0.0464228391647339,-0.0489497408270836,-0.0067884093150496));
res += mul(Get(s1,0,dy), float4x4(0.1422811895608902,-0.1802007108926773,0.1129211485385895,0.2840199470520020,-0.0422912575304508,0.1370569318532944,0.1040638238191605,-0.0020958159584552,0.1651181131601334,0.0694593191146851,-0.1775647550821304,-0.2468529790639877,-0.0394025892019272,0.0347772501409054,0.1340703070163727,-0.1674928367137909));
res += mul(Get(s2,0,dy), float4x4(0.1918055713176727,0.0063398685306311,-0.2365288436412811,0.0264711119234562,0.1729829609394073,-0.1788527518510818,-0.0064931185916066,-0.1404432058334351,-0.0735170170664787,-0.1977644264698029,-0.1934754103422165,0.1810362040996552,-0.0652026534080505,0.0634956210851669,0.4159735143184662,0.2287169396877289));
res += mul(Get(s0,dx,-dy), float4x4(0.0644287690520287,0.2067602127790451,-0.0525046773254871,0.2855610847473145,-0.0842079743742943,-0.0934509038925171,-0.0194343775510788,-0.0110333980992436,0.2565914690494537,-0.1553265899419785,-0.1215537264943123,-0.1773778200149536,-0.2380359321832657,0.0229459926486015,0.0006740387179889,0.0135421529412270));
res += mul(Get(s1,dx,-dy), float4x4(-0.0498751588165760,0.0825164616107941,0.1173436865210533,-0.0442531593143940,-0.1394299417734146,-0.0642056316137314,0.0326893478631973,-0.0900687724351883,-0.0241314172744751,0.2046592086553574,0.0577403418719769,0.0382425934076309,0.0936290994286537,-0.0583443492650986,-0.0120139839127660,-0.1852839589118958));
res += mul(Get(s2,dx,-dy), float4x4(0.1752244979143143,0.0435962006449699,0.0931130796670914,-0.0438623055815697,-0.1905586868524551,-0.1070693358778954,0.0400313660502434,-0.3332281410694122,-0.0455852635204792,0.0391580983996391,0.0169793311506510,-0.0270609874278307,0.3895931243896484,0.1324347853660583,-0.0397977195680141,-0.1497191786766052));
res += mul(Get(s0,dx,0), float4x4(-0.1087445691227913,-0.0764857530593872,-0.1678462475538254,-0.5626021623611450,-0.1374340802431107,-0.0011243679327890,0.0156442821025848,0.0266090724617243,-0.0709573403000832,0.0651401281356812,-0.2221242189407349,-0.3141262531280518,0.0113072730600834,-0.0112442150712013,-0.0801785066723824,-0.1046569496393204));
res += mul(Get(s1,dx,0), float4x4(0.0927867516875267,0.1523308604955673,-0.0206349268555641,0.0536293424665928,0.0345195941627026,-0.0211370196193457,0.0641549825668335,0.0325661376118660,0.2229678779840469,0.1733357608318329,-0.1025819182395935,-0.3247691392898560,0.1236814707517624,-0.1885250061750412,-0.1641823798418045,-0.0822955667972565));
res += mul(Get(s2,dx,0), float4x4(0.1407621353864670,-0.1481478214263916,0.0294433739036322,-0.0144265480339527,0.2431051731109619,-0.2724120020866394,-0.0910492092370987,0.2452757805585861,0.0323543436825275,-0.0455384366214275,0.1055746227502823,0.0745432451367378,0.1077380776405334,0.1013842150568962,0.0942696332931519,0.3375599086284637));
res += mul(Get(s0,dx,dy), float4x4(0.0698396265506744,-0.1582706123590469,0.0898758471012115,-0.2394904345273972,-0.1588424742221832,0.0296265482902527,-0.0206444710493088,-0.0436625406146049,-0.0011355828028172,-0.0469030365347862,0.0629606246948242,-0.0321272052824497,0.0343991182744503,-0.0057386835105717,-0.0258444044739008,-0.0106515726074576));
res += mul(Get(s1,dx,dy), float4x4(-0.0472817271947861,0.0972174778580666,-0.0717796161770821,-0.1844962984323502,0.0318321399390697,0.0623063966631889,0.0703641325235367,-0.0549228750169277,0.0669413059949875,0.0815458446741104,0.1009796708822250,0.0338714569807053,-0.1706593930721283,0.1808533966541290,0.1246981993317604,0.0750298500061035));
res += mul(Get(s2,dx,dy), float4x4(0.1330264508724213,0.0381932407617569,-0.0210630707442760,0.0479789599776268,0.0977549925446510,0.0057850349694490,-0.1979581266641617,0.1152996122837067,-0.1195591464638710,0.1098882183432579,-0.0413380153477192,0.1648663133382797,0.0086935432627797,-0.1175520122051239,0.0027590277604759,-0.3318621218204498));
res = max(float4(0, 0, 0, 0), res) + float4(-0.1170705035328865,-0.1637496650218964,1.1734629869461060,-0.7317621707916260) * min(float4(0, 0, 0, 0), res);
return res;
}
