sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.031073844060302,0.088465794920921,-0.161112114787102,0.204165145754814);
res += float4(-0.020301096141338,-0.056201495230198,-0.104875735938549,-0.018475752323866) * Get(-ddx,-ddy);
res += float4(0.007001393008977,-0.001930627506226,0.004715670365840,-0.026304800063372) * Get(-ddx,-dy);
res += float4(0.012197127565742,0.001837520627305,0.050960943102837,-0.008818422444165) * Get(-ddx,0);
res += float4(-0.034277610480785,0.025639677420259,0.023748122155666,-0.031603217124939) * Get(-ddx,dy);
res += float4(0.020653456449509,0.034542433917522,0.031954362988472,0.006643583998084) * Get(-ddx,ddy);
res += float4(0.035024419426918,0.111868023872375,0.026607045903802,0.017368873581290) * Get(-dx,-ddy);
res += float4(0.036153271794319,-0.032127048820257,0.459639340639114,0.104523792862892) * Get(-dx,-dy);
res += float4(0.130074232816696,0.724624633789063,0.145273059606552,-0.034138541668653) * Get(-dx,0);
res += float4(-0.147291302680969,-0.159440010786057,-0.061674386262894,0.007206223905087) * Get(-dx,dy);
res += float4(0.011862965300679,0.110689222812653,-0.068861283361912,0.013772199861705) * Get(-dx,ddy);
res += float4(-0.018194779753685,-0.094706930220127,0.301402300596237,0.089075900614262) * Get(0,-ddy);
res += float4(-0.145212501287460,0.364260494709015,0.301900058984756,-0.169319897890091) * Get(0,-dy);
res += float4(0.639012992382050,-0.771593630313873,-0.792288184165955,-1.699915885925293) * Get(0,0);
res += float4(0.497956901788712,-0.124834083020687,-0.013756729662418,0.169025585055351) * Get(0,dy);
res += float4(-0.015116335824132,-0.175430610775948,-0.045503899455070,-0.021291175857186) * Get(0,ddy);
res += float4(0.022974042221904,0.040367312729359,0.007945087738335,0.017494633793831) * Get(dx,-ddy);
res += float4(-0.218003213405609,-0.265414565801620,0.030307851731777,0.135970816016197) * Get(dx,-dy);
res += float4(-0.674659252166748,0.240212947130203,-0.212739780545235,0.046625073999166) * Get(dx,0);
res += float4(-0.158124655485153,0.026293581351638,0.022510441020131,0.062691047787666) * Get(dx,dy);
res += float4(0.019440311938524,0.034150566905737,0.036216519773006,-0.018126619979739) * Get(dx,ddy);
res += float4(-0.003605345962569,-0.046144355088472,0.010068314149976,-0.046993002295494) * Get(ddx,-ddy);
res += float4(0.107597433030605,0.038733735680580,-0.060280721634626,0.057212315499783) * Get(ddx,-dy);
res += float4(-0.031460918486118,-0.114438034594059,-0.002152684843168,0.090708494186401) * Get(ddx,0);
res += float4(-0.013204461894929,0.057526156306267,0.047613386064768,0.022802818566561) * Get(ddx,dy);
res += float4(-0.049340661615133,-0.017814842984080,0.001073726685718,-0.003210829105228) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.238331481814384,0.685310184955597,0.049875821918249,-0.035775840282440) * min(float4(0, 0, 0, 0), res);
return res;
}
