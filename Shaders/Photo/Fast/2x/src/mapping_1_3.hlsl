sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.041560731828213,-0.606952250003815,-0.035847526043653,-0.108849562704563);
res += mul(Get(s0,-dx,-dy), float4x4(-0.289042770862579,-0.740218937397003,0.194630324840546,0.009050443768501,-0.059946637600660,0.190836831927299,0.119006730616093,0.039111003279686,0.039559774100780,-0.107779607176781,-0.090730093419552,0.124739050865173,-0.190854325890541,-0.055063251405954,0.092597387731075,-0.213703021407127));
res += mul(Get(s0,-dx,0), float4x4(-0.320196866989136,-0.189085781574249,0.230645179748535,-0.095212489366531,0.041792817413807,0.037380062043667,0.122230447828770,-0.051511958241463,0.222572922706604,0.006146762054414,-0.074343129992485,0.061475515365601,0.067425154149532,0.061040207743645,-0.375956058502197,-0.213059052824974));
res += mul(Get(s0,-dx,dy), float4x4(-0.341020435094833,0.074584893882275,0.128247767686844,0.095770284533501,-0.009727570228279,-0.014860089868307,-0.188138857483864,-0.008042337372899,0.015177228488028,0.052072908729315,-0.104911468923092,0.064783848822117,0.139097377657890,0.157464027404785,-0.448300510644913,-0.275226533412933));
res += mul(Get(s0,0,-dy), float4x4(0.045784641057253,0.408805578947067,-0.316522985696793,0.221171543002129,-0.059487074613571,-0.623856067657471,-0.217259645462036,-0.142922967672348,-0.013524487614632,-0.606250584125519,0.198292672634125,0.095334425568581,0.193489804863930,0.167780220508575,-0.002331313677132,-0.205232441425323));
res += mul(Get(s0,0,0), float4x4(0.243126273155212,-0.357547789812088,-0.268433481454849,0.106574930250645,-0.306915342807770,0.221649810671806,0.274579614400864,0.043518651276827,0.114232420921326,-0.029541013762355,0.051353681832552,0.052059389650822,-0.108052082359791,0.258639872074127,0.074308261275291,-0.374779731035233));
res += mul(Get(s0,0,dy), float4x4(-0.091833263635635,0.132489919662476,-0.059373684227467,0.099100828170776,0.091823175549507,-0.097550429403782,0.319202303886414,-0.015671381726861,-0.114583447575569,0.228173211216927,-0.195572897791862,0.255199998617172,0.109536208212376,-0.030887063592672,0.183966740965843,-0.143936187028885));
res += mul(Get(s0,dx,-dy), float4x4(-0.038326270878315,0.188471585512161,0.042705800384283,0.007637401577085,-0.176433593034744,0.267204523086548,0.011751255020499,-0.032428484410048,0.120082490146160,-0.063171207904816,-0.095927409827709,0.079444915056229,-0.058178443461657,0.065665528178215,-0.058387283235788,-0.265671491622925));
res += mul(Get(s0,dx,0), float4x4(0.174752622842789,-0.275148719549179,0.100597001612186,-0.553961932659149,0.392151147127151,-0.023483961820602,-0.199737623333931,0.286740183830261,-0.024008914828300,0.192584350705147,0.011425989679992,-0.143275454640388,-0.235960200428963,0.081823326647282,-0.024617059156299,1.020447850227356));
res += mul(Get(s0,dx,dy), float4x4(-0.105683371424675,0.129741922020912,-0.017215136438608,0.021635444834828,0.151220917701721,-0.129153773188591,-0.137134626507759,0.021114826202393,-0.064058244228363,0.120949849486351,-0.114031136035919,-0.193787738680840,0.038160007447004,0.220419436693192,-0.066493839025497,0.201647400856018));
res += mul(Get(s1,-dx,-dy), float4x4(-0.042118784040213,-0.187845990061760,0.060109645128250,-0.106769815087318,-0.066370271146297,0.164395242929459,0.090420976281166,-0.037058241665363,-0.102564394474030,0.673608958721161,0.033316444605589,0.109801262617111,0.065546177327633,0.162653267383575,-0.017043586820364,-0.048997182399035));
res += mul(Get(s1,-dx,0), float4x4(-0.290802180767059,0.153414219617844,-0.143370330333710,0.036283738911152,-0.068513900041580,0.106517516076565,0.080590173602104,0.026094745844603,0.244144588708878,0.001158800907433,-0.228961929678917,-0.295345574617386,-0.113557256758213,0.104070134460926,0.004632870666683,-0.010619007050991));
res += mul(Get(s1,-dx,dy), float4x4(0.034672234207392,0.096104688942432,-0.212149724364281,-0.051272124052048,0.183418229222298,0.053863987326622,-0.170631051063538,0.009837051853538,-0.028584757819772,-0.047879926860332,-0.168081358075142,0.096037462353706,-0.259243965148926,0.114689618349075,-0.025441350415349,0.073643624782562));
res += mul(Get(s1,0,-dy), float4x4(0.145226642489433,-0.461857497692108,-0.109716467559338,-0.049665275961161,-0.135180309414864,0.291514247655869,0.063849948346615,0.045972086489201,-0.095270559191704,0.381313294172287,0.056050498038530,-0.009034401737154,0.050424035638571,-0.052910484373569,0.015439989976585,0.064640901982784));
res += mul(Get(s1,0,0), float4x4(-0.424994260072708,0.069403886795044,0.291081219911575,0.065410822629929,-0.193051069974899,0.459212601184845,0.047127634286880,-0.154427796602249,0.139347374439240,-0.242556840181351,0.158843189477921,0.449326276779175,-0.390223979949951,-0.229281216859818,-0.138337984681129,0.099704153835773));
res += mul(Get(s1,0,dy), float4x4(0.084678009152412,0.170976132154465,0.613570988178253,-0.087071277201176,0.415295541286469,-0.016632910817862,0.137602716684341,-0.169684231281281,0.107374034821987,-0.093419961631298,0.157117739319801,-0.155657336115837,-0.640734553337097,0.013172824867070,-0.260633945465088,0.051357463002205));
res += mul(Get(s1,dx,-dy), float4x4(0.007001500576735,0.224121645092964,-0.056142129004002,-0.243063300848007,0.105279199779034,-0.099402800202370,-0.127140745520592,-0.028104517608881,-0.036019127815962,-0.042772319167852,-0.049316097050905,-0.084176674485207,-0.007343859411776,-0.180710747838020,-0.034161139279604,-0.108386881649494));
res += mul(Get(s1,dx,0), float4x4(0.011664780788124,-0.041223935782909,-0.242483660578728,0.675376355648041,0.002458740491420,-0.029716335237026,-0.136480003595352,-0.143996313214302,-0.100785441696644,-0.085423655807972,0.049437157809734,0.066328607499599,-0.276494413614273,-0.099069632589817,0.038652524352074,0.042358696460724));
res += mul(Get(s1,dx,dy), float4x4(-0.055112373083830,-0.041219808161259,-0.325019687414169,0.117759630084038,-0.017820317298174,0.001937180873938,-0.127810761332512,-0.150563180446625,0.100604213774204,-0.120483033359051,0.067905172705650,-0.104416906833649,-0.473798602819443,0.006938726175576,0.001880507101305,-0.373304158449173));
res += mul(Get(s2,-dx,-dy), float4x4(-0.140208303928375,0.216639146208763,0.076430268585682,-0.176430538296700,0.159010276198387,-0.007052418775856,0.000667360029183,-0.083282016217709,-0.296749651432037,-0.095199964940548,0.115710020065308,0.179350882768631,-0.067341543734074,0.152996227145195,0.131103903055191,0.000921042170376));
res += mul(Get(s2,-dx,0), float4x4(0.077039696276188,-0.023936886340380,-0.255259305238724,0.104313023388386,0.008430084213614,-0.075368039309978,-0.014192418195307,0.080853886902332,-0.019005842506886,0.073311500251293,-0.266777217388153,0.049508400261402,0.147494465112686,0.042390279471874,-0.005407926626503,0.038688387721777));
res += mul(Get(s2,-dx,dy), float4x4(-0.022222576662898,0.052710887044668,-0.099652834236622,-0.121724843978882,-0.114043980836868,0.026494929566979,0.230895638465881,0.052015487104654,0.036174990236759,-0.063562698662281,-0.258063256740570,0.149855017662048,0.103135786950588,0.014641492627561,-0.044486582279205,0.002818394219503));
res += mul(Get(s2,0,-dy), float4x4(0.025593357160687,-0.103186957538128,-0.101791195571423,0.209785282611847,-0.315435260534286,0.346440047025681,0.122894808650017,-0.107403799891472,-0.072574876248837,-0.151384845376015,0.136497288942337,-0.056583743542433,0.454590946435928,-0.624704003334045,-0.301772534847260,-0.033292300999165));
res += mul(Get(s2,0,0), float4x4(-0.111523643136024,-0.115642577409744,-0.335999250411987,-0.543959677219391,0.189377099275589,-0.197633698582649,0.140538826584816,0.000066610315116,0.031724315136671,0.078393273055553,0.091839723289013,-0.107584990561008,-0.530603229999542,-0.056280691176653,0.106523685157299,-0.149894282221794));
res += mul(Get(s2,0,dy), float4x4(0.264462351799011,-0.082411363720894,-0.150726720690727,0.053109005093575,0.019555125385523,-0.004518868867308,-0.293528825044632,0.009249577298760,0.034325331449509,-0.000680577999447,0.060693342238665,0.027597479522228,0.216889560222626,0.098871245980263,0.196713700890541,-0.069163709878922));
res += mul(Get(s2,dx,-dy), float4x4(0.024993201717734,-0.172746300697327,0.080681137740612,-0.262744963169098,0.150774106383324,0.047368254512548,-0.104322180151939,0.122022323310375,0.084757626056671,0.115505054593086,-0.116401314735413,0.018546111881733,-0.080065809190273,-0.011966276913881,0.074160546064377,-0.286787629127502));
res += mul(Get(s2,dx,0), float4x4(-0.075434438884258,-0.032278507947922,0.263666778802872,0.481972873210907,-0.169395118951797,-0.110788539052010,-0.082724295556545,-0.217640757560730,0.082988537847996,0.086053878068924,-0.028653467074037,0.099981650710106,0.076092980802059,0.152086511254311,-0.199578016996384,0.398536294698715));
res += mul(Get(s2,dx,dy), float4x4(0.005776674952358,0.035804938524961,0.161008119583130,-0.192059740424156,-0.060402262955904,-0.000887118338142,0.010380375199020,0.028993995860219,0.011028758250177,-0.047765638679266,-0.122513033449650,0.042263619601727,-0.038354702293873,-0.042035881429911,-0.120544940233231,0.235355824232101));
res = max(float4(0, 0, 0, 0), res) + float4(0.243245974183083,0.088597141206264,-0.159976810216904,-0.029116395860910) * min(float4(0, 0, 0, 0), res);
return res;
}
