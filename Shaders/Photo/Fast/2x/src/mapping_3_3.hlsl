sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.018142547458410,0.041870303452015,0.043939337134361,-0.205246582627296);
res += mul(Get(s0,-dx,-dy), float4x4(0.102770991623402,0.073565915226936,0.150351092219353,-0.002708505373448,0.070721872150898,-0.103477388620377,0.199029862880707,0.016487382352352,0.038064289838076,0.251448571681976,0.138868510723114,0.045701071619987,-0.089832484722137,-0.186214551329613,-0.152632519602776,0.096032083034515));
res += mul(Get(s0,-dx,0), float4x4(0.104632250964642,0.052477616816759,0.067149423062801,-0.082427538931370,0.041530076414347,0.132436960935593,-0.137456804513931,0.215394124388695,0.275445580482483,-0.278222620487213,0.207776069641113,-0.096709646284580,0.069833785295486,-0.202126905322075,0.130781218409538,-0.023356823250651));
res += mul(Get(s0,-dx,dy), float4x4(-0.009024507366121,0.114343546330929,0.160854458808899,-0.030985604971647,0.030688593164086,-0.018921991810203,0.071970909833908,0.012445176020265,0.021691475063562,0.232200056314468,0.140671446919441,-0.001226338790730,0.005438800901175,0.109980128705502,-0.197871893644333,0.022766891866922));
res += mul(Get(s0,0,-dy), float4x4(0.136545911431313,-0.027462428435683,0.260840952396393,-0.062270719558001,0.098248682916164,-0.259467124938965,-0.143413662910461,-0.010560993105173,0.123837433755398,0.249554708600044,0.184280946850777,-0.119798503816128,-0.100736483931541,0.036483503878117,-0.307733893394470,0.203419059514999));
res += mul(Get(s0,0,0), float4x4(-0.131605908274651,0.171417132019997,0.024071533232927,0.376590311527252,-0.222660511732101,-0.061340797692537,-0.431336432695389,0.210687831044197,-0.271037578582764,0.044270955026150,0.078377284109592,0.355178087949753,-0.138518765568733,-0.048312537372112,0.020632764324546,0.245169669389725));
res += mul(Get(s0,0,dy), float4x4(0.191651389002800,0.296634405851364,0.458249360322952,-0.311984628438950,0.044520907104015,0.008368554525077,0.112415380775928,-0.112694397568703,0.172360792756081,0.159094169735909,0.238812133669853,-0.090867042541504,-0.074259132146835,-0.048753712326288,-0.312396347522736,-0.302149146795273));
res += mul(Get(s0,dx,-dy), float4x4(0.080556489527225,0.073335319757462,0.146955415606499,-0.067476816475391,-0.130194306373596,-0.046783611178398,-0.023910544812679,-0.104222990572453,0.008094873279333,0.131107151508331,0.135042652487755,0.122127279639244,-0.117684490978718,0.148636654019356,-0.115931063890457,0.080710388720036));
res += mul(Get(s0,dx,0), float4x4(0.001673868857324,-0.007304490543902,-0.125691741704941,0.027199598029256,-0.102841071784496,-0.009505655616522,-0.055140350013971,-0.007780461572111,0.296821922063828,0.137389495968819,0.137666285037994,0.104825720191002,-0.033517912030220,-0.113136716187000,0.028508936986327,-0.017352994531393));
res += mul(Get(s0,dx,dy), float4x4(0.358078092336655,0.214609041810036,0.086004555225372,-0.077164672315121,0.084186516702175,-0.005677830893546,0.010929447598755,0.078359022736549,0.246298819780350,0.048722639679909,0.152029037475586,-0.037534210830927,-0.203430622816086,-0.040533404797316,-0.150686636567116,0.032166332006454));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030815808102489,-0.103246077895164,-0.048341818153858,0.025161568075418,0.024150680750608,-0.159276112914085,0.037339199334383,0.163305878639221,0.234712287783623,0.036576788872480,0.267220199108124,-0.391046583652496,-0.027636172249913,0.047967664897442,0.041010018438101,0.043025977909565));
res += mul(Get(s1,-dx,0), float4x4(-0.183485701680183,-0.133856356143951,-0.118451155722141,0.103566557168961,-0.064237393438816,0.129021897912025,-0.171620994806290,0.044186998158693,0.264305204153061,0.061671976000071,0.146010294556618,0.185367718338966,0.156586408615112,-0.270258873701096,-0.034946996718645,-0.098020911216736));
res += mul(Get(s1,-dx,dy), float4x4(-0.060253102332354,0.165612190961838,0.053547482937574,0.004304338712245,-0.092539601027966,-0.046148456633091,-0.026300763711333,-0.026413125917315,0.113890558481216,0.025885660201311,0.029326951131225,-0.058799341320992,0.109693497419357,-0.034933671355247,0.120199769735336,-0.019707763567567));
res += mul(Get(s1,0,-dy), float4x4(-0.172868981957436,0.078074611723423,-0.106720700860023,0.109463863074780,0.057465564459562,-0.116015277802944,0.043304968625307,0.424398750066757,-0.158956468105316,-0.249535769224167,-0.341442376375198,-0.028111878782511,-0.094318255782127,0.289156943559647,-0.253379046916962,0.292870610952377));
res += mul(Get(s1,0,0), float4x4(0.160899773240089,0.138781756162643,0.841495752334595,-0.223833248019218,0.333935111761093,0.098308205604553,0.265951722860336,-0.285228431224823,-0.128649607300758,-0.095185123383999,-0.107268743216991,-0.099559620022774,-0.032792184501886,0.503174662590027,0.234621658921242,0.324875593185425));
res += mul(Get(s1,0,dy), float4x4(0.043442811816931,-0.018005119636655,0.175899401307106,-0.055812176316977,0.129230931401253,0.149233713746071,-0.075633063912392,-0.071996547281742,0.041280195116997,-0.021572321653366,-0.075994640588760,-0.095598787069321,0.180154860019684,-0.066744968295097,-0.186933591961861,-0.634612560272217));
res += mul(Get(s1,dx,-dy), float4x4(-0.086427748203278,-0.137737944722176,-0.080342531204224,0.086284704506397,-0.141026154160500,0.320232510566711,0.089400537312031,-0.123228713870049,-0.182975456118584,0.062375325709581,-0.060481429100037,0.014887072145939,-0.116190612316132,-0.161732897162437,-0.113838165998459,0.197065919637680));
res += mul(Get(s1,dx,0), float4x4(-0.072171628475189,-0.214260861277580,-0.331521809101105,-0.036248795688152,-0.121702849864960,-0.238253250718117,0.063374482095242,-0.081905975937843,-0.031705204397440,0.026354441419244,0.038738954812288,-0.059060070663691,0.003176986705512,-0.049801554530859,0.022227164357901,0.115855157375336));
res += mul(Get(s1,dx,dy), float4x4(-0.139557942748070,-0.058126822113991,-0.194775655865669,0.015514950267971,0.490126281976700,0.057080324739218,-0.271322369575500,0.234845250844955,0.003290898865089,0.006090746261179,-0.074943855404854,-0.067600414156914,-0.175161540508270,-0.054176636040211,0.179952204227448,-0.378678292036057));
res += mul(Get(s2,-dx,-dy), float4x4(0.059937946498394,-0.067363478243351,0.092914164066315,-0.076144874095917,-0.037140287458897,0.030174696817994,0.038421224802732,-0.002199466340244,-0.249404236674309,-0.239932373166084,-0.301947027444839,0.031492169946432,-0.013534712605178,-0.049380883574486,-0.164054885506630,-0.079052343964577));
res += mul(Get(s2,-dx,0), float4x4(0.010195771232247,0.119177989661694,0.062454033643007,-0.034073896706104,0.128669172525406,-0.099947832524776,0.062277007848024,-0.028072722256184,-0.178484022617340,0.066412486135960,0.029653260484338,-0.002893958240747,-0.400514602661133,0.049972385168076,-0.541844725608826,0.267080694437027));
res += mul(Get(s2,-dx,dy), float4x4(-0.184634298086166,-0.002470488194376,-0.028282195329666,0.112626500427723,0.108124703168869,0.067640759050846,0.053963251411915,-0.132092401385307,-0.132197216153145,-0.100798420608044,-0.036265958100557,-0.065240480005741,-0.152499467134476,-0.154364004731178,-0.202389121055603,-0.296606153249741));
res += mul(Get(s2,0,-dy), float4x4(-0.193964555859566,-0.259144097566605,0.018579132854939,0.336305558681488,0.111707687377930,0.105648763477802,0.125043898820877,-0.145322039723396,-0.029326139017940,0.184855788946152,0.151105955243111,-0.057394836097956,-0.054041985422373,-0.102213479578495,-0.090558759868145,0.032421912997961));
res += mul(Get(s2,0,0), float4x4(0.280550390481949,-0.231816917657852,-0.096383132040501,-0.548922479152679,-0.095464810729027,-0.127013847231865,-0.138093337416649,0.256284475326538,0.103289611637592,-0.071034930646420,0.184866562485695,-0.103565692901611,-0.136469185352325,-0.127316400408745,-0.299515902996063,0.040317751467228));
res += mul(Get(s2,0,dy), float4x4(-0.105159759521484,0.191408962011337,0.167719855904579,0.285903483629227,0.010883293114603,-0.108321823179722,0.054185237735510,-0.776519179344177,0.059679381549358,-0.171381473541260,-0.047347255051136,0.047643318772316,-0.511217117309570,-0.070536509156227,0.136764973402023,0.057162899523973));
res += mul(Get(s2,dx,-dy), float4x4(-0.016935860738158,0.180872529745102,-0.179530978202820,0.028577111661434,0.019695322960615,-0.113415405154228,-0.156297355890274,0.000323565676808,-0.041414380073547,0.010438829660416,0.103974133729935,0.121189855039120,-0.115306638181210,-0.022280525416136,0.032747447490692,0.039085518568754));
res += mul(Get(s2,dx,0), float4x4(-0.006675726734102,-0.126013621687889,-0.000710119958967,0.204755753278732,-0.070730440318584,0.221117123961449,0.020976210013032,0.069278970360756,0.088935278356075,0.052098292857409,0.038908537477255,0.032510176301003,-0.074236385524273,-0.237683117389679,-0.138256549835205,-0.069004945456982));
res += mul(Get(s2,dx,dy), float4x4(0.199394851922989,0.013245066627860,-0.103951811790466,0.030838092789054,0.277007371187210,-0.035732779651880,-0.010676344856620,-0.074046418070793,0.023879349231720,-0.066786117851734,-0.013065502047539,-0.041863821446896,-0.082009799778461,-0.036028917878866,0.112912908196449,0.113123051822186));
res = max(float4(0, 0, 0, 0), res) + float4(-0.247356832027435,-0.710358798503876,0.635376155376434,0.086508452892303) * min(float4(0, 0, 0, 0), res);
return res;
}
