sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.052454143762589,-0.052135076373816,-0.127203434705734,-0.060557387769222);
res += mul(Get(s0,-dx,-dy), float4x4(-0.017237842082977,-0.039225980639458,0.003664494957775,0.093503065407276,-0.027980476617813,-0.096608594059944,0.103875175118446,0.039683185517788,-0.053362417966127,-0.113221891224384,0.119931057095528,-0.055397696793079,0.061213318258524,-0.034863520413637,-0.069327726960182,0.001495019532740));
res += mul(Get(s0,-dx,0), float4x4(-0.078158721327782,0.259827494621277,-0.037568092346191,0.161860466003418,-0.137655630707741,-0.175723269581795,0.173737838864326,0.057952988892794,-0.172349795699120,0.371637463569641,-0.131568953394890,-0.095415011048317,-0.026778025552630,-0.078185908496380,0.101430259644985,-0.011183666996658));
res += mul(Get(s0,-dx,dy), float4x4(0.000005960336239,-0.030440609902143,-0.215580463409424,0.097145393490791,-0.147493541240692,0.041159052401781,0.047009199857712,0.017862567678094,0.172521278262138,-0.170804709196091,-0.124839574098587,0.013853688724339,0.177229136228561,-0.026153629645705,-0.165485233068466,0.076149813830853));
res += mul(Get(s0,0,-dy), float4x4(-0.084069877862930,-0.008234976790845,0.154949754476547,0.003383032046258,0.008480785414577,-0.058225922286510,-0.114206835627556,0.043740347027779,0.014588980935514,-0.122843183577061,0.191635072231293,-0.097099088132381,0.179601833224297,0.269553750753403,-0.262107461690903,0.062801077961922));
res += mul(Get(s0,0,0), float4x4(-0.074321992695332,0.029920676723123,-0.306036114692688,0.181079939007759,-0.326471120119095,0.124880403280258,0.496283441781998,-0.097018271684647,0.048822104930878,0.038775298744440,-0.143337845802307,-0.032556004822254,0.305771142244339,-0.677212476730347,0.133155673742294,0.345731556415558));
res += mul(Get(s0,0,dy), float4x4(0.246734037995338,-0.089629732072353,-0.071263112127781,0.182477951049805,-0.085518851876259,-0.035241693258286,0.053832694888115,0.034713737666607,0.277744233608246,0.088092587888241,-0.236594900488853,-0.017941921949387,-0.222964823246002,0.209729239344597,0.118478208780289,0.060197133570910));
res += mul(Get(s0,dx,-dy), float4x4(0.053144477307796,0.008116453886032,-0.081755466759205,0.013169770129025,-0.118624851107597,0.089074939489365,0.013926209881902,0.003174067940563,0.046131093055010,-0.173823833465576,0.022051813080907,0.007733867503703,0.186041295528412,-0.169045478105545,-0.063292905688286,-0.093617893755436));
res += mul(Get(s0,dx,0), float4x4(-0.101542674005032,-0.027011349797249,-0.175742194056511,0.027440182864666,-0.974523246288300,-0.136532828211784,0.250168919563293,-0.058245085179806,0.154431387782097,-0.140049770474434,0.187716290354729,-0.000173251581145,0.068818666040897,0.330874532461166,-0.041574433445930,-0.094205014407635));
res += mul(Get(s0,dx,dy), float4x4(-0.022984314709902,-0.056923620402813,-0.027785969898105,-0.015667947009206,-0.180882602930069,-0.024705007672310,-0.011416723951697,-0.013690494000912,-0.227385818958282,-0.073604203760624,-0.048655390739441,0.006277300417423,0.040124502032995,-0.124883465468884,-0.102917350828648,-0.029866358265281));
res += mul(Get(s1,-dx,-dy), float4x4(-0.065110996365547,0.061787299811840,0.120837226510048,0.052456241101027,0.180421903729439,0.029881039634347,-0.001229009591043,-0.106691330671310,-0.121084809303284,0.414676636457443,0.050629429519176,-0.070978157222271,-0.051309432834387,-0.038604170084000,0.017275489866734,-0.070037856698036));
res += mul(Get(s1,-dx,0), float4x4(0.031060935929418,0.459131449460983,-0.044276777654886,0.075849056243896,0.003867971943691,-0.310646742582321,0.040150489658117,0.140210017561913,0.127192750573158,0.119263172149658,-0.046444796025753,-0.057483214884996,-0.039706662297249,0.246368616819382,-0.026026917621493,-0.382474929094315));
res += mul(Get(s1,-dx,dy), float4x4(0.073195241391659,0.000927697808947,-0.226329207420349,0.046870257705450,-0.010073236189783,0.086113706231117,-0.180555179715157,0.032551843672991,0.103072427213192,-0.007347996812314,-0.096736945211887,0.018006494268775,0.096099339425564,-0.012227737344801,-0.078269712626934,-0.148420795798302));
res += mul(Get(s1,0,-dy), float4x4(-0.067730031907558,-0.015649715438485,0.154534667730331,0.011363727971911,0.018283123150468,-0.006404594518244,0.096814945340157,-0.101606883108616,0.011212941259146,0.002383127110079,-0.009742206893861,0.047521155327559,0.078635208308697,-0.221008598804474,-0.027940209954977,0.042796678841114));
res += mul(Get(s1,0,0), float4x4(-0.059137050062418,0.191966518759727,0.161955714225769,-0.472072660923004,0.065762080252171,0.424423485994339,0.116286106407642,0.251052498817444,-0.034096717834473,-0.180774539709091,0.087790280580521,-0.073220409452915,0.116256058216095,-0.023619897663593,-0.108459569513798,0.591306328773499));
res += mul(Get(s1,0,dy), float4x4(0.051794331520796,0.280284166336060,-0.236731976270676,0.037322919815779,0.398337364196777,-0.048572838306427,-0.651045203208923,0.225335150957108,0.099670246243477,0.056642603129148,-0.186806991696358,-0.044301025569439,-0.116596236824989,0.148503199219704,-0.158796578645706,-0.192010730504990));
res += mul(Get(s1,dx,-dy), float4x4(-0.026130149140954,-0.004991421010345,0.024993270635605,0.055166121572256,0.042796075344086,-0.333848536014557,0.058362238109112,-0.029199589043856,-0.176640614867210,-0.029555136337876,-0.022327272221446,-0.061350546777248,-0.076583474874496,0.007428633514792,0.039598058909178,0.062283281236887));
res += mul(Get(s1,dx,0), float4x4(0.022683216258883,-0.050138074904680,-0.050033546984196,0.313304275274277,0.106051728129387,-0.007227567490190,-0.047307558357716,-0.162724435329437,0.243031278252602,0.028763988986611,-0.038503069430590,0.032264012843370,0.211981132626534,-0.187810704112053,0.231733366847038,-0.029704576358199));
res += mul(Get(s1,dx,dy), float4x4(0.094296872615814,-0.055510915815830,0.135791733860970,0.085578948259354,0.303656786680222,-0.046978436410427,-0.075655914843082,0.162884607911110,0.124831736087799,0.083431079983711,0.050726760178804,-0.001000405754894,-0.023820661008358,0.033157434314489,0.055784184485674,-0.185324251651764));
res += mul(Get(s2,-dx,-dy), float4x4(-0.139813482761383,0.201869815587997,-0.000863802968524,0.182745367288589,0.012470745481551,-0.112554907798767,0.067129619419575,-0.011336651630700,0.005804743617773,-0.098463542759418,-0.095322832465172,-0.218569964170456,0.013479472137988,0.116936057806015,0.060274206101894,-0.014530966989696));
res += mul(Get(s2,-dx,0), float4x4(0.022937761619687,0.252568721771240,-0.013157667592168,-0.050318058580160,-0.055717453360558,0.062613777816296,-0.003923340700567,-0.020698895677924,0.241791650652885,-0.321204662322998,0.124257169663906,-0.221026495099068,-0.097256280481815,0.115762859582901,0.043265216052532,0.088875196874142));
res += mul(Get(s2,-dx,dy), float4x4(0.094681121408939,0.146929919719696,0.018257014453411,0.018428321927786,0.063050158321857,0.001371055142954,0.021953942254186,-0.016082227230072,0.119385600090027,-0.251206040382385,0.021800192072988,-0.162083223462105,-0.057982087135315,0.205975517630577,0.057990234345198,0.084398239850998));
res += mul(Get(s2,0,-dy), float4x4(0.257321268320084,-0.088730022311211,-0.370004653930664,0.555321156978607,-0.073605455458164,-0.053321752697229,0.081354580819607,-0.019973753020167,0.080141112208366,0.158581838011742,0.077171102166176,-0.121030718088150,-0.040171083062887,0.407073706388474,0.056057725101709,-0.038853548467159));
res += mul(Get(s2,0,0), float4x4(-0.311927616596222,-0.109926283359528,0.565145194530487,-0.064014822244644,0.008794241584837,-0.096021078526974,-0.225903525948524,0.081114307045937,0.234129413962364,0.206588670611382,-0.069130860269070,-0.101097166538239,0.037018794566393,0.199758321046829,-0.018035467714071,-0.112958878278732));
res += mul(Get(s2,0,dy), float4x4(0.053548324853182,-0.013201011344790,-0.061952937394381,0.223897412419319,-0.216729551553726,0.165610447525978,0.149223431944847,-0.194888636469841,0.030344823375344,0.043461609631777,0.153455868363380,-0.058841180056334,0.326089173555374,0.014602800831199,0.010195887647569,0.097747534513474));
res += mul(Get(s2,dx,-dy), float4x4(-0.131027892231941,-0.130420833826065,-0.063886538147926,-0.055499229580164,-0.006340148858726,0.063780359923840,-0.023543938994408,0.049772754311562,0.189915701746941,-0.045598912984133,-0.113131046295166,-0.026209330186248,-0.000491301238071,0.058458209037781,-0.055529441684484,0.014414291828871));
res += mul(Get(s2,dx,0), float4x4(-0.194722548127174,-0.345258355140686,-0.013992208056152,-0.014407305046916,-0.038857307285070,-0.156621485948563,0.055323567241430,0.051332440227270,0.035514868795872,-0.128939256072044,-0.052328638732433,-0.011197632178664,-0.071925140917301,0.523544549942017,-0.027809286490083,-0.005676865577698));
res += mul(Get(s2,dx,dy), float4x4(0.126904219388962,-0.148489430546761,0.043981458991766,0.065468668937683,-0.018251905217767,0.193608418107033,0.141994521021843,-0.073602169752121,0.125745028257370,0.010403006337583,0.015747591853142,-0.007944116368890,0.132302984595299,0.143520399928093,0.042862933129072,0.080009661614895));
res = max(float4(0, 0, 0, 0), res) + float4(-0.036677289754152,0.289887547492981,-0.118454292416573,0.960520923137665) * min(float4(0, 0, 0, 0), res);
return res;
}
