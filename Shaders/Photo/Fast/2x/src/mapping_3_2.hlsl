sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.1210236698389053,0.0620238520205021,0.0002645017520990,0.0855139791965485);
res += mul(Get(s0,-dx,-dy), float4x4(0.0690190345048904,0.1004292070865631,0.0409059710800648,-0.0074739004485309,0.0468471087515354,-0.2530373334884644,-0.0800438150763512,-0.1101768091320992,0.0710704550147057,-0.0155724612995982,-0.0087630124762654,-0.0234802812337875,-0.0552523955702782,0.0773893743753433,-0.0438619107007980,-0.0296285003423691));
res += mul(Get(s1,-dx,-dy), float4x4(-0.2078884243965149,0.0865223407745361,0.0347607210278511,-0.0086259841918945,-0.1697630584239960,0.0777624025940895,-0.0049388539046049,0.0206140018999577,-0.1024977713823318,0.0435451492667198,0.1127785667777061,0.1063570752739906,-0.1391059011220932,-0.1390667110681534,0.0713174641132355,0.0568413585424423));
res += mul(Get(s2,-dx,-dy), float4x4(-0.1383632719516754,-0.0287122931331396,0.0832638144493103,-0.0292922593653202,-0.0451162904500961,-0.1176208108663559,-0.1561942398548126,-0.0554607547819614,-0.1039977520704269,-0.0145388981327415,0.0021341161336750,-0.0085167558863759,0.3363781869411469,-0.5920648574829102,0.1972115784883499,-0.2320304214954376));
res += mul(Get(s0,-dx,0), float4x4(0.2378254383802414,0.1499600261449814,-0.1228852272033691,-0.0555769614875317,-0.3208346068859100,-0.0349542535841465,-0.2051772326231003,0.0695265829563141,-0.1221140399575233,0.0782031565904617,0.0172983855009079,0.0266980640590191,0.2862269282341003,-0.2010676562786102,0.0079508116468787,-0.0141503009945154));
res += mul(Get(s1,-dx,0), float4x4(0.0067987367510796,0.1098503917455673,0.0365903936326504,0.0850946754217148,0.0830993130803108,-0.3511444032192230,-0.0674398168921471,-0.2396380752325058,-0.0227804742753506,-0.0428510606288910,-0.1506951451301575,0.1037120968103409,-0.8096001744270325,-0.3093239963054657,0.0229434743523598,0.1216034442186356));
res += mul(Get(s2,-dx,0), float4x4(-0.1453170031309128,-0.0377151183784008,-0.2325113266706467,-0.0022387909702957,0.1302715539932251,-0.1041029691696167,-0.0356392376124859,-0.1288627684116364,-0.3449626564979553,-0.0792510285973549,-0.1420655846595764,-0.1064798012375832,0.0017696830909699,0.1311757117509842,-0.0423572771251202,0.1539145559072495));
res += mul(Get(s0,-dx,dy), float4x4(0.0417269952595234,-0.0455203242599964,0.1387683451175690,-0.1410676538944244,-0.0022629213053733,-0.3291414976119995,0.1893142610788345,-0.1213622689247131,0.1284487843513489,0.0363650284707546,0.0021883316803724,0.0082659292966127,0.1543776988983154,-0.0439346507191658,-0.0385162755846977,0.0594030618667603));
res += mul(Get(s1,-dx,dy), float4x4(-0.2583084106445312,0.0438582263886929,0.0640730857849121,0.0011493372730911,-0.0640338063240051,-0.1345847249031067,-0.0834190398454666,-0.2201268523931503,-0.0481057502329350,-0.0009566193330102,-0.0507112704217434,-0.0800747349858284,-0.1029523462057114,-0.1050809621810913,-0.0446019992232323,0.1819608658552170));
res += mul(Get(s2,-dx,dy), float4x4(0.0939920321106911,-0.0122629497200251,-0.1025535911321640,-0.0207936540246010,-0.0873959735035896,-0.0273705478757620,-0.0717245191335678,-0.1250071674585342,-0.2198718488216400,-0.0140158226713538,0.0703052133321762,-0.1150030568242073,0.1761194169521332,0.1546768695116043,0.2282186597585678,0.1514554172754288));
res += mul(Get(s0,0,-dy), float4x4(0.2315945774316788,-0.0643412843346596,0.1810555160045624,-0.2277898788452148,0.2985280752182007,-0.1440548002719879,-0.3504469394683838,0.1617291569709778,-0.0029425467364490,-0.0183945503085852,-0.2541301846504211,0.1596844643354416,-0.1628768593072891,0.1742613762617111,-0.3073546588420868,0.1439670622348785));
res += mul(Get(s1,0,-dy), float4x4(-0.1243002861738205,0.0939647853374481,0.0217379424721003,-0.0629705861210823,0.0013151222374290,-0.3119773268699646,0.0428973361849785,-0.0569868832826614,-0.0066470042802393,-0.3353509604930878,0.2980729043483734,-0.0851047262549400,-0.2163180261850357,-0.1511282473802567,0.0524134039878845,0.1845379322767258));
res += mul(Get(s2,0,-dy), float4x4(-0.3642118573188782,-0.0585485100746155,0.1837572157382965,-0.1173875778913498,0.0144201340153813,0.0487716421484947,-0.1835371702909470,-0.0060402462258935,0.0442238412797451,-0.2161549776792526,0.1291502714157104,-0.2981871962547302,0.1484602987766266,0.3794381916522980,0.0160747040063143,-0.0109453797340393));
res += mul(Get(s0,0,0), float4x4(0.0871670767664909,0.3504511713981628,0.0375981517136097,0.0071747382171452,0.3922302722930908,-0.1971693933010101,0.7404677271842957,0.2002891749143600,0.1794405430555344,-0.4219517111778259,-0.0913320407271385,-0.0746332481503487,-0.7285496592521667,0.2085702270269394,0.0848192870616913,0.0191955920308828));
res += mul(Get(s1,0,0), float4x4(0.0221670661121607,0.3369322717189789,0.0570471547544003,0.0713177472352982,0.0074365641921759,-0.1335160136222839,-0.1260110735893250,0.0059053930453956,0.1305833458900452,-0.4442347288131714,-0.3959227502346039,0.1829147487878799,-0.4697048068046570,-0.2217488437891006,0.0121678933501244,-0.0745058804750443));
res += mul(Get(s2,0,0), float4x4(-0.1879731118679047,-0.3321379423141479,-0.3169919252395630,0.0102036455646157,0.3050908446311951,-0.1846831142902374,0.1349836289882660,-0.2050208747386932,-0.3953026533126831,0.3388547003269196,-0.3214917778968811,0.3942615389823914,0.4335801303386688,0.2659488618373871,0.1780557483434677,-0.3450501859188080));
res += mul(Get(s0,0,dy), float4x4(0.4508494436740875,0.0621009059250355,0.1711559295654297,0.1223560720682144,0.4244641363620758,0.2107114046812057,0.2698706090450287,0.1003835871815681,0.0258321575820446,-0.0113013247027993,0.3234122395515442,0.0408433601260185,0.0206429231911898,-0.0486514568328857,-0.0671679079532623,-0.1499196290969849));
res += mul(Get(s1,0,dy), float4x4(0.2413166016340256,0.2509045004844666,0.3628989160060883,0.0688231661915779,0.0358332693576813,0.0351920835673809,-0.0186417382210493,-0.0278381109237671,0.1421939134597778,0.1551030576229095,0.0629682540893555,0.1450466215610504,-0.2476571500301361,-0.2797206938266754,-0.1666548997163773,0.1286604553461075));
res += mul(Get(s2,0,dy), float4x4(0.2221582382917404,0.1129724830389023,-0.1025187298655510,0.0420483537018299,0.1296343356370926,-0.0228664781898260,-0.1686471551656723,0.2667105495929718,0.6122539639472961,0.2798269093036652,0.1812760084867477,0.2591190934181213,0.4202554225921631,0.0791562199592590,0.0179268456995487,-0.1101383715867996));
res += mul(Get(s0,dx,-dy), float4x4(0.0360569097101688,0.1297708451747894,0.0091961864382029,-0.0437343008816242,-0.1643533259630203,-0.0868543907999992,-0.1229077354073524,-0.1821844875812531,-0.0196268875151873,0.0771271288394928,-0.1237951144576073,-0.0271393172442913,0.0234847497195005,-0.0839798897504807,-0.1555152833461761,0.0966982319951057));
res += mul(Get(s1,dx,-dy), float4x4(-0.0030868458561599,-0.0515475459396839,0.0235224794596434,-0.0580227710306644,-0.0048291669227183,-0.0097199939191341,-0.0407610833644867,-0.1120659485459328,-0.0906186252832413,0.0400643087923527,0.0364402458071709,-0.1601136475801468,0.0380477532744408,-0.0549136735498905,0.0232450496405363,0.2532342374324799));
res += mul(Get(s2,dx,-dy), float4x4(-0.1032419353723526,-0.0188227798789740,0.0621763281524181,-0.2048964202404022,0.1086037829518318,-0.0427027419209480,-0.1483948975801468,0.1927430778741837,0.0132099064067006,-0.0990483686327934,-0.0222683753818274,-0.1888580769300461,0.0777421072125435,0.0729901865124702,-0.0366115458309650,0.1946316361427307));
res += mul(Get(s0,dx,0), float4x4(0.2462320625782013,0.0746247023344040,-0.0089573627337813,-0.0654296278953552,-0.1818152666091919,0.2646197378635406,0.1368666142225266,0.1516171544790268,0.2413277029991150,-0.0112220123410225,0.1114897504448891,0.1450186520814896,-0.2324834018945694,-0.0951712653040886,-0.0493163019418716,0.0235282275825739));
res += mul(Get(s1,dx,0), float4x4(-0.0453347004950047,-0.0095557933673263,-0.0716824084520340,0.1427713930606842,0.1325227469205856,0.2132148444652557,-0.0096245277673006,0.0322309024631977,-0.0718820393085480,0.2149208933115005,0.0240333992987871,-0.6409395337104797,0.0378310792148113,-0.1954284310340881,-0.0556572601199150,-0.0693953186273575));
res += mul(Get(s2,dx,0), float4x4(-0.0884282737970352,0.1404705196619034,0.0522177964448929,-0.3114516139030457,-0.0875436663627625,0.0575479827821255,0.1226623207330704,-0.3086720108985901,0.0311632361263037,0.1589634716510773,-0.1507985591888428,0.2699002325534821,-0.0386408194899559,-0.0344032272696495,0.1415992230176926,-0.2257113158702850));
res += mul(Get(s0,dx,dy), float4x4(0.0992525666952133,0.1129382029175758,0.0372129715979099,-0.1470764577388763,-0.2025807797908783,-0.0689071640372276,0.0744508281350136,0.4076535403728485,0.0859174579381943,-0.0246371887624264,0.1373544782400131,0.0313872285187244,-0.0830277949571609,-0.0849381536245346,-0.0575502216815948,0.0647997185587883));
res += mul(Get(s1,dx,dy), float4x4(-0.0725780874490738,0.0992386192083359,0.0315780416131020,0.1280856728553772,-0.0517671555280685,0.0374063588678837,0.0573503188788891,-0.1004464402794838,0.1013864949345589,0.0280770640820265,-0.1654945313930511,0.1191220134496689,0.0823606550693512,-0.1087394431233406,-0.0739203914999962,0.0303844064474106));
res += mul(Get(s2,dx,dy), float4x4(0.0620437450706959,-0.0467663593590260,-0.0763380229473114,0.1530514806509018,-0.1296408325433731,-0.0301716942340136,0.0359934754669666,-0.0358828715980053,0.1180456355214119,-0.0404522605240345,0.1135213151574135,-0.0547437667846680,-0.0604088120162487,0.1861333101987839,0.0861322060227394,-0.1330066770315170));
res = max(float4(0, 0, 0, 0), res) + float4(0.2895157039165497,2.8657150268554688,2.7752346992492676,-0.9160625934600830) * min(float4(0, 0, 0, 0), res);
return res;
}
