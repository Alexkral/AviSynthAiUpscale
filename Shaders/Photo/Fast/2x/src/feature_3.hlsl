sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.214396283030510,0.004687491804361,0.053815957158804,0.279844731092453);
res += float4(-0.041432965546846,0.099926687777042,0.060699105262756,0.087219551205635) * Get(-ddx,-ddy);
res += float4(0.095765411853790,-0.060481522232294,-0.063496664166451,-0.005765774287283) * Get(-ddx,-dy);
res += float4(-0.034100268036127,0.043404225260019,0.004926644731313,-0.208916708827019) * Get(-ddx,0);
res += float4(0.164088100194931,-0.069519795477390,-0.037382736802101,-0.060687303543091) * Get(-ddx,dy);
res += float4(-0.007187145296484,0.006682894658297,0.018703790381551,0.044654212892056) * Get(-ddx,ddy);
res += float4(-0.051834072917700,-0.066659606993198,-0.087151363492012,-0.075491152703762) * Get(-dx,-ddy);
res += float4(0.039804439991713,-0.044894158840179,0.112032271921635,0.178563773632050) * Get(-dx,-dy);
res += float4(-0.376545429229736,0.191786974668503,0.004310630261898,0.153854653239250) * Get(-dx,0);
res += float4(-0.095529921352863,0.029382575303316,0.064129054546356,-0.032137647271156) * Get(-dx,dy);
res += float4(0.014347303658724,-0.071475632488728,-0.022224653512239,-0.021595356985927) * Get(-dx,ddy);
res += float4(-0.030433580279350,0.147732004523277,0.031827066093683,-0.028477011248469) * Get(0,-ddy);
res += float4(0.079594388604164,-0.218890175223351,-0.145612835884094,0.118258818984032) * Get(0,-dy);
res += float4(-0.837572336196899,0.465670198202133,-0.380090117454529,-0.974353969097137) * Get(0,0);
res += float4(-0.080885909497738,-0.433761686086655,-0.468547224998474,0.298279523849487) * Get(0,dy);
res += float4(-0.007382117677480,0.211841493844986,-0.032122671604156,0.038399327546358) * Get(0,ddy);
res += float4(0.101145789027214,-0.265720754861832,-0.007072025910020,-0.077728614211082) * Get(dx,-ddy);
res += float4(-0.231326550245285,-0.146684587001801,0.129667937755585,-0.015537264756858) * Get(dx,-dy);
res += float4(0.577873945236206,-0.105397857725620,0.401342153549194,0.109940521419048) * Get(dx,0);
res += float4(-0.086237087845802,0.171141818165779,0.263738423585892,0.133562609553337) * Get(dx,dy);
res += float4(0.085538707673550,0.129835993051529,0.112970784306526,0.004658356774598) * Get(dx,ddy);
res += float4(0.041624899953604,0.064027361571789,0.003735281527042,0.055660497397184) * Get(ddx,-ddy);
res += float4(0.073561795055866,0.055213861167431,-0.032774377614260,-0.095800608396530) * Get(ddx,-dy);
res += float4(-0.165847733616829,-0.037842027842999,0.141896411776543,-0.175160616636276) * Get(ddx,0);
res += float4(0.072732597589493,-0.145580455660820,-0.057660773396492,-0.069482065737247) * Get(ddx,dy);
res += float4(0.006568311713636,0.102737009525299,-0.020386693999171,0.071077167987823) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.369862884283066,0.870392680168152,-0.545190274715424,0.993521571159363) * min(float4(0, 0, 0, 0), res);
return res;
}
