sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0524956397712231,0.0064616221934557,-0.1428157240152359,-0.0871936008334160);
res += mul(Get(s0,-dx,-dy), float4x4(-0.1102499291300774,-0.1389326453208923,-0.1191680878400803,0.0052356352098286,-0.2679969668388367,0.1081682890653610,-0.1073932051658630,-0.1554900109767914,-0.0084177386015654,0.0405369475483894,0.1419750899076462,0.0247042831033468,0.0383125841617584,0.2098532915115356,0.0986022949218750,-0.1322850883007050));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0141355097293854,0.0502375960350037,0.1460903137922287,0.0677510946989059,0.0411015674471855,-0.0192133728414774,-0.0890647619962692,-0.0768699944019318,0.0339393205940723,-0.0581743009388447,-0.0233282577246428,0.0598546899855137,-0.0727833211421967,0.1981373429298401,-0.2429943680763245,0.0778891742229462));
res += mul(Get(s2,-dx,-dy), float4x4(0.0871840268373489,0.1176870018243790,0.1844936907291412,-0.0983532369136810,-0.0077793225646019,-0.0051159579306841,0.0733572170138359,0.0062371045351028,-0.0887215360999107,0.2161319404840469,0.0796481221914291,-0.0560037158429623,0.1693889498710632,-0.0558322705328465,0.1374389380216599,0.0894158557057381));
res += mul(Get(s0,-dx,0), float4x4(0.1520518511533737,0.1249308884143829,-0.0709512233734131,-0.0715861320495605,0.1720998585224152,0.1919298171997070,-0.1602175980806351,-0.0515741296112537,0.2570153474807739,0.1283322870731354,-0.4130717217922211,-0.0831471309065819,0.0320811457931995,-0.3166985809803009,-0.0798170417547226,-0.0357770211994648));
res += mul(Get(s1,-dx,0), float4x4(0.0887790396809578,0.1471640765666962,0.0451783128082752,0.0496137700974941,-0.0120598934590816,-0.4208521544933319,0.2006392478942871,0.1395896971225739,-0.0828197672963142,0.0354183949530125,-0.0953093841671944,0.0005396029446274,0.0074891187250614,-0.0615856423974037,0.0467182360589504,0.1747276037931442));
res += mul(Get(s2,-dx,0), float4x4(0.0857316106557846,0.2195588350296021,-0.2283227294683456,-0.0252733603119850,0.0063397497870028,-0.0857019722461700,-0.1642397344112396,-0.1175730153918266,0.3865588605403900,0.4124841392040253,-0.0548495352268219,-0.1483500450849533,-0.0555066205561161,-0.2640546858310699,-0.0874516069889069,-0.3247565031051636));
res += mul(Get(s0,-dx,dy), float4x4(0.0147269414737821,0.1156530082225800,-0.3136956095695496,0.0307369828224182,-0.0976906791329384,0.0427232012152672,-0.0432537272572517,0.1519994437694550,0.0975162088871002,-0.2107356041669846,-0.1521966606378555,0.0369499959051609,0.0220879111438990,-0.0504051260650158,-0.2773810625076294,0.0416789427399635));
res += mul(Get(s1,-dx,dy), float4x4(0.1858514696359634,-0.0517210960388184,0.0354215055704117,0.2401998639106750,0.1787837892770767,-0.0257397964596748,0.0372613109648228,0.0232535600662231,-0.0538845546543598,0.1120110824704170,0.2393179982900620,-0.0088357403874397,0.0701442658901215,0.1235905438661575,-0.0796919018030167,-0.0859909728169441));
res += mul(Get(s2,-dx,dy), float4x4(-0.0979217290878296,-0.0781280919909477,-0.3668711185455322,-0.0638761818408966,0.1131903678178787,-0.0386434309184551,0.0550476685166359,0.1238094940781593,-0.0664116367697716,-0.0522701106965542,-0.1204949617385864,-0.0009409778285772,0.0689899176359177,-0.0204547028988600,0.0249357856810093,0.2270746380090714));
res += mul(Get(s0,0,-dy), float4x4(-0.2691667675971985,-0.1883395016193390,0.3633206486701965,-0.2607958912849426,-0.0835294649004936,-0.0848257392644882,0.4103143215179443,-0.0086963158100843,-0.0475469157099724,0.3020951747894287,0.1073361262679100,0.0278622694313526,-0.1312268674373627,-0.0852209255099297,0.2009608596563339,0.1642582267522812));
res += mul(Get(s1,0,-dy), float4x4(0.0863845199346542,0.0852624922990799,0.0560229942202568,0.1906281262636185,-0.0437177829444408,0.6543458104133606,-0.1723035573959351,-0.0857751294970512,0.2034565657377243,-0.2061226963996887,-0.1415184140205383,0.2125248908996582,-0.0822675377130508,-0.0090228980407119,0.1757811456918716,-0.0387260317802429));
res += mul(Get(s2,0,-dy), float4x4(0.0599039830267429,-0.5365449190139771,-0.1988386809825897,0.0263390187174082,0.1171269193291664,-0.0437218099832535,0.1786208599805832,-0.0737804621458054,-0.0043105189688504,0.1360168755054474,0.0772214829921722,0.1131410673260689,0.0108414422720671,-0.2257644236087799,-0.0314782038331032,0.1365812420845032));
res += mul(Get(s0,0,0), float4x4(0.1005914732813835,-0.3522306680679321,-0.1704532206058502,0.2247358560562134,0.3741032779216766,0.0493499375879765,-0.1668931096792221,-0.2697207331657410,-0.2894436717033386,0.3674118816852570,-0.0177127029746771,0.1400395184755325,-0.0718341469764709,0.0142900273203850,-0.8476198911666870,-0.1886562556028366));
res += mul(Get(s1,0,0), float4x4(0.3955145180225372,-0.0682330504059792,0.2396868914365768,-0.3176001906394958,-0.3503421843051910,0.4152824580669403,-0.1390600800514221,0.0249422509223223,0.4180875420570374,-0.0393618158996105,-0.6139498353004456,0.2635633349418640,-0.0545703545212746,0.3214695751667023,-0.5416647791862488,-0.6187668442726135));
res += mul(Get(s2,0,0), float4x4(-0.0066819950006902,0.6090421080589294,0.2331032454967499,0.0314686037600040,-0.1879757940769196,-0.0111497156322002,0.0967340841889381,0.4083484113216400,-1.0979924201965332,-0.4307032227516174,-0.3517420291900635,0.4685236215591431,0.2914766967296600,0.7704932689666748,-0.2321451604366302,-0.1175019145011902));
res += mul(Get(s0,0,dy), float4x4(-0.0250932350754738,0.4135106205940247,0.1641512066125870,0.1555055975914001,0.0957454219460487,-0.2538645267486572,-0.0485079586505890,-0.0366006977856159,0.0396587364375591,-0.1349761039018631,-0.1618885695934296,-0.0981352031230927,-0.1380663216114044,-0.1338943243026733,0.0299213044345379,-0.1063877642154694));
res += mul(Get(s1,0,dy), float4x4(-0.0424829274415970,0.0551824681460857,0.1289063692092896,0.0788658857345581,0.1065444573760033,0.5600044727325439,0.0150247002020478,0.1349513828754425,0.1301766335964203,0.2975845336914062,0.2545149326324463,-0.0844799503684044,-0.0320783369243145,-0.0423561893403530,-0.0849542021751404,-0.0191971287131310));
res += mul(Get(s2,0,dy), float4x4(-0.2007336020469666,-0.1364517211914062,0.1093480288982391,-0.1010041981935501,-0.1125426143407822,-0.0967783853411674,0.0642742887139320,0.0942513123154640,0.1666539013385773,-0.4669726490974426,-0.0459661222994328,-0.1812523007392883,-0.2897143661975861,-0.2101712524890900,-0.2874029874801636,0.0130141442641616));
res += mul(Get(s0,dx,-dy), float4x4(-0.0636128187179565,-0.2180716842412949,0.3524472415447235,-0.0265584811568260,-0.2132720053195953,-0.0164441037923098,0.3179437816143036,0.0997825786471367,0.1799234300851822,-0.3033356070518494,0.0305054858326912,0.0808234214782715,-0.2353426218032837,0.0862953811883926,-0.2386137694120407,-0.1003278046846390));
res += mul(Get(s1,dx,-dy), float4x4(0.1585639566183090,-0.3337054252624512,0.1214446723461151,0.0877309739589691,-0.1551999151706696,0.0643321797251701,0.0734593048691750,0.0260685943067074,-0.1086244508624077,0.1686094254255295,-0.0660950317978859,-0.1818173527717590,-0.0177888888865709,-0.3259085714817047,-0.0884431973099709,0.0655888095498085));
res += mul(Get(s2,dx,-dy), float4x4(-0.1177199855446815,0.0304726138710976,-0.3046734631061554,-0.0787171423435211,0.0434668064117432,0.1391348987817764,-0.0105554452165961,0.0830482915043831,-0.0480692014098167,0.1967035681009293,0.0127955116331577,-0.0097708562389016,0.1927731931209564,0.2342653721570969,-0.0404304228723049,-0.0695994868874550));
res += mul(Get(s0,dx,0), float4x4(0.0501756928861141,0.1781666427850723,-0.0561653450131416,-0.0103364810347557,0.3889397978782654,-0.1587892174720764,0.0733868703246117,-0.1800700724124908,0.3716055452823639,0.2612491846084595,0.3326910734176636,0.2228444516658783,0.0976830720901489,0.0094999149441719,0.0585971921682358,0.2547404468059540));
res += mul(Get(s1,dx,0), float4x4(0.1223915740847588,0.1645706743001938,-0.0845430940389633,-0.2849082946777344,0.3520920574665070,-0.7370987534523010,0.2965959310531616,-0.1632034778594971,0.0844132453203201,0.0256878044456244,0.0786002054810524,-0.2036408036947250,0.0472993589937687,-0.2416574954986572,0.2096941024065018,0.2467849403619766));
res += mul(Get(s2,dx,0), float4x4(0.0467944033443928,-0.0589536428451538,0.0755560621619225,0.2231460660696030,0.0156211685389280,0.1875876337289810,-0.0771835595369339,-0.1103463098406792,-0.0058489912189543,-0.0003624643431976,-0.0280456319451332,-0.0450944490730762,-0.0043882774189115,-0.1784656792879105,0.2520910501480103,-0.1153308749198914));
res += mul(Get(s0,dx,dy), float4x4(0.1777987778186798,0.0509415641427040,-0.1713144183158875,0.0330264717340469,-0.1850230246782303,0.2528562247753143,0.2493958026170731,-0.0378570444881916,-0.0629281550645828,-0.3473938107490540,0.2791183292865753,-0.0705556944012642,0.0265564117580652,-0.0941836088895798,0.0124385012313724,-0.0812320783734322));
res += mul(Get(s1,dx,dy), float4x4(0.1322172284126282,0.0855006873607635,-0.1298814415931702,0.1011348962783813,-0.0747708082199097,-0.5085986852645874,-0.3019308745861053,-0.0900698974728584,0.0961384624242783,-0.0072316401638091,-0.1268585771322250,0.0679751634597778,0.1181054264307022,-0.1037366762757301,0.0700588673353195,-0.0577604770660400));
res += mul(Get(s2,dx,dy), float4x4(0.0476729348301888,-0.1710133999586105,-0.0257087945938110,-0.0537224337458611,-0.0753479152917862,-0.0986981019377708,-0.0529542006552219,0.0778991803526878,0.0293448567390442,-0.1205656602978706,0.2193766981363297,-0.0004822754708584,0.2005579769611359,-0.0050868759863079,-0.4001134335994720,0.0376679785549641));
res = max(float4(0, 0, 0, 0), res) + float4(1.5134961605072021,-0.7437359690666199,0.4041535556316376,2.2601962089538574) * min(float4(0, 0, 0, 0), res);
return res;
}
