sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.007340284995735,0.010154766961932,0.032321356236935,0.155654549598694);
res += mul(Get(s0,-dx,-dy), float4x4(-0.029779188334942,-0.003529834793881,0.120886467397213,-0.019010556861758,-0.136807203292847,-0.422702133655548,0.014412952587008,-0.189709261059761,-0.020067611709237,0.369807928800583,-0.001660495763645,0.001357671455480,-0.075244478881359,0.084187410771847,-0.070027247071266,-0.276202261447906));
res += mul(Get(s0,-dx,0), float4x4(-0.141757875680923,0.381181389093399,-0.044615127146244,0.186213463544846,0.330695986747742,0.154969081282616,-0.235217168927193,-0.126608297228813,-0.215295791625977,-0.217062279582024,0.017165109515190,0.108036458492279,0.049540389329195,-0.120534576475620,-0.109723851084709,-0.349061399698257));
res += mul(Get(s0,-dx,dy), float4x4(0.143572643399239,-0.220740243792534,-0.056324880570173,0.173985451459885,0.014199698343873,0.366959273815155,-0.007229545153677,0.062242701649666,0.103141084313393,-0.355546623468399,0.006120071280748,-0.211127147078514,0.014096449129283,0.183893069624901,-0.187465175986290,-0.173307016491890));
res += mul(Get(s0,0,-dy), float4x4(-0.113818608224392,-0.018581368029118,-0.129635855555534,-0.171479910612106,0.297913342714310,0.162339836359024,0.165935114026070,0.094820812344551,-0.186393350362778,-0.078730545938015,0.007521136663854,0.041340153664351,-0.053806435316801,-0.045862164348364,0.051568623632193,-0.102221004664898));
res += mul(Get(s0,0,0), float4x4(0.059552852064371,-0.019983338192105,-0.809764385223389,-0.133658409118652,-0.484427213668823,0.390876531600952,0.323073446750641,-0.072885699570179,-0.146066471934319,-0.219653412699699,-0.018884735181928,0.223749309778214,0.028482338413596,0.010220918804407,0.515647768974304,0.024090630933642));
res += mul(Get(s0,0,dy), float4x4(-0.032101813703775,-0.026711227372289,0.114741817116737,-0.035163532942533,-0.106749646365643,-0.069150179624557,-0.214718177914619,-0.178072690963745,-0.148079767823219,0.104416981339455,0.291071951389313,-0.218134194612503,-0.242164239287376,-0.003854713635519,0.048468302935362,-0.166356682777405));
res += mul(Get(s0,dx,-dy), float4x4(-0.150446742773056,0.008259121328592,0.074252575635910,0.113473132252693,0.033202599734068,0.243479281663895,-0.112931840121746,-0.396708637475967,-0.089687556028366,-0.141409605741501,0.034661855548620,0.156987383961678,-0.014271627180278,0.174388408660889,-0.008104062639177,-0.116547763347626));
res += mul(Get(s0,dx,0), float4x4(0.074584566056728,0.014937628060579,-0.066526122391224,-0.162354826927185,0.426325678825378,0.042604997754097,-0.477350056171417,-0.176772341132164,-0.021415388211608,-0.096469558775425,-0.054627403616905,-0.071419537067413,-0.123918324708939,-0.030474251136184,-0.060680292546749,0.365875393152237));
res += mul(Get(s0,dx,dy), float4x4(0.015530123375356,0.065898537635803,0.055423777550459,0.114451691508293,-0.060791235417128,-0.352979123592377,0.403617173433304,0.158434286713600,-0.118549793958664,0.408874392509460,-0.047451652586460,-0.074922956526279,-0.033938229084015,-0.200279608368874,0.008119547739625,0.040223792195320));
res += mul(Get(s1,-dx,-dy), float4x4(-0.209606468677521,-0.171760171651840,0.140059366822243,0.026131365448236,0.063267461955547,-0.051398023962975,-0.010709463618696,0.035748425871134,0.105202533304691,0.128361389040947,-0.058114282786846,-0.059468105435371,0.053821098059416,-0.046834055334330,-0.053321458399296,0.015967613086104));
res += mul(Get(s1,-dx,0), float4x4(-0.011364591307938,-0.248551741242409,0.248700827360153,0.221584394574165,-0.026605531573296,0.167154967784882,-0.110642112791538,-0.187472924590111,-0.131488427519798,-0.048080675303936,0.249181091785431,-0.181790664792061,0.090310484170914,-0.092887014150620,0.053124215453863,-0.128437936306000));
res += mul(Get(s1,-dx,dy), float4x4(-0.123486809432507,0.072668425738811,-0.053717169910669,-0.139469325542450,-0.180109784007072,0.036116626113653,0.148068815469742,-0.222822263836861,0.034602869302034,0.041866596788168,0.017210969701409,0.083673559129238,0.051685068756342,-0.082351088523865,-0.036785278469324,-0.136907443404198));
res += mul(Get(s1,0,-dy), float4x4(0.197170794010162,-0.096089504659176,-0.040516968816519,-0.245451763272285,0.036968041211367,0.029697565361857,-0.029587434604764,-0.282109260559082,0.154397457838058,-0.023457786068320,-0.096442423760891,0.112104117870331,0.118765152990818,-0.101333253085613,0.027905590832233,0.043250259011984));
res += mul(Get(s1,0,0), float4x4(-0.358547478914261,0.405193626880646,0.059318311512470,-0.249639675021172,-0.218605160713196,-0.097329445183277,-0.101483106613159,0.203262805938721,0.071492545306683,-0.042297456413507,-0.243311136960983,0.115088574588299,0.207392603158951,-0.044600371271372,-0.010126803070307,-0.000789787096437));
res += mul(Get(s1,0,dy), float4x4(-0.318107068538666,0.183389395475388,-0.181762114167213,-0.132796645164490,0.098131872713566,-0.188283860683441,-0.373865634202957,-0.091291531920433,-0.090852037072182,-0.094379298388958,0.069490514695644,-0.079566694796085,0.146915361285210,-0.119273878633976,-0.046790663152933,-0.382096022367477));
res += mul(Get(s1,dx,-dy), float4x4(0.239029094576836,0.322307586669922,-0.145521819591522,-0.073288083076477,0.092551000416279,0.181823849678040,-0.044088680297136,-0.029678527265787,0.011805051006377,-0.082472734153271,0.016589369624853,-0.123843252658844,0.055202800780535,-0.072864823043346,-0.019228428602219,-0.089298509061337));
res += mul(Get(s1,dx,0), float4x4(0.172019198536873,0.098175682127476,-0.510713160037994,-0.129841387271881,-0.020410211756825,0.003437879029661,0.096899241209030,0.063607454299927,-0.114420220255852,0.001912779523991,-0.082980692386627,0.102040939033031,0.115604780614376,0.033668704330921,-0.025090334936976,0.010462109930813));
res += mul(Get(s1,dx,dy), float4x4(-0.018065618351102,-0.147044911980629,-0.092679396271706,-0.032028596848249,-0.101831927895546,0.042800527065992,0.171847224235535,-0.119088612496853,0.049850992858410,0.034466050565243,0.017414044588804,0.034425351768732,0.129164204001427,-0.141929849982262,-0.184037894010544,-0.258053302764893));
res += mul(Get(s2,-dx,-dy), float4x4(-0.149993300437927,0.196095049381256,-0.008892118930817,0.018917417153716,0.019628951326013,-0.144927859306335,-0.015997136011720,-0.055709429085255,-0.002590435091406,-0.139656618237495,-0.099750444293022,-0.101023025810719,-0.192820519208908,-0.441432565450668,-0.001598283066414,0.046549115329981));
res += mul(Get(s2,-dx,0), float4x4(0.200301751494408,-0.154570698738098,-0.059564676135778,0.119798071682453,-0.436471819877625,-0.077972106635571,0.059571571648121,-0.017436329275370,0.050118707120419,-0.356985360383987,0.003768049180508,-0.094483286142349,0.383190721273422,-0.117178648710251,-0.139091596007347,0.138231992721558));
res += mul(Get(s2,-dx,dy), float4x4(0.019302593544126,0.002912611933425,0.099702008068562,-0.157203525304794,-0.064740672707558,-0.223902255296707,-0.010044610127807,0.063685096800327,-0.090968079864979,0.149217978119850,-0.073788680136204,-0.012987849302590,0.184175044298172,0.430334419012070,-0.118246689438820,-0.083711445331573));
res += mul(Get(s2,0,-dy), float4x4(-0.061371792107821,-0.242374002933502,-0.102850109338760,-0.102493382990360,0.192288294434547,0.343746811151505,0.053239058703184,0.024041881784797,-0.011458566412330,-0.169375658035278,0.248054295778275,-0.158424735069275,0.001529072411358,-0.469255149364471,-0.234983876347542,-0.017000267282128));
res += mul(Get(s2,0,0), float4x4(-0.005551581270993,0.297331511974335,0.470447123050690,0.064745388925076,0.163062095642090,-0.044571600854397,0.003642911789939,-0.121368966996670,-0.112396098673344,0.156271398067474,0.250085145235062,-0.014268656261265,-0.591540992259979,0.239541351795197,0.555482506752014,0.022034965455532));
res += mul(Get(s2,0,dy), float4x4(-0.082292735576630,-0.036516878753901,-0.046221926808357,-0.040245141834021,0.061638101935387,-0.076102659106255,0.124487467110157,0.115257129073143,-0.186784699559212,0.016616841778159,-0.113115467131138,-0.113138258457184,-0.114722110331059,0.086394704878330,0.047876518219709,-0.327457159757614));
res += mul(Get(s2,dx,-dy), float4x4(-0.008268784731627,-0.053099144250154,-0.092336788773537,-0.002609175629914,-0.101630330085754,0.122141800820827,-0.236988618969917,-0.180908024311066,0.059645462781191,0.107210591435432,-0.076911173760891,-0.112507149577141,0.034660421311855,0.269867628812790,0.128430768847466,0.020879702642560));
res += mul(Get(s2,dx,0), float4x4(-0.232934579253197,0.205570191144943,-0.242906242609024,-0.322367548942566,0.259773373603821,-0.095971547067165,-0.019174387678504,0.426755160093307,-0.026981703937054,-0.194746375083923,0.057428229600191,0.176307290792465,0.125668272376060,0.180868193507195,-0.111615300178528,-0.340005338191986));
res += mul(Get(s2,dx,dy), float4x4(-0.272713124752045,-0.047547299414873,0.098034493625164,-0.100217334926128,-0.009221388027072,0.187704905867577,0.052623808383942,-0.062464274466038,0.012416413985193,0.060610733926296,-0.041101735085249,0.058379080146551,0.067299284040928,-0.244010403752327,-0.169084206223488,0.186491295695305));
res = max(float4(0, 0, 0, 0), res) + float4(0.879211187362671,-0.335923701524734,-0.285492986440659,0.939493358135223) * min(float4(0, 0, 0, 0), res);
return res;
}
