sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.128195285797119,-0.165680646896362,-0.005676330998540,-0.132747814059258);
res += mul(Get(s0,-dx,-dy), float4x4(-0.048265919089317,0.027022365480661,0.044971466064453,-0.084784813225269,0.002482697367668,-0.109060265123844,-0.073098003864288,0.116601593792439,0.112017907202244,0.195219591259956,-0.019517388194799,0.145544543862343,-0.096871443092823,-0.111548423767090,-0.060980472713709,-0.094459049403667));
res += mul(Get(s0,-dx,0), float4x4(-0.017660144716501,-0.075056254863739,-0.010074133053422,0.110014662146568,-0.152046829462051,-0.130925431847572,0.056079745292664,0.190284207463264,-0.154716268181801,0.213565707206726,-0.173052966594696,-0.100723370909691,0.082200869917870,-0.242624804377556,0.012424129061401,0.183072522282600));
res += mul(Get(s0,-dx,dy), float4x4(-0.171820044517517,-0.098072133958340,0.013411281630397,-0.050936855375767,-0.115241624414921,0.038791421800852,0.063243500888348,0.069712482392788,0.132179245352745,0.039793279021978,0.043786037713289,-0.011715025641024,0.012998838908970,-0.100107684731483,-0.093317925930023,0.113173112273216));
res += mul(Get(s0,0,-dy), float4x4(0.134340614080429,-0.073380969464779,0.119903422892094,0.037817243486643,-0.171413466334343,0.074654877185822,-0.154028207063675,-0.075271286070347,-0.164344906806946,0.058486007153988,0.047425575554371,0.159633070230484,0.221576511859894,0.124418966472149,-0.010436857119203,-0.027444444596767));
res += mul(Get(s0,0,0), float4x4(-0.387291848659515,-0.165981903672218,-0.068166702985764,-0.215979591012001,0.136227563023567,0.389286637306213,0.307810574769974,-0.070006698369980,0.193322718143463,-0.249802768230438,0.029062369838357,0.424435973167419,-0.398488044738770,0.585186898708344,0.207216754555702,-0.180124312639236));
res += mul(Get(s0,0,dy), float4x4(-0.054763343185186,0.056478910148144,0.025245353579521,-0.156004995107651,-0.151293575763702,0.111325241625309,-0.178867891430855,-0.239661991596222,-0.026793524622917,0.109824813902378,-0.040176033973694,0.007967652752995,-0.028213629499078,0.133710369467735,-0.006037845276296,-0.054319813847542));
res += mul(Get(s0,dx,-dy), float4x4(0.083026945590973,0.026294536888599,0.000345185399055,-0.026112640276551,-0.235926002264023,0.123513557016850,0.050080031156540,-0.051456473767757,0.066588252782822,-0.104578003287315,0.027288807556033,-0.196247041225433,-0.018015928566456,-0.072674073278904,-0.054041601717472,0.159784600138664));
res += mul(Get(s0,dx,0), float4x4(-0.068274416029453,0.117715857923031,-0.040227640420198,0.029153922572732,-0.079484827816486,0.050704158842564,-0.004570097196847,0.099869050085545,-0.051840759813786,0.290456920862198,0.048060804605484,-0.088808797299862,0.051616657525301,-0.198424249887466,-0.042249269783497,0.345142692327499));
res += mul(Get(s0,dx,dy), float4x4(0.089412815868855,-0.195880174636841,0.048864994198084,0.000060481179389,-0.051424264907837,0.053839836269617,-0.056574419140816,0.015402100980282,0.101452246308327,0.083502836525440,-0.000538231222890,0.023467123508453,-0.010393556207418,-0.232784196734428,0.079519487917423,-0.027279416099191));
res += mul(Get(s1,-dx,-dy), float4x4(-0.180815711617470,0.382886886596680,-0.034622576087713,-0.260413169860840,-0.260602325201035,-0.067947670817375,0.065699771046638,-0.015149307437241,0.227863237261772,-0.145803242921829,-0.040780343115330,0.116738915443420,0.080249227583408,-0.099868156015873,-0.034930177032948,0.083588100969791));
res += mul(Get(s1,-dx,0), float4x4(0.062337577342987,-0.133096948266029,-0.017809102311730,0.233963504433632,-0.031218254938722,-0.237083405256271,-0.006677378434688,0.170068964362144,0.040505927056074,0.181999310851097,-0.079359740018845,0.003735634265468,-0.130936518311501,0.063180662691593,-0.196332067251205,-0.154983416199684));
res += mul(Get(s1,-dx,dy), float4x4(-0.099678412079811,-0.098269149661064,0.097854934632778,0.137057036161423,-0.021300606429577,0.041139584034681,0.010529856197536,-0.045549366623163,-0.007334305904806,-0.015259235166013,-0.003933383151889,-0.022839890792966,0.121652372181416,-0.044939022511244,0.049669139087200,-0.078222908079624));
res += mul(Get(s1,0,-dy), float4x4(0.064030990004539,-0.351708501577377,-0.091791138052940,0.217248901724815,-0.238935247063637,0.120800279080868,-0.047134965658188,-0.132671311497688,0.173446685075760,0.034162465482950,-0.014564041979611,-0.138659790158272,0.117547340691090,-0.153350204229355,-0.061569210141897,-0.229739204049110));
res += mul(Get(s1,0,0), float4x4(-0.151506915688515,0.303949087858200,0.032157186418772,-0.188427269458771,0.111772134900093,0.478769153356552,0.066129475831985,-0.606236815452576,-0.281398296356201,-0.335172116756439,-0.187215730547905,0.083633624017239,-0.397397130727768,-0.389495581388474,0.652102828025818,-0.213021069765091));
res += mul(Get(s1,0,dy), float4x4(0.113062486052513,0.220301672816277,0.107702299952507,-0.004414941649884,-0.016844017431140,0.064522169530392,-0.066397100687027,-0.148570775985718,0.298092901706696,0.023319141939282,0.147007018327713,0.033931288868189,0.286181718111038,0.161738231778145,0.050311531871557,-0.052037909626961));
res += mul(Get(s1,dx,-dy), float4x4(-0.066786140203476,0.180230632424355,0.019779711961746,-0.059739165008068,-0.114951252937317,-0.050138354301453,-0.010891767218709,-0.044963385909796,0.216924980282784,-0.096928596496582,-0.019414482638240,-0.014732712879777,-0.058789871633053,0.001484311767854,-0.157284900546074,-0.033096332103014));
res += mul(Get(s1,dx,0), float4x4(0.028003482148051,-0.110411413013935,-0.008736074902117,0.210212618112564,0.118326425552368,-0.215722829103470,-0.058738447725773,-0.036174003034830,-0.049943793565035,0.127817869186401,-0.135846287012100,-0.054088257253170,-0.090619623661041,0.236403584480286,-0.198885098099709,0.037450730800629));
res += mul(Get(s1,dx,dy), float4x4(0.069283470511436,-0.024646252393723,0.027247445657849,0.005598972085863,-0.052720114588737,-0.140775725245476,0.031979430466890,-0.122321024537086,0.037460364401340,-0.026293061673641,0.049004431813955,-0.067791424691677,0.058131780475378,-0.041896887123585,0.090001232922077,-0.021083686500788));
res += mul(Get(s2,-dx,-dy), float4x4(-0.051060870289803,0.088147610425949,-0.108020678162575,-0.246260941028595,-0.017949083819985,-0.019421774893999,-0.057012788951397,-0.000479359296151,0.053622625768185,-0.079619035124779,0.049194984138012,0.168399110436440,0.196104794740677,-0.026366556063294,-0.071289420127869,0.005108545999974));
res += mul(Get(s2,-dx,0), float4x4(-0.064102061092854,0.009138566441834,0.093684099614620,-0.233446955680847,-0.028168242424726,-0.028414072468877,0.026034317910671,-0.148927524685860,-0.056732349097729,-0.132873669266701,0.093697443604469,0.521128833293915,0.156654089689255,0.060876179486513,0.055552624166012,-0.057528696954250));
res += mul(Get(s2,-dx,dy), float4x4(-0.018585579469800,-0.042229712009430,-0.072869196534157,-0.062078736722469,0.048134285956621,0.014743020758033,-0.039832860231400,-0.162925973534584,0.059174243360758,0.094406686723232,0.105743855237961,0.173963606357574,0.028813373297453,0.136342361569405,0.027757301926613,0.064006336033344));
res += mul(Get(s2,0,-dy), float4x4(-0.110367856919765,-0.004921188578010,0.029140340164304,0.125670194625854,-0.045586824417114,0.079315237700939,-0.101210907101631,-0.044135022908449,-0.098405621945858,-0.160597860813141,0.040463570505381,-0.018636224791408,0.492754757404327,0.303350478410721,-0.109382472932339,-0.013537920080125));
res += mul(Get(s2,0,0), float4x4(0.099980868399143,-0.210627406835556,-0.051750976592302,0.064739838242531,0.112381555140018,0.092147447168827,0.073463611304760,-0.001305908779614,-0.253822028636932,-0.026436680927873,-0.028600525110960,-0.532661616802216,0.498923748731613,-0.057185262441635,0.307046949863434,0.166798010468483));
res += mul(Get(s2,0,dy), float4x4(0.011816020123661,0.020087676122785,-0.079629540443420,-0.071826241910458,-0.049982648342848,-0.273491978645325,-0.092391297221184,0.055178944021463,0.162108570337296,0.070266284048557,0.117936320602894,-0.006274051964283,-0.227601036429405,-0.260713249444962,-0.087378360331059,-0.101295873522758));
res += mul(Get(s2,dx,-dy), float4x4(0.221340581774712,-0.161008074879646,0.078866586089134,-0.205810636281967,-0.050521422177553,-0.166631415486336,0.004435541573912,0.086254522204399,-0.113526120781898,0.147592484951019,-0.035343453288078,-0.039747953414917,0.273908823728561,-0.233317881822586,-0.056850608438253,0.077011309564114));
res += mul(Get(s2,dx,0), float4x4(-0.153012931346893,0.266050279140472,0.017300751060247,-0.100935839116573,0.155193313956261,-0.239927396178246,-0.000638288038317,0.203372314572334,-0.062458410859108,0.009184513241053,-0.054559044539928,0.070882208645344,-0.154389500617981,0.043422397226095,0.056948494166136,-0.121847987174988));
res += mul(Get(s2,dx,dy), float4x4(0.089516013860703,0.018468024209142,0.012406032532454,-0.050632648169994,-0.177858263254166,-0.093496069312096,-0.039811827242374,0.045445397496223,-0.018990572541952,-0.222689107060432,0.059601012617350,-0.047276135534048,-0.032608773559332,0.105344183743000,0.076139189302921,0.108899086713791));
res = max(float4(0, 0, 0, 0), res) + float4(0.306487798690796,0.210876658558846,1.037277817726135,-0.030517769977450) * min(float4(0, 0, 0, 0), res);
return res;
}
