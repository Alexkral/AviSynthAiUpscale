sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.1564911156892776,-0.1327560245990753,0.0255133006721735,-0.0968058332800865);
res += mul(Get(s0,-dx,-dy), float4x4(-0.3609669208526611,0.0713430866599083,-0.1442019641399384,-0.2418315261602402,0.1652580350637436,-0.1513595581054688,0.2015788257122040,0.0491656549274921,0.0679437369108200,0.0609739795327187,-0.0133428592234850,0.1572816222906113,-0.0317942649126053,-0.1265582293272018,-0.0257201623171568,-0.1329829543828964));
res += mul(Get(s1,-dx,-dy), float4x4(0.4421189725399017,-0.0200791507959366,-0.1604897230863571,0.2312023043632507,-0.0638618171215057,0.0031088108662516,-0.0257371179759502,0.0021340972743928,0.0930412709712982,-0.0636743232607841,0.1677142679691315,0.0396017134189606,0.3358390629291534,0.0604427829384804,0.0689125210046768,0.1050718128681183));
res += mul(Get(s2,-dx,-dy), float4x4(0.1309708058834076,-0.0941895246505737,-0.0704165250062943,-0.2078798264265060,-0.1540535390377045,0.0739173516631126,-0.1162048801779747,0.0268704500049353,0.1442251950502396,-0.0118619604036212,0.1804491579532623,-0.0230595041066408,-0.0105937318876386,-0.1377320885658264,0.1568437218666077,-0.0516367182135582));
res += mul(Get(s0,-dx,0), float4x4(0.0271977558732033,0.0716834813356400,0.1984228193759918,-0.3180304467678070,-0.0277261342853308,-0.3959589004516602,0.3374143540859222,-0.3283275067806244,-0.2055175155401230,-0.0521036759018898,0.1654709577560425,-0.1174453645944595,0.1851538866758347,-0.4359278678894043,-0.1087364479899406,-0.1677836477756500));
res += mul(Get(s1,-dx,0), float4x4(0.2036820352077484,0.0194341931492090,-0.0489738993346691,0.3149702847003937,0.0297183394432068,0.0398108214139938,0.1553105115890503,-0.0632839202880859,-0.0415560379624367,0.0097555210813880,0.3089058101177216,-0.1383527070283890,0.3805936872959137,-0.1884074956178665,0.5148656964302063,-0.0415274724364281));
res += mul(Get(s2,-dx,0), float4x4(0.0359287597239017,0.1172451749444008,0.2144826501607895,0.0596698150038719,0.0832195132970810,-0.3304421901702881,-0.3256102502346039,0.2482774704694748,-0.0571842379868031,-0.1496973931789398,0.1897467821836472,-0.0859439149498940,-0.0895906984806061,0.0782541558146477,0.0757400244474411,-0.2489883601665497));
res += mul(Get(s0,-dx,dy), float4x4(-0.3083020150661469,0.0866432040929794,-0.0826483890414238,-0.1441489160060883,0.0146199315786362,-0.0710728839039803,-0.2122041136026382,0.0089512038975954,-0.0598120614886284,-0.0662168264389038,0.0958952680230141,0.0084551703184843,0.0828250795602798,0.0904027372598648,-0.3439545929431915,0.3015550374984741));
res += mul(Get(s1,-dx,dy), float4x4(0.1624266654253006,-0.1054679751396179,0.2326974123716354,0.0043351491913199,-0.0130923558026552,-0.0112668164074421,0.0481132119894028,-0.0592935755848885,-0.0221395324915648,0.0112004997208714,-0.0251377522945404,-0.0560216270387173,-0.0887200161814690,0.0417514108121395,0.0413844659924507,-0.3313107788562775));
res += mul(Get(s2,-dx,dy), float4x4(-0.0049651437439024,0.1285539716482162,-0.1520082503557205,0.0819810330867767,0.1932266056537628,-0.1693599820137024,-0.2331402301788330,0.2824852466583252,0.0017872541211545,-0.0555156245827675,0.0130192451179028,0.1569850295782089,-0.0235701333731413,-0.0316633172333241,0.1058914884924889,-0.0038026736583561));
res += mul(Get(s0,0,-dy), float4x4(0.1482317447662354,0.1351420432329178,0.2149815559387207,0.2326826453208923,0.1277242153882980,0.1765560805797577,-0.0626901090145111,0.1428624093532562,0.0619879998266697,-0.1289154589176178,0.1538582146167755,0.0470658838748932,-0.1351377218961716,-0.0065037859603763,-0.1564421802759171,0.1666567325592041));
res += mul(Get(s1,0,-dy), float4x4(-0.0912477821111679,0.1694857031106949,-0.0349283739924431,-0.1929247081279755,0.0401113033294678,-0.1070679128170013,0.0469223111867905,-0.0520524829626083,0.0674691051244736,0.2481398135423660,-0.1845906674861908,0.1039025709033012,-0.0541642457246780,0.1819393932819366,-0.1599098443984985,-0.0202213898301125));
res += mul(Get(s2,0,-dy), float4x4(-0.0763962417840958,0.0515198558568954,-0.1313311159610748,0.1447289884090424,-0.0102282399311662,0.1609017848968506,-0.0750977694988251,0.1155750527977943,0.0789291188120842,0.2103562653064728,-0.0782088041305542,0.0971810817718506,-0.0880355611443520,-0.1439327001571655,0.2645523846149445,0.1770015507936478));
res += mul(Get(s0,0,0), float4x4(-0.2176387757062912,0.0733947828412056,-0.2644775211811066,-0.1753727048635483,0.4525437951087952,0.1548790484666824,-0.6287172436714172,0.6300690174102783,-0.1366421282291412,-0.0762359425425529,-0.0047527607530355,-0.0824743732810020,0.2331899106502533,0.1306398212909698,-0.2657157480716705,0.3761175870895386));
res += mul(Get(s1,0,0), float4x4(-0.2065179646015167,-0.3730014860630035,-0.0361398942768574,-0.0468393899500370,0.1488642543554306,-0.1327708065509796,0.1428524404764175,-0.0425190702080727,-0.0634022727608681,0.0411055311560631,-0.3202516436576843,0.0932489782571793,-0.0354020819067955,0.2914723455905914,0.0164045244455338,0.0069857696071267));
res += mul(Get(s2,0,0), float4x4(-0.1972422748804092,0.3382934033870697,0.0221023149788380,0.1660588234663010,0.1984828561544418,-0.5330158472061157,-0.0174632221460342,-0.0404977239668369,-0.0606063157320023,0.4038755893707275,0.2643249034881592,-0.0948013514280319,-0.4608722627162933,0.1813416332006454,0.0012002927251160,-0.4127648472785950));
res += mul(Get(s0,0,dy), float4x4(-0.0218423083424568,0.0442178472876549,0.0814692005515099,-0.0468232631683350,-0.0316906943917274,-0.1536063253879547,0.2412953078746796,-0.0909013524651527,0.4281501770019531,0.1567288637161255,-0.1737287491559982,0.2904737591743469,-0.3497385382652283,0.0717611834406853,0.2878736853599548,-0.2517054080963135));
res += mul(Get(s1,0,dy), float4x4(0.2310390323400497,-0.1364277005195618,-0.2782049179077148,0.2002437710762024,0.1383505910634995,-0.0196944233030081,-0.1017766669392586,0.1307195425033569,-0.1050523072481155,-0.0507916286587715,0.0845344215631485,-0.1304328888654709,-0.0711060613393784,-0.1583450138568878,0.2410270273685455,-0.1554339081048965));
res += mul(Get(s2,0,dy), float4x4(0.0239066500216722,0.1221521943807602,-0.1128440201282501,-0.0936355069279671,0.2916530072689056,-0.1025759726762772,0.0407785922288895,0.3097052872180939,0.0341441594064236,0.0873140990734100,-0.0971740558743477,0.0216854587197304,0.1173498183488846,0.2274184972047806,-0.0030293331947178,0.2525848448276520));
res += mul(Get(s0,dx,-dy), float4x4(0.0357850156724453,0.0033687942195684,-0.1811327934265137,-0.1237941235303879,-0.1889416873455048,-0.0237670857459307,0.0376663394272327,-0.1232416927814484,-0.1158426180481911,-0.2145930081605911,-0.0598616972565651,0.0377605110406876,0.1786074042320251,-0.0492688454687595,0.0517624653875828,-0.0980491414666176));
res += mul(Get(s1,dx,-dy), float4x4(0.1499377787113190,0.1971638500690460,0.1022383868694305,-0.1737385243177414,-0.0148934926837683,0.0890744179487228,0.0176412183791399,0.0073837833479047,-0.0504418201744556,-0.0156025383621454,-0.0152140893042088,-0.0257688537240028,0.1737284064292908,-0.2165494710206985,0.1664939671754837,0.0367250405251980));
res += mul(Get(s2,dx,-dy), float4x4(0.1119341030716896,-0.1432610303163528,0.0790726616978645,0.0141392108052969,0.0352088734507561,0.1353985369205475,-0.2955068051815033,0.0801070407032967,-0.0722891241312027,0.0358966402709484,0.0118604432791471,0.0100459652021527,0.1152461767196655,-0.0874958634376526,0.0376265496015549,0.1177851632237434));
res += mul(Get(s0,dx,0), float4x4(0.2275727838277817,0.2380632460117340,0.1532370448112488,0.0316276736557484,0.1561835259199142,0.3027354478836060,0.0401617400348186,0.1307720392942429,-0.1206160262227058,0.1348354071378708,0.0233228411525488,0.3834527730941772,-0.1163552179932594,-0.4216864109039307,-0.3331324458122253,-0.3351660966873169));
res += mul(Get(s1,dx,0), float4x4(-0.2226473391056061,-0.0138059575110674,-0.0301316455006599,-0.0089692128822207,-0.0613710433244705,0.1239867582917213,0.0246640667319298,0.0717061907052994,0.1729215234518051,0.1051183268427849,0.1185429692268372,0.0365715920925140,0.3481608033180237,-0.1777798086404800,0.0589600801467896,-0.0612755976617336));
res += mul(Get(s2,dx,0), float4x4(0.0477155111730099,-0.3913544714450836,-0.1526702046394348,-0.0966351553797722,-0.1620122939348221,0.3260614275932312,-0.1398578584194183,0.0325659736990929,0.0787417441606522,0.0700973346829414,0.1577746570110321,0.1131819188594818,0.1028849333524704,-0.3624124825000763,0.0735534057021141,-0.2684222161769867));
res += mul(Get(s0,dx,dy), float4x4(-0.1163311973214149,0.0866604298353195,0.1984565705060959,-0.0053518926724792,-0.3038273453712463,-0.1989728808403015,0.0882723182439804,-0.1097752675414085,-0.0779239833354950,-0.0164953619241714,-0.0303845070302486,0.0566953830420971,0.1064247637987137,-0.2027445286512375,-0.0387944690883160,-0.1243657767772675));
res += mul(Get(s1,dx,dy), float4x4(-0.1832448095083237,0.0017219779547304,-0.0095934914425015,0.0350519046187401,0.0069268513470888,0.1180163696408272,0.1088078320026398,0.0021128857042640,-0.0317862592637539,-0.0331313237547874,0.1051542684435844,-0.0248413719236851,0.1466376036405563,-0.0121829248964787,-0.0075120711699128,0.0524307452142239));
res += mul(Get(s2,dx,dy), float4x4(0.2478928565979004,-0.1152875721454620,-0.0820247456431389,0.0302742291241884,-0.2837265431880951,0.0161725822836161,-0.1532799601554871,-0.0052347742021084,-0.0829773843288422,-0.0891593992710114,0.0141247967258096,-0.1062764301896095,0.1698420047760010,0.1528988182544708,0.1914128661155701,0.0358432382345200));
res = max(float4(0, 0, 0, 0), res) + float4(1.2091671228408813,0.6015807390213013,-0.3988074958324432,-0.3075476288795471) * min(float4(0, 0, 0, 0), res);
return res;
}
