sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0271695386618376,-0.0561339370906353,0.0327990725636482,0.0167017523199320);
res += mul(Get(s0,-dx,-dy), float4x4(0.1056903451681137,0.0087638106197119,0.0165623389184475,-0.0858872681856155,-0.1509702354669571,-0.2041928470134735,-0.0381083041429520,-0.0227410495281219,0.0557331815361977,0.1740740984678268,0.1924388706684113,0.0997909680008888,0.0495581328868866,-0.0677801594138145,-0.0910641551017761,0.0659272670745850));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0557807534933090,0.0247171446681023,-0.0334105715155602,0.0068488982506096,-0.0512236058712006,-0.1193642467260361,-0.0240524709224701,-0.0647381842136383,-0.1210603564977646,-0.0231253597885370,0.0040436335839331,-0.0256891082972288,0.1842556595802307,0.0464356429874897,0.1020247489213943,0.1739931702613831));
res += mul(Get(s2,-dx,-dy), float4x4(0.0417105704545975,0.1415876448154449,-0.0194685123860836,0.1155976131558418,-0.1149549037218094,0.0030467391479760,-0.0406850874423981,-0.0529162734746933,0.0107205556705594,-0.1622991859912872,0.1884638369083405,0.1950266957283020,-0.0473299846053123,-0.0033120871521533,0.1998665481805801,-0.0568544566631317));
res += mul(Get(s0,-dx,0), float4x4(0.1323045194149017,0.1231352463364601,-0.5767068862915039,-0.3939976990222931,0.0586450994014740,-0.0984026193618774,-0.3053043782711029,-0.2921175658702850,-0.0128929261118174,-0.0772891268134117,-0.1424935907125473,-0.0274631865322590,-0.3570325374603271,0.1806033104658127,0.1175187006592751,-0.0808520764112473));
res += mul(Get(s1,-dx,0), float4x4(-0.1968716233968735,0.0153301022946835,-0.0704901814460754,-0.0535597093403339,-0.2708585262298584,-0.1202435344457626,0.4527473449707031,0.3345776200294495,0.2093962281942368,0.0211460329592228,-0.0587363950908184,0.0908979997038841,0.1137367635965347,0.1773389875888824,0.1935188770294189,-0.1358669996261597));
res += mul(Get(s2,-dx,0), float4x4(-0.2497501671314240,-0.0155942551791668,-0.1604275405406952,-0.2793073952198029,-0.0959647595882416,-0.0826951935887337,0.0831474065780640,0.0075739179737866,-0.2985134422779083,-0.2986674308776855,-0.2402880042791367,-0.0474688969552517,-0.2706969976425171,-0.0894715487957001,-0.0860393866896629,0.2043685466051102));
res += mul(Get(s0,-dx,dy), float4x4(-0.2717438638210297,-0.3868537545204163,0.1786107271909714,0.2540431618690491,-0.1121727973222733,-0.0484808087348938,0.1756368279457092,0.1333785802125931,-0.1787543445825577,-0.1457971334457397,-0.0146722942590714,0.0520009770989418,-0.0892085060477257,-0.0969171971082687,-0.0056808516383171,0.0072048287838697));
res += mul(Get(s1,-dx,dy), float4x4(0.0437100641429424,0.1407247036695480,0.0290144346654415,0.0723750516772270,0.2433142513036728,0.0281185377389193,-0.0743532776832581,-0.0612190067768097,0.1955561786890030,0.1280315816402435,-0.0934521406888962,-0.0496037527918816,-0.1707780063152313,-0.1880934089422226,-0.0857718512415886,-0.0210684221237898));
res += mul(Get(s2,-dx,dy), float4x4(-0.4469543993473053,-0.3390125334262848,0.2281044125556946,-0.0119577804580331,-0.1112552061676979,0.0240461528301239,-0.0240401737391949,0.0703193545341492,-0.2749048173427582,-0.2652418017387390,0.0353819839656353,0.1169335842132568,0.1287555992603302,0.2416013330221176,-0.1867454051971436,-0.0413085073232651));
res += mul(Get(s0,0,-dy), float4x4(-0.1763994991779327,-0.1210580617189407,0.0924775227904320,-0.0037421456072479,0.0214980412274599,0.0959765315055847,0.0338689275085926,0.1429428309202194,0.0886156782507896,-0.0579294785857201,0.1413919031620026,0.2431516498327255,-0.2432177513837814,0.0998701676726341,-0.2362275868654251,-0.1303457915782928));
res += mul(Get(s1,0,-dy), float4x4(-0.1919531971216202,0.0690057426691055,-0.1348136067390442,-0.0557700134813786,0.5281171798706055,0.2100417912006378,0.6107993721961975,0.2594387233257294,0.1852062642574310,0.0437115803360939,-0.1529575139284134,-0.0550513006746769,-0.2068444043397903,0.0344048514962196,0.3334558010101318,0.1590066999197006));
res += mul(Get(s2,0,-dy), float4x4(0.1433144658803940,-0.0346505716443062,0.3563328683376312,-0.0139831136912107,0.0954711437225342,-0.0097058489918709,-0.0414796024560928,-0.0674087777733803,0.0735645070672035,0.0028321496210992,0.1393363624811172,0.1907020956277847,-0.3706205487251282,-0.0311506893485785,-0.0525778643786907,0.3236876726150513));
res += mul(Get(s0,0,0), float4x4(-0.0882103219628334,0.2423222213983536,-0.7640441656112671,-0.1635977476835251,0.3538435697555542,0.4211720228195190,0.3332066535949707,-0.0687239319086075,0.2501017749309540,-0.0638694390654564,-1.2662950754165649,-0.8029934167861938,-0.2557004392147064,-0.6917903423309326,0.2325563430786133,0.5981308221817017));
res += mul(Get(s1,0,0), float4x4(0.0364157967269421,-0.3268433511257172,0.3688634037971497,0.2822288870811462,-0.4309579432010651,0.1571298092603683,-0.8535364866256714,-0.4049587845802307,-0.1993892043828964,-0.4041294157505035,-0.0838426500558853,0.1523799002170563,-0.0854289084672928,-0.3231652081012726,-0.7312718033790588,-0.2086428254842758));
res += mul(Get(s2,0,0), float4x4(1.5254428386688232,0.4520560801029205,0.0434718765318394,-0.3238181173801422,0.1173902228474617,-0.0848265215754509,-0.0513679571449757,0.0120751420035958,-0.7330639362335205,0.5387986302375793,-0.5950103998184204,-0.1422960311174393,0.5305224061012268,-0.3598479926586151,-0.5364895462989807,-0.9312173724174500));
res += mul(Get(s0,0,dy), float4x4(0.1588262617588043,0.1194483637809753,0.0336401797831059,0.1635889858007431,-0.0236732345074415,-0.5174062252044678,-0.3362901508808136,0.0105324061587453,-0.1081412509083748,-0.1154146417975426,0.2882537245750427,0.2668519318103790,-0.1889925599098206,-0.2423115670681000,0.0923699587583542,0.2551267147064209));
res += mul(Get(s1,0,dy), float4x4(-0.1025181636214256,-0.0044651725329459,-0.0247876420617104,0.0186225250363350,0.2814922928810120,-0.2824212312698364,-0.0257030539214611,-0.1632794141769409,-0.2136414498090744,-0.4744891524314880,0.1261402368545532,-0.0612822212278843,-0.3166396617889404,-0.1620727330446243,0.3716843128204346,0.2879268229007721));
res += mul(Get(s2,0,dy), float4x4(-0.0818372741341591,0.2143251597881317,-0.2184087187051773,-0.0554309301078320,0.2595002353191376,0.1310013532638550,-0.0513014160096645,-0.0129684563726187,0.2081881910562515,0.4942161142826080,0.2763394117355347,0.2010369151830673,0.2672395706176758,-0.1007195636630058,0.3700840175151825,0.3050425946712494));
res += mul(Get(s0,dx,-dy), float4x4(-0.0906269475817680,0.0588803216814995,0.1856918483972549,0.1249797195196152,0.0482374615967274,-0.0191439241170883,0.0799227282404900,-0.0542009957134724,0.1513536125421524,0.1153934299945831,-0.1352949738502502,-0.0594066530466080,0.0529581159353256,-0.1829558461904526,0.0804644152522087,0.0205334071069956));
res += mul(Get(s1,dx,-dy), float4x4(-0.1613969951868057,-0.0504902563989162,-0.0899365171790123,-0.0138942217454314,0.0662996396422386,0.2040573954582214,0.0962598994374275,-0.0650042295455933,-0.1661426872014999,0.0463929064571857,0.0887882262468338,-0.0415001809597015,0.0613243281841278,-0.1157140806317329,-0.1243537962436676,-0.0128267398104072));
res += mul(Get(s2,dx,-dy), float4x4(0.1252567023038864,-0.1075028330087662,0.1580983400344849,0.1170343458652496,-0.0592620819807053,0.0198165122419596,-0.1098059788346291,-0.0040682558901608,0.1518051326274872,-0.0063611678779125,-0.0544645786285400,-0.0878004878759384,0.2949977517127991,-0.2790039777755737,0.1261902898550034,0.1856069415807724));
res += mul(Get(s0,dx,0), float4x4(0.2266688346862793,0.0022484106011689,-0.0824120491743088,0.0432783514261246,0.0196672175079584,-0.0594680756330490,-0.0211348012089729,-0.1166324913501740,-0.1394909322261810,-0.1470602601766586,-0.0830626487731934,0.0361022129654884,-0.0869668126106262,-0.3207817375659943,-0.0037348910700530,-0.0458293147385120));
res += mul(Get(s1,dx,0), float4x4(0.2794807851314545,-0.2031068652868271,0.1128535941243172,0.0885796099901199,0.3899391591548920,-0.5817979574203491,-0.0245308466255665,-0.2354949116706848,0.0090187834575772,-0.2085530161857605,-0.0167597252875566,0.0088512580841780,0.0709639042615891,-0.0754980593919754,0.2588933408260345,0.1536511629819870));
res += mul(Get(s2,dx,0), float4x4(-0.4309488832950592,0.0508848540484905,0.1209114715456963,0.2126527279615402,0.0176959745585918,0.1226147413253784,0.1318140178918839,-0.0014455313794315,-0.1497534215450287,-0.7887923121452332,-0.0361909680068493,0.0664885640144348,-0.2985741794109344,-0.2586914598941803,-0.0727762728929520,-0.0391200743615627));
res += mul(Get(s0,dx,dy), float4x4(-0.1738564521074295,0.1490753889083862,0.1019565612077713,0.0967798456549644,0.1408979296684265,-0.5173727869987488,0.1349230557680130,0.0639390051364899,0.0795297697186470,0.2730286717414856,-0.0737054497003555,-0.0851394757628441,-0.1263236254453659,0.1462040096521378,-0.0094236489385366,0.0399073287844658));
res += mul(Get(s1,dx,dy), float4x4(-0.0333405733108521,-0.0898459330201149,0.0876082554459572,0.0023005076218396,-0.2845028638839722,0.1677350699901581,0.0248322617262602,0.1933215856552124,0.0737194046378136,0.3112350106239319,0.0526249669492245,0.0375605002045631,0.0336149781942368,0.2799579203128815,-0.0140838073566556,-0.1461217105388641));
res += mul(Get(s2,dx,dy), float4x4(-0.2380340099334717,0.0533924885094166,0.0567567609250546,0.0452100411057472,0.0477470345795155,-0.0843368396162987,-0.0861792564392090,-0.0187572389841080,0.2223665267229080,0.1628666371107101,-0.0633521601557732,-0.0451591536402702,0.3327960669994354,0.5744627118110657,0.0211038049310446,-0.0517819672822952));
res = max(float4(0, 0, 0, 0), res) + float4(0.6996250748634338,-0.0748064145445824,0.9494059681892395,3.2293891906738281) * min(float4(0, 0, 0, 0), res);
return res;
}
