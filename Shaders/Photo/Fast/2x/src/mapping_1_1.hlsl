sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.193862214684486,-0.237447425723076,0.106804303824902,0.007574867457151);
res += mul(Get(s0,-dx,-dy), float4x4(0.104630678892136,0.046040039509535,0.001081465743482,-0.002217655302957,0.075788922607899,0.113669559359550,0.122427120804787,0.040223512798548,-0.096111513674259,0.006340106483549,0.120530642569065,0.056256972253323,0.025463955476880,-0.125255420804024,0.090329520404339,-0.039359595626593));
res += mul(Get(s0,-dx,0), float4x4(-0.004033772274852,-0.036516875028610,0.233470961451530,0.093858741223812,-0.047189064323902,0.112385176122189,-0.159155264496803,-0.023236051201820,-0.158038303256035,-0.043914675712585,-0.036558382213116,-0.063602551817894,0.088063336908817,-0.240939170122147,-0.137246131896973,-0.039559967815876));
res += mul(Get(s0,-dx,dy), float4x4(0.067940652370453,0.272041410207748,-0.046069495379925,0.043936464935541,0.162151873111725,-0.061069864779711,-0.045547343790531,0.089090891182423,-0.030425967648625,0.072194479405880,0.028986299410462,0.021930150687695,0.079958423972130,-0.181495457887650,-0.052774854004383,0.068782463669777));
res += mul(Get(s0,0,-dy), float4x4(0.094024248421192,0.252678036689758,-0.097055628895760,0.075221784412861,0.098348230123520,-0.204755127429962,-0.091987624764442,0.165700644254684,0.085256054997444,0.111411377787590,0.119368165731430,-0.128213509917259,-0.022148642688990,0.069680936634541,0.060376606881618,0.642128050327301));
res += mul(Get(s0,0,0), float4x4(0.181641012430191,-0.145241439342499,0.236881867051125,-0.127155214548111,-0.133033901453018,0.129945859313011,0.153154268860817,-0.218895256519318,-0.002999913180247,-0.156206011772156,0.023326063528657,-0.003202032763511,0.300735414028168,0.202181726694107,0.052891630679369,-0.559764206409454));
res += mul(Get(s0,0,dy), float4x4(-0.013062166050076,0.230739012360573,-0.455716580152512,0.051888890564442,0.208457961678505,-0.201372101902962,-0.115328080952168,0.061148762702942,0.080458328127861,-0.044267736375332,-0.113692097365856,-0.226544603705406,0.071462363004684,0.213965937495232,-0.218498736619949,-0.178682073950768));
res += mul(Get(s0,dx,-dy), float4x4(-0.078231140971184,0.323896080255508,-0.024547919631004,-0.052322428673506,-0.230770438909531,-0.017475740984082,0.288870513439178,-0.102753929793835,-0.075753070414066,0.059520833194256,-0.069307573139668,0.088296569883823,-0.229515269398689,0.139585480093956,-0.011911973357201,0.039846859872341));
res += mul(Get(s0,dx,0), float4x4(-0.067544773221016,-0.125144973397255,0.046883646398783,-0.029547108337283,-0.220846727490425,0.034269895404577,-0.146019130945206,-0.057965978980064,0.162715733051300,0.092732034623623,0.086959250271320,0.002105505205691,0.230687603354454,-0.015923852100968,-0.046699430793524,-0.075481802225113));
res += mul(Get(s0,dx,dy), float4x4(-0.003813903778791,0.161282211542130,-0.099819444119930,-0.028941154479980,0.441113412380219,0.002543342066929,0.074585884809494,-0.057266227900982,-0.257943063974380,0.031538236886263,0.069477565586567,-0.117501728236675,-0.060207765549421,-0.020601561293006,0.072358407080173,-0.089589267969131));
res += mul(Get(s1,-dx,-dy), float4x4(0.140251323580742,0.129891976714134,0.036240726709366,0.221196398139000,-0.004826190415770,-0.154180750250816,-0.085761941969395,-0.227027401328087,-0.135733842849731,-0.199734747409821,0.027610393241048,0.110552109777927,-0.080583378672600,-0.189791604876518,-0.195976540446281,-0.027696954086423));
res += mul(Get(s1,-dx,0), float4x4(0.050306677818298,-0.085273362696171,-0.389192461967468,-0.219857841730118,0.060255948454142,-0.023690566420555,0.012822011485696,-0.018284589052200,0.210174679756165,0.016218727454543,-0.032330051064491,-0.333214998245239,0.043634153902531,-0.127787783741951,-0.151888832449913,-0.119806796312332));
res += mul(Get(s1,-dx,dy), float4x4(0.006968395318836,-0.060257114470005,-0.060317870229483,-0.082045622169971,0.059115815907717,0.029931435361505,0.060277819633484,-0.063827440142632,0.082453966140747,-0.139574125409126,-0.091834269464016,-0.049341596662998,0.105019696056843,-0.024459498003125,-0.040156301110983,0.083640910685062));
res += mul(Get(s1,0,-dy), float4x4(-0.002402839250863,-0.043724890798330,-0.229775771498680,0.579304993152618,-0.315822780132294,0.123582042753696,-0.142025664448738,-0.060143295675516,0.038325533270836,-0.051180586218834,0.100505784153938,0.159936711192131,0.058975465595722,0.210666716098785,-0.155378267168999,-0.070462293922901));
res += mul(Get(s1,0,0), float4x4(-0.248075127601624,0.607540845870972,0.077515691518784,-0.284457921981812,0.450072705745697,-0.135308980941772,0.156408742070198,-0.304471909999847,0.103472448885441,0.472578436136246,0.243590906262398,-0.433321326971054,-0.061735633760691,-0.055787116289139,-0.321910530328751,-0.372188091278076));
res += mul(Get(s1,0,dy), float4x4(0.054982684552670,0.094641275703907,-0.139575824141502,-0.034496903419495,0.332651644945145,-0.380039691925049,-0.239775359630585,-0.112077884376049,0.133249461650848,-0.086582563817501,-0.188150554895401,-0.059893559664488,0.128589943051338,-0.273980915546417,-0.231728345155716,0.107215501368046));
res += mul(Get(s1,dx,-dy), float4x4(0.306737601757050,0.104755401611328,0.200111418962479,-0.229836508631706,-0.061386220157146,-0.053508277982473,-0.103553719818592,0.083955682814121,0.048608116805553,-0.015286960639060,-0.138043731451035,-0.011185498908162,0.111276403069496,0.098129652440548,-0.249826684594154,-0.145783796906471));
res += mul(Get(s1,dx,0), float4x4(-0.025091677904129,-0.186168774962425,-0.049096114933491,-0.015275441110134,-0.053698614239693,0.042115040123463,-0.046886336058378,-0.028029723092914,-0.064492307603359,-0.259375989437103,-0.077523633837700,0.070458307862282,0.290220737457275,-0.258901834487915,-0.221908003091812,0.030298827216029));
res += mul(Get(s1,dx,dy), float4x4(-0.003410669509321,0.114125467836857,-0.070243336260319,-0.250594645738602,0.037655051797628,-0.245634213089943,-0.143275976181030,0.055136777460575,-0.121331416070461,-0.074675910174847,0.108015350997448,0.126293152570724,0.022690186277032,-0.086764864623547,-0.189736798405647,0.123836204409599));
res += mul(Get(s2,-dx,-dy), float4x4(0.187763050198555,-0.045115094631910,0.153922379016876,-0.396789103746414,0.014052418060601,-0.070414580404758,-0.256071537733078,0.127885684370995,0.000309677561745,0.147559702396393,0.137539252638817,0.188233420252800,0.075466707348824,0.128740966320038,-0.068654343485832,-0.034639902412891));
res += mul(Get(s2,-dx,0), float4x4(-0.023489560931921,0.051159542053938,-0.143910065293312,0.249329358339310,0.071822568774223,-0.082054972648621,0.246389135718346,0.224501118063927,0.155963316559792,0.324535071849823,0.227223545312881,-0.148727267980576,-0.033043179661036,-0.083199694752693,-0.049426276236773,0.095216922461987));
res += mul(Get(s2,-dx,dy), float4x4(0.031145477667451,0.136752128601074,-0.124008677899837,-0.102569304406643,-0.236454710364342,-0.079267717897892,-0.063399024307728,-0.019800508394837,0.085238948464394,-0.006859572138637,-0.187861248850822,0.004787821322680,-0.011347335763276,-0.091415710747242,0.017619609832764,0.052427332848310));
res += mul(Get(s2,0,-dy), float4x4(0.069350525736809,-0.032170247286558,-0.046483334153891,0.253970086574554,-0.136835768818855,0.121031686663628,0.362940102815628,-0.280670046806335,0.079418838024139,0.356865972280502,0.071295395493507,-0.124442242085934,0.244918510317802,-0.224391743540764,-0.316896110773087,0.721966981887817));
res += mul(Get(s2,0,0), float4x4(0.418478786945343,0.225468754768372,-0.029575645923615,-0.250065118074417,0.092179484665394,-0.083919122815132,-0.051630552858114,-0.004812675993890,0.037430647760630,0.172386437654495,0.065277598798275,0.064661994576454,-0.358633220195770,0.354115307331085,0.279096215963364,-0.259067445993423));
res += mul(Get(s2,0,dy), float4x4(-0.079319931566715,0.119528427720070,-0.129469439387321,-0.070036880671978,-0.038395397365093,0.190729796886444,0.210658818483353,-0.066535972058773,0.002525740070269,0.211777180433273,0.037980839610100,-0.055912017822266,0.209802150726318,-0.102260939776897,-0.144378200173378,0.029977176338434));
res += mul(Get(s2,dx,-dy), float4x4(-0.148706614971161,0.002914950018749,0.005109963938594,0.136436447501183,-0.107709370553493,0.081270650029182,-0.084542348980904,0.099968515336514,-0.023414334282279,-0.014542019926012,0.030192783102393,0.101407513022423,0.306625574827194,-0.032243903726339,-0.153395280241966,-0.081200629472733));
res += mul(Get(s2,dx,0), float4x4(-0.115317560732365,0.189126119017601,-0.090814657509327,-0.026031669229269,0.101471751928329,-0.051388036459684,-0.102473467588425,-0.088955484330654,-0.105245843529701,0.149099633097649,-0.164600133895874,-0.081748016178608,-0.400088727474213,-0.053059495985508,-0.155909225344658,-0.094644159078598));
res += mul(Get(s2,dx,dy), float4x4(-0.004873773083091,-0.047966297715902,-0.339750677347183,0.068666867911816,0.096796147525311,-0.032493904232979,-0.098446764051914,0.063988924026489,-0.052890691906214,0.061126902699471,0.105050086975098,0.052411634474993,0.183613166213036,-0.049564275890589,0.096251294016838,0.030515663325787));
res = max(float4(0, 0, 0, 0), res) + float4(0.730816662311554,0.338935106992722,0.729819536209106,0.203783974051476) * min(float4(0, 0, 0, 0), res);
return res;
}
