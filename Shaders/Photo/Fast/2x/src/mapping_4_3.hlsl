sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.152174338698387,-0.054547522217035,-0.147193953394890,-0.182564020156860);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003202240681276,0.070873141288757,-0.127693027257919,-0.101500563323498,-0.000891705742106,-0.105426579713821,0.079896718263626,0.023927368223667,-0.086519338190556,-0.062865339219570,-0.160080373287201,0.300330430269241,-0.025745783001184,-0.041555538773537,-0.040567778050900,-0.097898274660110));
res += mul(Get(s0,-dx,0), float4x4(0.137165054678917,0.006956966128200,-0.061780553311110,-0.128528386354446,-0.108739532530308,0.089161083102226,0.105602994561195,0.204722613096237,0.047315020114183,-0.175508841872215,0.030801769345999,-0.173008382320404,-0.003201220883057,0.219041675329208,-0.104177370667458,0.053096555173397));
res += mul(Get(s0,-dx,dy), float4x4(-0.231134876608849,0.071164496243000,-0.041036400943995,0.025286106392741,-0.356211572885513,0.049264509230852,-0.326094746589661,-0.082192383706570,-0.004067098256201,0.103792726993561,-0.245384797453880,0.083987377583981,0.117947526276112,0.085704125463963,-0.012248464860022,0.118053041398525));
res += mul(Get(s0,0,-dy), float4x4(-0.177692890167236,0.089772529900074,-0.069694668054581,0.100150115787983,0.169214442372322,-0.222713455557823,0.061227489262819,0.079665511846542,0.070123381912708,0.068623237311840,-0.031841166317463,-0.288161426782608,-0.145742878317833,0.056064937263727,-0.172089040279388,-0.131277769804001));
res += mul(Get(s0,0,0), float4x4(0.393229067325592,-0.145442381501198,0.424126416444778,0.076917588710785,-0.345869779586792,0.288656622171402,-0.324215322732925,0.241449385881424,-0.194195076823235,0.036883257329464,-0.094900295138359,-0.200945168733597,0.306393027305603,-0.405168145895004,0.032814159989357,0.224274143576622));
res += mul(Get(s0,0,dy), float4x4(-0.048195444047451,0.218790531158447,-0.344835758209229,0.052335694432259,-0.298455297946930,-0.358552277088165,-0.090833015739918,0.287777721881866,0.228917092084885,-0.126164361834526,-0.008993115276098,0.014809220097959,-0.125514805316925,0.104624956846237,-0.034792210906744,-0.291146159172058));
res += mul(Get(s0,dx,-dy), float4x4(-0.066705130040646,0.008365095593035,0.025719653815031,-0.098479129374027,-0.041282374411821,0.006664598360658,-0.045351121574640,0.120060190558434,0.036739181727171,-0.089283280074596,0.082852743566036,0.070969223976135,-0.045060694217682,0.134152457118034,-0.086667589843273,-0.132932156324387));
res += mul(Get(s0,dx,0), float4x4(0.085267543792725,-0.036147795617580,-0.230765014886856,-0.035033762454987,-0.241149678826332,-0.044483903795481,0.046167537570000,-0.047152742743492,0.058339171111584,-0.054247792810202,-0.129366040229797,0.139016941189766,0.108190238475800,0.247372210025787,0.000834520848002,-0.260229140520096));
res += mul(Get(s0,dx,dy), float4x4(0.016047080978751,0.059364348649979,-0.160908013582230,-0.219332516193390,-0.110715493559837,-0.030572256073356,0.067811600863934,0.034196618944407,0.073769479990005,0.006628823932260,0.019653731957078,0.009007612243295,0.061702422797680,0.039443831890821,-0.155713185667992,-0.168423488736153));
res += mul(Get(s1,-dx,-dy), float4x4(0.074502192437649,-0.122247777879238,-0.031055608764291,0.200693249702454,-0.040853191167116,-0.018027942627668,0.013727927580476,-0.095871463418007,-0.017444355413318,-0.026594953611493,0.141468331217766,-0.074696972966194,0.090306401252747,0.048848763108253,0.101509787142277,-0.127654105424881));
res += mul(Get(s1,-dx,0), float4x4(-0.091295585036278,0.166298836469650,0.216885492205620,-0.028408210724592,-0.175894036889076,-0.127330511808395,0.041396055370569,0.024842327460647,0.146874487400055,-0.074017949402332,-0.093368493020535,0.044603303074837,0.122139893472195,0.029756611213088,-0.102674372494221,-0.255458533763885));
res += mul(Get(s1,-dx,dy), float4x4(-0.284842789173126,0.202669024467468,-0.066389471292496,0.067210383713245,-0.017469979822636,0.055591467767954,-0.076232329010963,0.191552817821503,-0.077932663261890,0.041536379605532,0.108646698296070,-0.033190321177244,-0.033723134547472,0.141522005200386,0.126297652721405,0.025842614471912));
res += mul(Get(s1,0,-dy), float4x4(0.086457073688507,-0.005537876859307,0.083258107304573,-0.313283354043961,-0.034853968769312,-0.085625141859055,-0.043002378195524,-0.036263540387154,0.377429634332657,-0.259832143783569,0.142776057124138,-0.128377526998520,0.068998396396637,0.012151324190199,-0.001563768484630,0.008610825054348));
res += mul(Get(s1,0,0), float4x4(0.239211291074753,0.199079111218452,0.185931131243706,0.193091526627541,-0.411611914634705,0.023345081135631,-0.451172858476639,0.157028526067734,0.586801111698151,-0.093485310673714,0.364915132522583,-0.351402610540390,0.148905351758003,-0.246864795684814,0.199562788009644,0.259330660104752));
res += mul(Get(s1,0,dy), float4x4(-0.537687957286835,0.244411930441856,-0.160527169704437,0.127360865473747,0.222725570201874,-0.029683109372854,0.317653000354767,-0.046683184802532,-0.089965365827084,0.335067987442017,-0.147587925195694,0.077044375240803,-0.113177902996540,0.273388475179672,-0.245623558759689,0.218413934111595));
res += mul(Get(s1,dx,-dy), float4x4(-0.021266138181090,0.053844053298235,0.000760953000281,0.205123066902161,-0.028967890888453,0.020181382074952,-0.047237459570169,-0.004234123509377,0.028954641893506,-0.075066126883030,0.098533168435097,0.049726501107216,0.046538859605789,-0.062917001545429,0.040911167860031,-0.027403380721807));
res += mul(Get(s1,dx,0), float4x4(0.033898033201694,0.053721986711025,0.037113215774298,0.039924629032612,-0.081402577459812,-0.012984911911190,-0.037870313972235,-0.177843198180199,0.058053944259882,-0.106714755296707,-0.004751041065902,0.006501883268356,-0.016568114981055,-0.090900875627995,-0.016434019431472,-0.044271916151047));
res += mul(Get(s1,dx,dy), float4x4(-0.106441184878349,0.028853937983513,0.034855052828789,0.003639204893261,0.067200191318989,0.022902937605977,0.191071540117264,-0.060378566384315,0.049472037702799,0.066658519208431,0.027795841917396,-0.095855697989464,-0.011133607476950,0.069267474114895,-0.084976866841316,-0.020103055983782));
res += mul(Get(s2,-dx,-dy), float4x4(0.123422466218472,-0.146757453680038,-0.087468177080154,0.246618330478668,0.037090402096510,-0.048925805836916,0.093224383890629,0.070706039667130,-0.026666980236769,0.047635767608881,-0.149417817592621,-0.254449516534805,0.104207657277584,-0.018236028030515,0.267539054155350,0.167484298348427));
res += mul(Get(s2,-dx,0), float4x4(-0.203173562884331,0.136983335018158,-0.126731038093567,-0.062527008354664,-0.229775905609131,0.061245080083609,0.233178690075874,0.201399400830269,0.166621372103691,0.011533750221133,0.142930895090103,-0.066571526229382,0.211811199784279,0.005772875156254,-0.056593757122755,-0.503826200962067));
res += mul(Get(s2,-dx,dy), float4x4(0.168762698769569,-0.222674623131752,-0.166426301002502,0.103160597383976,-0.011379722505808,-0.047575864940882,0.000817423220724,-0.151996970176697,-0.156024962663651,0.094476297497749,-0.147716611623764,-0.052246972918510,0.059046491980553,-0.059867624193430,-0.081894710659981,-0.170342832803726));
res += mul(Get(s2,0,-dy), float4x4(-0.053580965846777,0.222213342785835,-0.158472344279289,-0.166100859642029,0.154638886451721,-0.026977635920048,0.032681334763765,-0.172131359577179,-0.076594486832619,0.027999999001622,-0.075495630502701,0.005489489063621,-0.003904594108462,0.186844423413277,-0.008682889863849,-0.152852490544319));
res += mul(Get(s2,0,0), float4x4(-0.173517853021622,-0.129097834229469,-0.191040664911270,0.071253970265388,-0.272147089242935,0.159458234906197,0.144779250025749,0.136466413736343,0.014302136376500,-0.104499474167824,-0.314556986093521,0.060155227780342,-0.505929052829742,0.326043874025345,-0.230858564376831,0.163531899452209));
res += mul(Get(s2,0,dy), float4x4(0.187395781278610,-0.172688290476799,-0.077609807252884,0.019136739894748,0.219998076558113,-0.183794438838959,0.223926797509193,-0.049426965415478,-0.364654392004013,0.203099817037582,-0.198475286364555,-0.126263007521629,0.069472983479500,-0.328450202941895,0.332462340593338,-0.076738640666008));
res += mul(Get(s2,dx,-dy), float4x4(-0.075687207281590,-0.023622792214155,-0.071571633219719,0.174658447504044,0.107675909996033,0.013587875291705,-0.017050337046385,0.001416890881956,-0.017942180857062,-0.047584950923920,0.033101823180914,-0.016197441145778,0.207458972930908,-0.011611977592111,0.096608400344849,-0.081765614449978));
res += mul(Get(s2,dx,0), float4x4(0.041615247726440,-0.033484585583210,0.040131900459528,0.119622819125652,-0.154062047600746,-0.009230701252818,0.229738458991051,-0.047536626458168,-0.010204674676061,0.036764204502106,-0.272283464670181,0.002039040671661,-0.003879503114149,0.043658144772053,0.206460297107697,0.094270579516888));
res += mul(Get(s2,dx,dy), float4x4(-0.045520499348640,0.032009083777666,-0.146576166152954,0.088774822652340,0.113825507462025,-0.075008206069469,0.182166710495949,0.033835288137197,-0.113617368042469,0.046203903853893,-0.136318713426590,-0.119734242558479,-0.203214868903160,0.026345971971750,0.031143419444561,0.099525824189186));
res = max(float4(0, 0, 0, 0), res) + float4(0.010973995551467,1.125808715820313,-0.041451998054981,-0.085900574922562) * min(float4(0, 0, 0, 0), res);
return res;
}
