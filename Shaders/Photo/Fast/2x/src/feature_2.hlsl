sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.135312870144844,-0.383163243532181,0.447677165269852,0.002513612853363);
res += float4(-0.033187728375196,0.043327819555998,0.011031128466129,0.010287599638104) * Get(-ddx,-ddy);
res += float4(0.018194414675236,-0.035083778202534,-0.018392562866211,-0.141309037804604) * Get(-ddx,-dy);
res += float4(-0.112382963299751,-0.025049546733499,-0.004066850524396,0.055657990276814) * Get(-ddx,0);
res += float4(0.109735578298569,-0.013718475587666,-0.022023411467671,0.095963291823864) * Get(-ddx,dy);
res += float4(-0.012147586792707,-0.034033041447401,0.032297130674124,-0.013573775067925) * Get(-ddx,ddy);
res += float4(0.097369737923145,-0.013089071959257,-0.044891245663166,0.127236634492874) * Get(-dx,-ddy);
res += float4(-0.071095891296864,-0.093288272619247,0.042062010616064,0.078953415155411) * Get(-dx,-dy);
res += float4(0.483319014310837,0.008093336597085,0.109785176813602,-0.655692934989929) * Get(-dx,0);
res += float4(-0.025041675195098,0.049665555357933,0.081110551953316,0.109927885234356) * Get(-dx,dy);
res += float4(-0.013697533868253,0.007374661508948,-0.055711608380079,-0.005871311295778) * Get(-dx,ddy);
res += float4(0.004870946519077,-0.056091614067554,0.059857599437237,0.003247421933338) * Get(0,-ddy);
res += float4(-0.015029374510050,0.676464676856995,-0.011334011331201,0.706667482852936) * Get(0,-dy);
res += float4(-1.143898129463196,0.203392222523689,-0.586596608161926,-0.274157226085663) * Get(0,0);
res += float4(0.118682511150837,-0.004418355878443,0.046493854373693,-0.112959824502468) * Get(0,dy);
res += float4(0.031688895076513,0.058154877275229,0.048921033740044,-0.013073019683361) * Get(0,ddy);
res += float4(0.026290858164430,-0.013336823321879,0.038439616560936,-0.180995136499405) * Get(dx,-ddy);
res += float4(0.111527517437935,0.207148388028145,-0.026964671909809,0.087297558784485) * Get(dx,-dy);
res += float4(-0.219307735562325,0.327144026756287,-0.603448927402496,0.123104438185692) * Get(dx,0);
res += float4(-0.063193634152412,-0.072598688304424,-0.033235166221857,-0.036447491496801) * Get(dx,dy);
res += float4(-0.020466161891818,-0.026610523462296,0.021410560235381,0.035498239099979) * Get(dx,ddy);
res += float4(-0.011877352371812,0.060599520802498,-0.035566184669733,0.041743054986000) * Get(ddx,-ddy);
res += float4(0.129107519984245,-0.015665540471673,0.048607405275106,-0.026084782555699) * Get(ddx,-dy);
res += float4(-0.113107524812222,-0.118427790701389,0.127403169870377,0.016858996823430) * Get(ddx,0);
res += float4(0.044932205229998,0.059581760317087,0.088029138743877,-0.041564065963030) * Get(ddx,dy);
res += float4(0.032844476401806,-0.007734948303550,-0.054769076406956,0.001705706934445) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.547909736633301,0.935989677906036,-0.244180172681808,-0.784265697002411) * min(float4(0, 0, 0, 0), res);
return res;
}
