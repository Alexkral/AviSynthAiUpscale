sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.048537202179432,-0.061561435461044,0.077853411436081,-0.106798127293587);
res += mul(Get(s0,-dx,-dy), float4x4(-0.021432170644403,-0.018951309844851,-0.012664544396102,-0.036166001111269,-0.058168716728687,0.045485749840736,0.117481701076031,0.009336745366454,-0.019429853186011,-0.082268014550209,-0.017916454002261,0.142763540148735,0.032785963267088,-0.088683024048805,0.146986082196236,-0.103456899523735));
res += mul(Get(s0,-dx,0), float4x4(0.048420563340187,-0.052480708807707,0.054217156022787,-0.124087490141392,-0.117661073803902,-0.071281991899014,0.062182165682316,0.008577580563724,-0.126965090632439,-0.129145339131355,0.172303080558777,0.033315680921078,0.060768604278564,-0.240604266524315,0.031639993190765,-0.237535029649734));
res += mul(Get(s0,-dx,dy), float4x4(0.001022351556458,-0.025416325777769,0.027053091675043,-0.025443673133850,-0.011388234794140,0.006010350771248,0.066233716905117,-0.048971138894558,-0.019260350614786,0.083054468035698,-0.193706855177879,0.057167600840330,0.011053725145757,-0.026801962405443,-0.029014350846410,0.012271568179131));
res += mul(Get(s0,0,-dy), float4x4(0.026508523151278,0.078789852559566,-0.120807766914368,-0.009871792048216,0.030431475490332,-0.185355439782143,0.329018473625183,0.022165738046169,-0.075792290270329,-0.078680686652660,-0.036923348903656,-0.112613871693611,0.019191240891814,0.058589179068804,0.054610669612885,0.172130584716797));
res += mul(Get(s0,0,0), float4x4(-0.047564852982759,-0.147775456309319,0.308695971965790,0.099859468638897,-0.014903704635799,0.259850561618805,-0.415374010801315,0.024302769452333,0.067786604166031,-0.085928820073605,0.025307208299637,0.009563647210598,-0.504882395267487,0.100489072501659,-0.017194768413901,0.479874283075333));
res += mul(Get(s0,0,dy), float4x4(0.164301484823227,-0.157583579421043,-0.005119704641402,-0.100434094667435,-0.018229622393847,-0.122626625001431,0.328331321477890,-0.289781242609024,0.077365338802338,-0.094626687467098,-0.010891950689256,-0.034382991492748,-0.130685806274414,-0.047475043684244,0.066241778433323,-0.011039111763239));
res += mul(Get(s0,dx,-dy), float4x4(-0.006927751004696,-0.108780115842819,-0.106077127158642,0.035331103950739,0.031875044107437,0.063406802713871,0.008468249812722,-0.073294788599014,0.011027620173991,0.146739929914474,-0.061419170349836,0.063677884638309,-0.082486368715763,0.113678269088268,0.088687822222710,-0.068809829652309));
res += mul(Get(s0,dx,0), float4x4(-0.044849276542664,0.034050054848194,0.150080218911171,-0.064834505319595,0.072794273495674,-0.088624387979507,-0.001849320367910,0.001279864343815,-0.163428992033005,-0.006041328422725,-0.019023103639483,-0.125495851039886,0.236848235130310,0.165747150778770,0.033086095005274,0.205666825175285));
res += mul(Get(s0,dx,dy), float4x4(-0.061435658484697,-0.127330675721169,-0.026752471923828,-0.063466601073742,0.109514705836773,0.135087296366692,0.071281783282757,0.120151087641716,0.011066905222833,0.112477526068687,-0.052859194576740,-0.040176033973694,-0.021873258054256,-0.098913840949535,0.032659269869328,0.073730058968067));
res += mul(Get(s1,-dx,-dy), float4x4(-0.064064368605614,0.072834625840187,0.145943418145180,0.092029280960560,-0.036915533244610,-0.126660332083702,0.019594015553594,-0.090099133551121,0.099750295281410,-0.107429131865501,-0.122281670570374,0.032444067299366,0.004177750088274,-0.024685991927981,-0.011381039395928,0.075099050998688));
res += mul(Get(s1,-dx,0), float4x4(-0.044247876852751,-0.151549205183983,0.130296215415001,-0.210183650255203,0.104509241878986,-0.170109510421753,0.130595907568932,-0.181092783808708,0.049264341592789,0.096586853265762,-0.007231514900923,0.097797684371471,0.185214698314667,0.060861967504025,0.109777092933655,0.111601419746876));
res += mul(Get(s1,-dx,dy), float4x4(-0.032150156795979,0.011589168570936,-0.114389628171921,0.065346419811249,0.172234579920769,0.072544567286968,-0.042361505329609,0.110946483910084,-0.012545877136290,-0.049597613513470,0.026480007916689,-0.067786037921906,0.040864903479815,0.003036612877622,-0.082551658153534,-0.161684483289719));
res += mul(Get(s1,0,-dy), float4x4(0.150044441223145,-0.005601176060736,0.214825004339218,-0.058037705719471,0.154276445508003,-0.044702600687742,0.098582476377487,0.080759972333908,-0.130116209387779,0.100878737866879,-0.126667931675911,-0.130778342485428,0.049690458923578,0.138560205698013,0.052331242710352,-0.220904842019081));
res += mul(Get(s1,0,0), float4x4(-0.176544368267059,-0.005990373902023,-0.042811732739210,0.392371833324432,-0.067949123680592,0.356823891401291,-0.005364223383367,0.179223731160164,-0.055157884955406,-0.105402722954750,0.089633680880070,0.154996469616890,-0.162148356437683,-0.200960680842400,0.237659186124802,-0.464413315057755));
res += mul(Get(s1,0,dy), float4x4(-0.065335571765900,-0.071552701294422,-0.082731723785400,0.091089725494385,0.021937943994999,-0.175153598189354,0.049388993531466,-0.076373286545277,0.123609878122807,0.102626554667950,-0.236779674887657,-0.089668378233910,0.201314672827721,0.112497098743916,-0.276191383600235,-0.128944814205170));
res += mul(Get(s1,dx,-dy), float4x4(-0.132410034537315,-0.133468896150589,0.072463750839233,-0.089068517088890,0.102019026875496,0.009211918339133,0.029771124944091,-0.085190355777740,0.180363535881042,0.082363709807396,-0.223250955343246,0.070701062679291,0.079066351056099,0.000001540909579,0.049903746694326,-0.058556623756886));
res += mul(Get(s1,dx,0), float4x4(0.004431562032551,-0.088865898549557,0.075627572834492,-0.029535861685872,0.068405732512474,-0.237608641386032,0.117678627371788,0.023558853194118,0.113496854901314,0.010403082706034,0.030102001503110,-0.194676622748375,0.058182030916214,0.393233031034470,0.141100510954857,0.097055636346340));
res += mul(Get(s1,dx,dy), float4x4(0.033992655575275,-0.099215343594551,-0.053198304027319,0.053772922605276,0.051919188350439,0.078316584229469,-0.059527851641178,-0.207508876919746,-0.020079715177417,-0.144464477896690,-0.090738728642464,0.102766223251820,-0.060223877429962,-0.044626358896494,-0.088783085346222,0.167726248502731));
res += mul(Get(s2,-dx,-dy), float4x4(0.181431710720062,-0.031512878835201,0.151533037424088,0.056717716157436,0.025313571095467,-0.025967165827751,0.060736395418644,-0.057195570319891,-0.182901114225388,0.071043714880943,0.048715688288212,0.009605466388166,0.033539310097694,0.061446577310562,-0.085188210010529,-0.067607142031193));
res += mul(Get(s2,-dx,0), float4x4(-0.005176159553230,-0.030195698142052,-0.142953455448151,-0.158841073513031,0.023953573778272,-0.000729772786144,-0.090782165527344,0.020172931253910,-0.257412731647491,-0.083867341279984,0.039185121655464,0.121512889862061,-0.121929824352264,0.112307913601398,-0.252321541309357,0.125313624739647));
res += mul(Get(s2,-dx,dy), float4x4(0.152701243758202,-0.104534395039082,0.134522110223770,0.029940538108349,0.065321207046509,0.064592398703098,-0.019707759842277,0.081314183771610,-0.036665942519903,0.012602378614247,-0.075448617339134,0.038833338767290,-0.133279159665108,0.067411921918392,-0.027127314358950,0.185361579060555));
res += mul(Get(s2,0,-dy), float4x4(0.177572026848793,-0.198044046759605,-0.109258942306042,-0.253740072250366,-0.007815843448043,-0.101191692054272,0.126277729868889,0.004599187057465,-0.088920690119267,0.073100291192532,0.027887720614672,0.057717803865671,0.081925123929977,-0.058460228145123,-0.204151242971420,0.303849875926971));
res += mul(Get(s2,0,0), float4x4(0.193081393837929,-0.096352882683277,-0.045444969087839,-0.089907214045525,0.109136529266834,0.019813926890492,-0.287697017192841,-0.125215977430344,0.105597637593746,0.362091034650803,0.285565525293350,-0.001645695534535,-0.046573981642723,0.290276676416397,-0.152773246169090,-0.402313411235809));
res += mul(Get(s2,0,dy), float4x4(0.066322274506092,0.032028570771217,0.090360447764397,-0.065774992108345,0.026007771492004,-0.076395824551582,0.147549331188202,-0.109185077250004,-0.057010080665350,0.183529302477837,-0.074288897216320,-0.107589907944202,-0.000687153718900,0.045098640024662,0.132370799779892,-0.098357491195202));
res += mul(Get(s2,dx,-dy), float4x4(-0.036167740821838,0.138308659195900,-0.160765752196312,-0.050080668181181,-0.014386623166502,0.102168843150139,0.049546811729670,-0.089842274785042,-0.019907759502530,-0.097268380224705,0.107874713838100,0.045308377593756,-0.112612649798393,-0.192640781402588,-0.003866842715070,-0.015160190872848));
res += mul(Get(s2,dx,0), float4x4(-0.155191630125046,-0.110697805881500,0.104489557445049,-0.113339841365814,0.105631798505783,-0.161669164896011,-0.135085389018059,0.025027178227901,-0.025689207017422,0.011133308522403,0.158455118536949,0.212992832064629,0.060210857540369,-0.059518598020077,-0.185767382383347,0.113610312342644));
res += mul(Get(s2,dx,dy), float4x4(0.037848360836506,0.178514376282692,-0.051730081439018,-0.100482583045959,-0.009924210608006,0.079257160425186,0.063628271222115,-0.002603651024401,-0.031177798286080,-0.010121271014214,-0.024174593389034,0.108405143022537,-0.013099571689963,0.180233553051949,0.009614914655685,-0.020895935595036));
res = max(float4(0, 0, 0, 0), res) + float4(-0.998160004615784,0.503320276737213,-0.782370209693909,0.049965515732765) * min(float4(0, 0, 0, 0), res);
return res;
}
