sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0988359749317169,0.1661944389343262,0.0358536876738071,-0.1293500810861588);
res += mul(Get(s0,-dx,-dy), float4x4(0.3075085878372192,-0.0519072189927101,0.1883149147033691,0.0696563422679901,-0.1446439027786255,-0.1583883315324783,-0.0920158177614212,0.0779673606157303,-0.1471540778875351,-0.0122747095301747,0.0201592091470957,0.0303491931408644,0.0537754483520985,-0.1616451442241669,0.0437571667134762,0.0439056754112244));
res += mul(Get(s1,-dx,-dy), float4x4(-0.1199519187211990,0.0445383451879025,-0.0817828476428986,0.0608160123229027,0.0717800632119179,0.1005838513374329,-0.0828328579664230,0.0111220767721534,-0.1009113788604736,-0.0783559009432793,-0.0717400908470154,-0.0447853580117226,-0.4365217685699463,0.1390870511531830,-0.1197083890438080,0.0056631937623024));
res += mul(Get(s2,-dx,-dy), float4x4(-0.1722932606935501,-0.2525462210178375,0.0210419446229935,-0.3430138528347015,0.2368124276399612,0.0777558758854866,0.0394078455865383,0.2309266626834869,0.0009347113082185,0.0590877979993820,-0.0100362645462155,0.1861955374479294,0.0223203003406525,-0.0215636193752289,-0.0348184108734131,0.0251285303384066));
res += mul(Get(s0,-dx,0), float4x4(-0.0716423764824867,0.2470901310443878,0.3436458706855774,0.3266653716564178,0.1648896634578705,0.0617193616926670,-0.3130340874195099,0.0145720401778817,0.0171607397496700,0.0292299613356590,-0.0327163562178612,0.1293829232454300,-0.0533296689391136,0.1979003697633743,-0.3819485008716583,0.0465640984475613));
res += mul(Get(s1,-dx,0), float4x4(-0.3120496869087219,-0.1399147659540176,0.0680902600288391,-0.1513054370880127,-0.0019106058171019,0.0332365520298481,0.0767579972743988,0.0718808025121689,0.0543156266212463,0.0021898052655160,-0.0202160906046629,-0.0018233639420941,0.2223995625972748,-0.1706230938434601,-0.1839631944894791,-0.1560093760490417));
res += mul(Get(s2,-dx,0), float4x4(-0.0640655830502510,0.2356071472167969,-0.4064738452434540,-0.2114489972591400,-0.2141847014427185,-0.2057277113199234,-0.1373726278543472,-0.4144027829170227,-0.1685739755630493,-0.0650452375411987,-0.1094812154769897,0.0520457364618778,-0.0520391315221786,-0.1099340096116066,0.1536137163639069,0.0948168486356735));
res += mul(Get(s0,-dx,dy), float4x4(0.1347997486591339,-0.0597491525113583,0.1387519985437393,0.0724396780133247,0.1313462108373642,-0.0982626080513000,-0.0021829304751009,-0.0508079566061497,0.2119224816560745,-0.0527726188302040,0.0321725085377693,0.0726613625884056,0.1033699363470078,0.0187943000346422,0.0678086057305336,-0.0629049837589264));
res += mul(Get(s1,-dx,dy), float4x4(0.1132594794034958,-0.0049350899644196,-0.0082654226571321,-0.0271532889455557,-0.0061102514155209,-0.0028789923526347,-0.0106849996373057,0.0333929024636745,-0.0129980286583304,-0.0145859457552433,-0.0085216816514730,-0.0168728567659855,-0.2738648056983948,0.0583429150283337,-0.0798508077859879,0.1623829901218414));
res += mul(Get(s2,-dx,dy), float4x4(0.0173878408968449,0.0061567956581712,0.0105255069211125,-0.0466943271458149,0.3245659470558167,-0.0814052447676659,0.0092823663726449,-0.2573253512382507,0.2230954468250275,-0.0628482550382614,0.0059715718962252,-0.0615989677608013,0.0046447082422674,0.0177093390375376,0.0091009149327874,0.1502396762371063));
res += mul(Get(s0,0,-dy), float4x4(-0.4096689522266388,0.1186177507042885,0.0745027959346771,0.0068704024888575,-0.4028520882129669,0.2275782972574234,-0.1707910448312759,-0.0794511064887047,0.3073173165321350,-0.4353313446044922,0.1119213625788689,-0.1157314628362656,-0.1736058294773102,-0.1298273950815201,0.0683508887887001,0.2532131671905518));
res += mul(Get(s1,0,-dy), float4x4(-0.2472259104251862,0.0877082794904709,0.2574972808361053,0.7750003933906555,0.1458941549062729,-0.0678930804133415,-0.0410141125321388,-0.1134629696607590,-0.2949555516242981,0.2673572301864624,0.1023575887084007,0.2050973922014236,-0.3639120161533356,-0.0173851717263460,0.0814956203103065,-0.1720732599496841));
res += mul(Get(s2,0,-dy), float4x4(-0.0295750945806503,-0.1461011618375778,0.1808745414018631,-0.2557629048824310,0.2332436293363571,0.1540154069662094,-0.0878013446927071,0.4096304178237915,0.1687053740024567,0.0098774340003729,-0.0538622885942459,-0.2844451665878296,0.3624942302703857,-0.2184254676103592,0.0894460454583168,-0.1199087351560593));
res += mul(Get(s0,0,0), float4x4(0.2874765992164612,-0.2883177101612091,0.1522030532360077,-0.1054593399167061,0.6486772894859314,-0.1091087237000465,0.2863663434982300,-0.6873209476470947,0.0449322313070297,0.8247221708297729,-0.5591351389884949,0.2347657382488251,0.1738024950027466,0.2107331156730652,0.6225672364234924,-0.5891063213348389));
res += mul(Get(s1,0,0), float4x4(-0.2554363608360291,-0.2309623360633850,-0.0365918278694153,-0.0441830568015575,-0.2359332889318466,0.0804765895009041,-0.2298430055379868,-0.1664621233940125,0.2755173742771149,-0.1747799366712570,0.0861487835645676,0.0494133792817593,0.1052591130137444,-0.0967576503753662,0.1505050510168076,-0.1732747107744217));
res += mul(Get(s2,0,0), float4x4(0.3100980520248413,0.0607986971735954,0.0794404596090317,-0.4551528096199036,-0.8931893110275269,-0.0959577858448029,0.1413990557193756,0.4225909113883972,0.2880458831787109,0.3506550490856171,0.4817342162132263,-0.0594278164207935,-0.0783137753605843,0.2932941615581512,-0.2188349962234497,-0.1245149672031403));
res += mul(Get(s0,0,dy), float4x4(-0.2270980328321457,0.0848685055971146,-0.0343731157481670,0.0658095851540565,-0.5094542503356934,-0.1922667175531387,-0.1624041497707367,-0.1972314119338989,0.2821136713027954,0.0842157304286957,0.0998934581875801,0.0552942045032978,-0.1626328676939011,-0.0567949227988720,-0.0513330735266209,0.2537422776222229));
res += mul(Get(s1,0,dy), float4x4(0.1687667220830917,-0.2039439082145691,0.0718306005001068,-0.2134719341993332,0.1676683723926544,-0.0059579554945230,0.0256871879100800,0.0258846115320921,-0.2136059105396271,0.0406659133732319,-0.0662411302328110,-0.0456311702728271,-0.3417576849460602,-0.0465799197554588,-0.1599952876567841,-0.0592267550528049));
res += mul(Get(s2,0,dy), float4x4(-0.1741515398025513,0.0793974846601486,0.0338327884674072,-0.0321959815919399,0.4561166465282440,-0.2447721660137177,0.1233642920851707,-0.2384975403547287,-0.3646227717399597,-0.0197139158844948,0.0373407565057278,0.1907453984022141,0.1668718904256821,0.1738259345293045,0.0291526392102242,0.3319365382194519));
res += mul(Get(s0,dx,-dy), float4x4(0.2496338784694672,0.0040897275321186,0.1220833435654640,0.0305324401706457,-0.1061644628643990,0.0514901429414749,-0.0296603422611952,-0.0606446824967861,0.0568319857120514,-0.1837696880102158,-0.1465221345424652,-0.1613855659961700,-0.0793403983116150,0.0820810422301292,0.0082493536174297,0.3515138924121857));
res += mul(Get(s1,dx,-dy), float4x4(-0.0171383563429117,0.1124220266938210,-0.0065988725982606,0.3527034521102905,0.0031596175394952,0.0115424990653992,0.0554406121373177,-0.0121734924614429,-0.1241074055433273,-0.0274179652333260,-0.0198139045387506,-0.1810272485017776,-0.0805135294795036,-0.1802966892719269,-0.0834257528185844,-0.0706774666905403));
res += mul(Get(s2,dx,-dy), float4x4(-0.0795255228877068,0.0569128692150116,-0.0859567523002625,0.0986761227250099,0.0397692471742630,0.0789648890495300,0.0709543377161026,0.0211849696934223,-0.0929487496614456,0.0262469500303268,0.0084709897637367,-0.0579216629266739,0.2656292021274567,-0.0030254465527833,-0.0743828788399696,-0.1847064644098282));
res += mul(Get(s0,dx,0), float4x4(-0.2413481175899506,-0.0473655126988888,-0.0284920874983072,-0.1057437658309937,0.1756708174943924,-0.0421263612806797,0.1473794579505920,0.2838101983070374,0.0977283194661140,0.2944628596305847,0.0840173065662384,-0.0063912952318788,0.0649770423769951,-0.1936810761690140,-0.3004526495933533,-0.0469251126050949));
res += mul(Get(s1,dx,0), float4x4(0.0058762310072780,0.0183559656143188,0.0600040405988693,0.2771190106868744,0.0130783831700683,-0.0133746424689889,0.0987153574824333,-0.1212641894817352,0.1769410222768784,-0.0636836439371109,0.0086550554260612,0.0348865836858749,-0.1061804369091988,-0.0804722383618355,-0.1122630015015602,-0.0526622310280800));
res += mul(Get(s2,dx,0), float4x4(0.0250739268958569,-0.1278251856565475,-0.2247246950864792,-0.0836786627769470,0.1166548132896423,0.0450033210217953,0.1045569926500320,0.1434997618198395,-0.0299724712967873,-0.0236572138965130,0.1161293908953667,0.1630037128925323,0.2070986777544022,-0.0563448779284954,-0.2763379216194153,-0.5849235653877258));
res += mul(Get(s0,dx,dy), float4x4(0.0003473006654531,0.0484893955290318,0.0628996342420578,-0.0129610737785697,-0.1392738670110703,-0.0646703839302063,-0.1434746831655502,-0.1515460759401321,0.0135654686018825,-0.0543879456818104,0.0128319365903735,0.0422378331422806,0.1144583895802498,0.0238786190748215,-0.1118928715586662,-0.0207680333405733));
res += mul(Get(s1,dx,dy), float4x4(-0.0417075268924236,-0.1133490726351738,0.0647549778223038,-0.1115422174334526,-0.0296133887022734,0.0205047782510519,0.0536513179540634,-0.0115337362512946,0.0192829016596079,0.0279370229691267,-0.0439711287617683,-0.0126285962760448,-0.0244989115744829,0.0308747142553329,-0.0092504890635610,-0.0284399464726448));
res += mul(Get(s2,dx,dy), float4x4(0.1044115498661995,0.0319609344005585,-0.0652345940470695,-0.0635458752512932,-0.0865675210952759,-0.0393628403544426,0.0049952981062233,0.0118897901847959,-0.0157219041138887,-0.0092244287952781,-0.0533249899744987,0.0740301087498665,-0.1763861328363419,0.1788494139909744,-0.0455130711197853,0.3209660649299622));
res = max(float4(0, 0, 0, 0), res) + float4(0.1105720847845078,0.4049146175384521,1.1316645145416260,0.4502824842929840) * min(float4(0, 0, 0, 0), res);
return res;
}
