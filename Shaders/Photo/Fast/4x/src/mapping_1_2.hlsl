sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0897193998098373,0.0123338662087917,0.0754457712173462,0.0039406092837453);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0521279312670231,-0.7594543695449829,0.0275938324630260,-0.0733804106712341,-0.0657372325658798,-0.9886718392372131,-0.0322114266455173,-0.0794411152601242,-0.0568581223487854,0.7321067452430725,-0.0833694562315941,-0.0428040884435177,-0.0109650362282991,0.1391008347272873,0.0344269163906574,-0.1693046838045120));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0486095324158669,-0.5273133516311646,-0.0351347401738167,0.0866202190518379,-0.2223017960786819,-0.6153835654258728,-0.3163581788539886,0.5916602015495300,-0.0682620629668236,-0.2749943733215332,0.0610195025801659,0.1807464361190796,-0.0692487880587578,0.1164738237857819,-0.0126051520928741,0.2145244479179382));
res += mul(Get(s2,-dx,-dy), float4x4(0.0326974615454674,-0.0948321893811226,-0.0483972653746605,0.0710153132677078,0.1154381334781647,0.0750318765640259,0.1421324312686920,-0.1865863502025604,-0.0384122952818871,0.0898514389991760,-0.0170709006488323,0.0055596055462956,0.0941098555922508,0.0073453718796372,-0.0191065743565559,0.1319797635078430));
res += mul(Get(s0,-dx,0), float4x4(-0.0429549552500248,0.0060536609962583,0.1897544264793396,0.0326552502810955,-0.0172620769590139,-0.4913681745529175,0.1772209703922272,0.0874659717082977,-0.0540435314178467,-0.0514536239206791,-0.1252979189157486,0.1047812104225159,-0.0702877789735794,0.2266093939542770,-0.0971684530377388,-0.0199573896825314));
res += mul(Get(s1,-dx,0), float4x4(-0.2852118313312531,-0.2542655467987061,-0.2218301445245743,-0.0361066497862339,0.0666841417551041,-0.0039740232750773,0.1338458657264709,-0.2130455672740936,0.0332215763628483,0.3093665838241577,0.2235582768917084,-0.3883374035358429,0.1360599547624588,0.2345557510852814,0.0483945980668068,0.0012995015131310));
res += mul(Get(s2,-dx,0), float4x4(0.0394717715680599,-0.1039387956261635,0.0385613366961479,0.2607635855674744,0.2390314787626266,-0.1979118734598160,0.2891304492950439,-0.2258101999759674,0.4374075531959534,-0.5040190219879150,-0.1011094450950623,-0.1021763160824776,0.0226478390395641,0.1594215035438538,0.0156579446047544,-0.2639651000499725));
res += mul(Get(s0,-dx,dy), float4x4(0.0832000672817230,-0.0357810743153095,-0.0013673848006874,0.0034655758645386,-0.0002426203282084,-0.1661432832479477,-0.0830589234828949,0.0012453318340704,-0.0040522059425712,-0.0345705263316631,0.0653682798147202,0.0774828419089317,-0.0540435388684273,-0.0394899174571037,-0.0189941246062517,-0.0835897326469421));
res += mul(Get(s1,-dx,dy), float4x4(0.0545436702668667,0.1066113561391830,0.0624439083039761,-0.0001520783844171,-0.0231669954955578,-0.1446875631809235,-0.0030966345220804,-0.0142423342913389,-0.0516292937099934,0.0564294084906578,-0.1918630748987198,0.2467713356018066,0.0014934886712581,0.2805673778057098,-0.0321176312863827,-0.0291827209293842));
res += mul(Get(s2,-dx,dy), float4x4(-0.0541862361133099,-0.2678242325782776,0.0239355973899364,-0.0845655947923660,-0.0073125618509948,-0.2782708406448364,-0.1619109511375427,-0.1079402416944504,-0.0307450648397207,-0.0826126262545586,-0.1431264579296112,0.0000327427987941,-0.0894565135240555,0.0610230043530464,0.0079092355445027,-0.1457251012325287));
res += mul(Get(s0,0,-dy), float4x4(0.2233870178461075,0.0142849050462246,-0.3077475726604462,-0.2041939049959183,-0.1394801437854767,0.0472897775471210,0.0236916504800320,0.1425236761569977,-0.1149905472993851,0.0038013721350580,0.0162461698055267,-0.1074760705232620,-0.1052074357867241,-0.0711304321885109,-0.0771877542138100,0.0510455034673214));
res += mul(Get(s1,0,-dy), float4x4(0.1334077566862106,-0.2049762159585953,0.1625026017427444,-0.0522919595241547,0.0038102352991700,-0.1310942322015762,-0.2985744476318359,-0.3389171063899994,-0.0751879811286926,-0.2429979890584946,0.0990552827715874,-0.2424087822437286,0.1257035434246063,0.0169840492308140,0.0351537950336933,-0.2166047096252441));
res += mul(Get(s2,0,-dy), float4x4(-0.1358173787593842,0.1091338172554970,0.0371192134916782,-0.1919761598110199,0.1563901454210281,0.1436159610748291,0.0171738024801016,-0.1104996725916862,0.0213412288576365,-0.0841441601514816,0.4258193075656891,-0.1001532301306725,-0.0490100048482418,-0.3875773251056671,0.0298679843544960,-0.1867626458406448));
res += mul(Get(s0,0,0), float4x4(-0.6495555043220520,0.1510372459888458,0.2401525378227234,-0.2290410846471786,0.1079133301973343,-0.4142217636108398,-0.0506397709250450,-0.5703291893005371,0.1600637435913086,-0.2112185060977936,0.1120269522070885,0.0794379338622093,0.2285425812005997,0.2665650546550751,-0.1473674923181534,0.2568732798099518));
res += mul(Get(s1,0,0), float4x4(0.1998206377029419,0.3748048543930054,0.0430925041437149,0.2047554105520248,0.4707734584808350,-0.6150844693183899,-0.1475351452827454,-0.0732561126351357,0.1422256827354431,0.1780811697244644,-0.2750443220138550,0.8193439245223999,0.2758338451385498,-0.0465054623782635,0.4458629786968231,-0.4241154789924622));
res += mul(Get(s2,0,0), float4x4(0.1510510593652725,0.0757221877574921,0.1301577538251877,-0.7984942793846130,-0.8164852261543274,0.1613869369029999,0.8763787150382996,0.1189605891704559,-0.3508814573287964,0.2798773050308228,0.0953450277447701,-0.2799039483070374,-0.4388221502304077,0.2850055098533630,0.2049471139907837,0.2252613753080368));
res += mul(Get(s0,0,dy), float4x4(0.0388992875814438,-0.1044300645589828,0.0291307922452688,-0.0593143887817860,-0.0933327078819275,-0.0863718912005424,0.0639908835291862,0.0310831554234028,-0.2389910370111465,-0.1410613507032394,-0.2848710417747498,-0.0321630351245403,0.0389957837760448,0.0748116970062256,0.0320839285850525,0.1895743310451508));
res += mul(Get(s1,0,dy), float4x4(0.0568753257393837,-0.0367835611104965,-0.0545516870915890,-0.0620976798236370,0.2197003066539764,0.1116253510117531,0.0082043949514627,-0.1443755179643631,-0.4068779945373535,-0.1101827323436737,-0.2248895168304443,-0.0807053148746490,-0.0302028618752956,-0.0883025974035263,0.1286388039588928,0.0437631458044052));
res += mul(Get(s2,0,dy), float4x4(-0.3435544371604919,0.3607326149940491,-0.2001779675483704,0.0554155372083187,0.2071661204099655,0.0913959592580795,-0.1378322839736938,0.2829061746597290,-0.1841681748628616,0.1536930352449417,-0.1849291771650314,0.3274766802787781,-0.0627947002649307,-0.1080478578805923,0.1391393542289734,0.0434888154268265));
res += mul(Get(s0,dx,-dy), float4x4(-0.0730112567543983,0.1728244572877884,-0.0454490222036839,0.1210350692272186,0.0032222736626863,0.1042635738849640,-0.0019809522200376,0.1241161376237869,0.0154269952327013,-0.0592942535877228,-0.0593513660132885,-0.1259794533252716,0.0654703304171562,-0.0111230602487922,0.0210349969565868,0.2496736049652100));
res += mul(Get(s1,dx,-dy), float4x4(0.0122415488585830,-0.0343202091753483,-0.0938634797930717,-0.0605053789913654,0.0600446909666061,-0.0315701141953468,-0.1789577752351761,0.1263544708490372,-0.0555917061865330,0.0075189829804003,0.0943876728415489,-0.0968425944447517,0.1266178935766220,0.0272488109767437,-0.0242380779236555,0.0713459998369217));
res += mul(Get(s2,dx,-dy), float4x4(0.0197748821228743,0.3570651412010193,-0.2640586197376251,0.3010435402393341,0.0505141839385033,0.0539921633899212,0.0733924135565758,0.1405846774578094,0.0723440572619438,-0.0236709583550692,-0.0479175709187984,0.0032854748424143,-0.0386394448578358,0.2997628450393677,0.0573976524174213,0.1522305905818939));
res += mul(Get(s0,dx,0), float4x4(0.3144996762275696,0.1160990521311760,-0.0282644554972649,0.3165076673030853,0.0437746569514275,-0.1266156435012817,-0.0808488428592682,-0.1294655650854111,-0.0178564991801977,0.0747984722256660,0.1040670201182365,-0.0055587720125914,0.0263054482638836,0.0325470343232155,0.0694398134946823,-0.1142693534493446));
res += mul(Get(s1,dx,0), float4x4(-0.0032939391676337,-0.0260371528565884,-0.0252377428114414,0.0271280743181705,-0.3108930289745331,0.1506821215152740,0.1599909216165543,-0.3762678503990173,-0.1125488877296448,-0.0084309102967381,0.0946180522441864,-0.2476691454648972,0.0432212539017200,-0.0559121109545231,0.1231815069913864,-0.1520629525184631));
res += mul(Get(s2,dx,0), float4x4(-0.1756914556026459,-0.2067396640777588,0.4151368439197540,0.1165071651339531,-0.1047060042619705,0.0979000926017761,0.0143044348806143,-0.2909809947013855,-0.0126309217885137,0.0800290778279305,0.0620333254337311,0.0750224515795708,-0.3748464286327362,0.3272323012351990,0.0473618917167187,-0.0181303881108761));
res += mul(Get(s0,dx,dy), float4x4(0.1392868757247925,0.0410253703594208,-0.0404843389987946,-0.0104991896077991,0.1887456029653549,0.0203466471284628,-0.0842970535159111,0.0983454212546349,-0.1401789039373398,-0.0483094528317451,0.0296883787959814,0.0682863220572472,0.0902830138802528,-0.0975635945796967,0.0285897962749004,-0.0625718906521797));
res += mul(Get(s1,dx,dy), float4x4(-0.1663000136613846,0.1140954196453094,0.0190940275788307,0.0086306454613805,-0.2192169874906540,0.2203764915466309,0.1241637170314789,0.2261930406093597,0.1454794853925705,-0.0764668434858322,-0.1585253626108170,-0.0502285361289978,-0.0051665850915015,-0.0387523770332336,0.0157893113791943,-0.0138012934476137));
res += mul(Get(s2,dx,dy), float4x4(0.0797976851463318,-0.3200614750385284,-0.1827158629894257,0.2283783257007599,0.1437978148460388,0.0396894700825214,-0.1436517238616943,0.0681997910141945,0.0582367666065693,-0.2319656312465668,0.0822342038154602,-0.1016407608985901,0.1916680037975311,-0.1192645877599716,-0.0546603240072727,0.0178036596626043));
res = max(float4(0, 0, 0, 0), res) + float4(0.6144408583641052,0.0270494166761637,1.4855017662048340,-0.0255941916257143) * min(float4(0, 0, 0, 0), res);
return res;
}
