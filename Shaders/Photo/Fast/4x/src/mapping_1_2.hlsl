sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.116233013570309,-0.375317335128784,0.031150845810771,0.014600822702050);
res += mul(Get(s0,-dx,-dy), float4x4(-0.076788924634457,-0.169890403747559,-0.024420440196991,0.016176329925656,-0.046181023120880,0.002681501908228,0.218292906880379,-0.052994582802057,0.017816163599491,-0.006572695914656,-0.105200856924057,-0.013052949681878,-0.041251458227634,0.106202088296413,0.150216504931450,0.124145306646824));
res += mul(Get(s0,-dx,0), float4x4(-0.025483133271337,0.028051704168320,-0.366708666086197,-0.078737236559391,-0.321899950504303,-0.148270830512047,0.113570928573608,0.129918366670609,-0.061731137335300,0.277807742357254,0.034648515284061,0.138488501310349,-0.231128960847855,-0.059376303106546,-0.299756228923798,-0.118029534816742));
res += mul(Get(s0,-dx,dy), float4x4(-0.222253769636154,-0.006410469766706,0.157835364341736,0.041552569717169,-0.162291377782822,0.113414041697979,0.290863215923309,-0.050167690962553,-0.023423800244927,0.002460780320689,0.183294162154198,0.007199306041002,-0.006017484236509,-0.183856621384621,-0.124432101845741,-0.018017699941993));
res += mul(Get(s0,0,-dy), float4x4(-0.066261991858482,-0.064730912446976,-0.105725675821304,0.074338607490063,-0.193939507007599,-0.122237734496593,-0.070180699229240,0.049821678549051,-0.001136585487984,0.208774089813232,0.204097732901573,-0.003573761321604,0.007572621107101,-0.148487046360970,0.044385381042957,-0.015394979156554));
res += mul(Get(s0,0,0), float4x4(-0.405568897724152,-0.193879336118698,-0.373974353075027,0.030976254492998,-0.366117686033249,-0.288991510868073,-0.062945313751698,0.002973403548822,-0.060525931417942,0.357122033834457,0.348207771778107,0.166719198226929,-0.384759008884430,-0.056253403425217,0.099473111331463,0.060258891433477));
res += mul(Get(s0,0,dy), float4x4(0.134780362248421,0.322454243898392,0.270093917846680,0.084926590323448,0.205518111586571,0.192903727293015,0.213361814618111,0.301619738340378,-0.075581192970276,-0.333190262317657,-0.183986410498619,-0.400001496076584,-0.054656721651554,-0.251885354518890,0.008008813485503,0.098949044942856));
res += mul(Get(s0,dx,-dy), float4x4(0.203635141253471,0.182137936353683,0.054592572152615,-0.011093143373728,0.274002492427826,-0.062102332711220,0.205423116683960,0.061306569725275,0.086820460855961,0.171413615345955,0.029225474223495,0.108331009745598,0.063814908266068,0.005241898354143,-0.205291584134102,0.367664545774460));
res += mul(Get(s0,dx,0), float4x4(0.027198877185583,-0.165085107088089,0.079894483089447,-0.071696385741234,0.433056443929672,0.123250231146812,-0.053923495113850,-0.010329023003578,-0.059268817305565,0.042527284473181,-0.334009975194931,0.200443625450134,0.829617321491241,0.020968342199922,0.353321790695190,-0.084374189376831));
res += mul(Get(s0,dx,dy), float4x4(-0.138305380940437,-0.063636869192123,0.022352728992701,-0.006011545658112,-0.096739381551743,-0.062763668596745,-0.039967738091946,0.034276671707630,0.137503102421761,-0.029714627191424,0.089740619063377,-0.185770884156227,-0.130397617816925,0.128423050045967,-0.184017866849899,0.030781239271164));
res += mul(Get(s1,-dx,-dy), float4x4(0.037854019552469,0.103734113276005,-0.092883199453354,-0.025098308920860,0.055547095835209,0.103953242301941,-0.070719532668591,0.056342218071222,-0.001892852596939,-0.284497678279877,-0.060635760426521,0.029167309403419,-0.075349301099777,-0.212764889001846,-0.229442715644836,-0.028174804523587));
res += mul(Get(s1,-dx,0), float4x4(-0.031264055520296,0.111735559999943,-0.200082510709763,-0.287819176912308,0.035691961646080,0.106386616826057,0.103795260190964,0.123985722661018,0.013475642539561,0.176504060626030,-0.307512044906616,-0.180631622672081,0.062993288040161,-0.175519242882729,0.188007876276970,-0.306443572044373));
res += mul(Get(s1,-dx,dy), float4x4(-0.000420851894887,-0.073122516274452,0.465369731187820,-0.508160352706909,-0.009128943085670,0.014177996665239,-0.180158138275146,-0.124940805137157,0.092440210282803,-0.001233046059497,-0.004397174809128,-0.076183624565601,0.031485758721828,0.063059702515602,0.217897713184357,0.095267347991467));
res += mul(Get(s1,0,-dy), float4x4(0.004766330122948,0.148044303059578,0.068482488393784,0.065873622894287,0.121471673250198,0.094063110649586,-0.190166562795639,-0.071942299604416,0.050590716302395,-0.321750372648239,0.139370188117027,0.094845920801163,-0.054965525865555,-0.187017470598221,-0.131809219717979,-0.082346946001053));
res += mul(Get(s1,0,0), float4x4(0.126341298222542,0.070612251758575,-0.151929810643196,0.130181163549423,-0.056750115007162,-0.089068204164505,0.479348599910736,0.038684807717800,0.109670959413052,0.201227858662605,0.153581246733665,-0.113365784287453,0.347020387649536,0.462103992700577,0.195727556943893,0.249120265245438));
res += mul(Get(s1,0,dy), float4x4(0.230217456817627,-0.385497719049454,-0.011988110840321,-0.486701428890228,0.032095078378916,-0.119974836707115,0.189609572291374,0.192466437816620,-0.391934216022491,0.672750532627106,0.427033096551895,0.467029005289078,-0.205531358718872,-0.041915170848370,-0.317905426025391,-0.165837585926056));
res += mul(Get(s1,dx,-dy), float4x4(0.060099530965090,0.035346832126379,-0.024481110274792,0.072140604257584,-0.047961693257093,-0.126105219125748,-0.056793648749590,0.148212537169456,-0.060810633003712,-0.329486250877380,-0.169233366847038,-0.003358658170328,0.167275294661522,0.267912209033966,0.103311829268932,0.083789288997650));
res += mul(Get(s1,dx,0), float4x4(-0.037051346153021,-0.009296830743551,-0.052827119827271,-0.083917260169983,0.552954673767090,0.209101200103760,0.291184186935425,-0.275674939155579,0.392218470573425,-0.118901237845421,0.172087758779526,-0.128298163414001,-0.258655756711960,-0.257012039422989,-0.230582922697067,0.318375438451767));
res += mul(Get(s1,dx,dy), float4x4(0.092993892729282,0.054747313261032,-0.219761937856674,0.017567584291101,-0.008170821703970,-0.028794573619962,-0.122894138097763,0.077548123896122,0.132583364844322,-0.187707185745239,-0.423731088638306,0.226792827248573,-0.033568877726793,-0.160651564598083,-0.104655250906944,-0.316843062639236));
res += mul(Get(s2,-dx,-dy), float4x4(0.030629310756922,0.154071554541588,-0.168351694941521,0.031322315335274,-0.012637122534215,0.100530073046684,0.267188549041748,0.024032633751631,-0.056034050881863,-0.050520148128271,-0.154243662953377,-0.162540197372437,0.033296521753073,-0.054307851940393,-0.162556692957878,-0.009338302537799));
res += mul(Get(s2,-dx,0), float4x4(-0.010970163159072,0.072897091507912,0.208181276917458,0.032789256423712,-0.110182993113995,0.152846783399582,-0.137564778327942,0.050801161676645,0.020742965862155,0.012628843076527,-0.143606036901474,-0.062881879508495,0.105604998767376,0.099327638745308,-0.007519947364926,-0.104492574930191));
res += mul(Get(s2,-dx,dy), float4x4(-0.072841361165047,-0.013717111200094,0.031640276312828,-0.052549887448549,-0.074808448553085,0.115598626434803,0.093100525438786,-0.146555751562119,0.058638706803322,0.090838521718979,0.168992355465889,0.022502599284053,-0.042407836765051,0.123613715171814,-0.043555155396461,-0.037387672811747));
res += mul(Get(s2,0,-dy), float4x4(0.119206383824348,0.106454670429230,-0.065706834197044,0.230743050575256,-0.153052777051926,0.059250988066196,0.059321854263544,-0.056363645941019,-0.034577175974846,0.067528218030930,-0.048725817352533,0.194860517978668,-0.161583542823792,-0.100325651466846,-0.098773889243603,0.138789400458336));
res += mul(Get(s2,0,0), float4x4(-0.231323257088661,0.228516146540642,-0.043665520846844,0.005266212392598,-0.283726900815964,0.057166635990143,-0.067329987883568,-0.043925989419222,0.164679825305939,0.129683420062065,0.026255669072270,-0.008457593619823,-0.056929904967546,-0.311973899602890,-0.039656743407249,-0.485970944166183));
res += mul(Get(s2,0,dy), float4x4(0.119731284677982,0.072058968245983,-0.021896084770560,-0.268797844648361,0.017664428800344,0.058973159641027,0.083062253892422,0.239217624068260,0.022083017975092,-0.209837377071381,0.193939164280891,0.038525588810444,0.110856696963310,0.211870163679123,0.441038966178894,0.322472840547562));
res += mul(Get(s2,dx,-dy), float4x4(-0.284807473421097,-0.471298038959503,0.072528973221779,0.016381541267037,-0.027138501405716,-0.145620509982109,-0.061630532145500,-0.169918477535248,0.133674696087837,-0.101018011569977,0.058823909610510,-0.043472126126289,-0.022111074998975,0.097012795507908,-0.155075296759605,0.098713032901287));
res += mul(Get(s2,dx,0), float4x4(-0.444262146949768,-0.536844789981842,-0.262577801942825,0.119689747691154,0.293151348829269,-0.058371409773827,0.051238559186459,-0.240157559514046,0.012266146019101,0.345338165760040,0.095602072775364,0.122302249073982,0.215026795864105,-0.100975453853607,-0.141509279608727,-0.192767396569252));
res += mul(Get(s2,dx,dy), float4x4(-0.032301854342222,0.008792613632977,-0.139276683330536,-0.083255589008331,0.008659945800900,0.076864913105965,0.012264686636627,-0.052656218409538,-0.046535208821297,-0.060641303658485,0.076550468802452,-0.041266310960054,-0.146784618496895,0.052523020654917,0.130808025598526,0.249507859349251));
res = max(float4(0, 0, 0, 0), res) + float4(-0.155703216791153,0.047926258295774,0.754693806171417,0.187885448336601) * min(float4(0, 0, 0, 0), res);
return res;
}
