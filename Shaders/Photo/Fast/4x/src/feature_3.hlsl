sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.214371472597122,0.210771456360817,-0.028496472164989,0.034260589629412);
res += float4(0.016621805727482,-0.046537760645151,0.030785759910941,0.115512460470200) * Get(-ddx,-ddy);
res += float4(-0.114736400544643,0.082574233412743,0.034374084323645,-0.093795336782932) * Get(-ddx,-dy);
res += float4(0.198464363813400,-0.014551840722561,-0.027521412819624,0.019881937652826) * Get(-ddx,0);
res += float4(-0.106535993516445,0.063313260674477,-0.144758194684982,-0.055742595344782) * Get(-ddx,dy);
res += float4(0.025339230895042,-0.023705566301942,0.088980726897717,0.007002762518823) * Get(-ddx,ddy);
res += float4(-0.051037743687630,0.063455052673817,0.023175736889243,-0.139004603028297) * Get(-dx,-ddy);
res += float4(0.105778202414513,-0.191837668418884,-0.080408990383148,0.145671948790550) * Get(-dx,-dy);
res += float4(-0.656251072883606,0.126232802867889,0.493386000394821,-0.383655816316605) * Get(-dx,0);
res += float4(-0.177021607756615,-0.355246067047119,-0.272797942161560,0.386729508638382) * Get(-dx,dy);
res += float4(0.018586909398437,0.123602874577045,0.159408703446388,0.012415806762874) * Get(-dx,ddy);
res += float4(-0.004373907111585,-0.033822655677795,0.260719120502472,0.077153928577900) * Get(0,-ddy);
res += float4(0.134554699063301,0.059727348387241,-0.135139375925064,0.181372508406639) * Get(0,-dy);
res += float4(0.622282505035400,-1.051830053329468,0.117112323641777,-0.409395128488541) * Get(0,0);
res += float4(0.268198907375336,-0.478289872407913,-0.009110273793340,0.240898609161377) * Get(0,dy);
res += float4(-0.018034348264337,0.356687754392624,-0.206141248345375,-0.087946012616158) * Get(0,ddy);
res += float4(-0.006173049099743,-0.049127437174320,0.025830240920186,-0.085728973150253) * Get(dx,-ddy);
res += float4(-0.046750385314226,-0.012497260235250,0.007436108309776,-0.126823514699936) * Get(dx,-dy);
res += float4(0.161515936255455,-0.006918907631189,-0.197701945900917,-0.165574878454208) * Get(dx,0);
res += float4(0.044825755059719,-0.070408046245575,0.151407480239868,0.275458246469498) * Get(dx,dy);
res += float4(-0.046711269766092,0.165143340826035,-0.155265405774117,0.088849492371082) * Get(dx,ddy);
res += float4(-0.025580720975995,0.085845381021500,-0.002354226307943,0.050684440881014) * Get(ddx,-ddy);
res += float4(-0.055997237563133,-0.120084844529629,0.017691086977720,0.028425076976418) * Get(ddx,-dy);
res += float4(0.179176941514015,0.140604749321938,-0.042373355478048,-0.026086917147040) * Get(ddx,0);
res += float4(-0.138798117637634,0.074198640882969,-0.094344049692154,-0.072008587419987) * Get(ddx,dy);
res += float4(0.011016915552318,-0.053116351366043,0.052598327398300,0.020895043388009) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.758334100246429,-0.008644855581224,0.880831897258759,0.267845153808594) * min(float4(0, 0, 0, 0), res);
return res;
}
