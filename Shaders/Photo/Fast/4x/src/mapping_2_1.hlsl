sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0151506643742323,-0.0692576542496681,0.0768574178218842,0.0678220987319946);
res += mul(Get(s0,-dx,-dy), float4x4(-0.1038190275430679,0.0714235976338387,-0.0350860022008419,0.1151673868298531,0.2096029222011566,0.0817576497793198,0.2152358293533325,0.0863367021083832,0.0730941593647003,0.1072686538100243,0.0784056410193443,-0.1563171148300171,0.1828529685735703,0.1582475751638412,0.1063684150576591,-0.0621122829616070));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0994000583887100,-0.1138075217604637,-0.1160769388079643,-0.0123229362070560,-0.2018011361360550,0.0776385888457298,-0.0520172081887722,0.0189958196133375,-0.0613602399826050,0.2259473502635956,0.0436068959534168,0.0186907071620226,-0.2940956950187683,0.0394472405314445,0.0826806128025055,-0.2632001340389252));
res += mul(Get(s2,-dx,-dy), float4x4(0.0443505272269249,0.0536793097853661,0.1741983294487000,0.0049296272918582,0.1182189509272575,0.0405488945543766,-0.0368195846676826,0.0879508703947067,0.2312989979982376,0.0490023568272591,0.1040218323469162,-0.0343804657459259,-0.0053295064717531,-0.0674642547965050,-0.0261550191789865,0.1443966031074524));
res += mul(Get(s0,-dx,0), float4x4(-0.1606560051441193,-0.1416184306144714,0.0401713512837887,-0.0320632420480251,-0.0713322982192039,0.1818132996559143,0.0940025597810745,0.0467136614024639,-0.1830063313245773,0.1381971389055252,-0.0832178741693497,0.0288875252008438,0.3288840055465698,0.0820689350366592,0.1122201010584831,-0.0357759818434715));
res += mul(Get(s1,-dx,0), float4x4(0.3620469570159912,-0.4746561348438263,-0.0214869882911444,-0.0599245280027390,-0.3071069121360779,0.0558970756828785,0.0881464853882790,-0.0382425524294376,-0.3329007923603058,0.2177158445119858,-0.0779854282736778,-0.0086760912090540,-0.3213972151279449,-0.0489380992949009,-0.0344497859477997,0.0525335706770420));
res += mul(Get(s2,-dx,0), float4x4(-0.0073444140143692,-0.1546952128410339,0.0327798761427402,0.0879986807703972,-0.2415608018636703,0.0397880449891090,-0.1198104023933411,0.0876157954335213,0.1680953055620193,0.0989565029740334,-0.1342842727899551,-0.0828991159796715,-0.3448989391326904,-0.0432451702654362,0.0585792437195778,0.1408679783344269));
res += mul(Get(s0,-dx,dy), float4x4(0.0433909147977829,0.0783267244696617,0.0024058285634965,0.0533145219087601,-0.1191345155239105,-0.0793604031205177,0.0113852685317397,-0.0950595065951347,0.0424532406032085,-0.0814478024840355,-0.1446083039045334,-0.1570668220520020,-0.1899144351482391,-0.0306732431054115,0.0798424705862999,0.1258858442306519));
res += mul(Get(s1,-dx,dy), float4x4(0.0788342654705048,0.0405883975327015,0.0153235178440809,0.0175886955112219,0.0921588018536568,0.0908990949392319,0.0302277244627476,0.0277413744479418,-0.0516003258526325,0.1418228894472122,0.0092842997983098,-0.0149982729926705,-0.2884639203548431,-0.0744153484702110,-0.0732015073299408,-0.0384217388927937));
res += mul(Get(s2,-dx,dy), float4x4(-0.0491639412939548,-0.0076900245621800,0.0314255505800247,-0.0088386191055179,-0.0382738560438156,-0.0367992743849754,-0.0806627124547958,0.0563877969980240,0.0236628111451864,-0.1010355651378632,-0.0091033140197396,0.0009939178125933,0.1891325563192368,-0.0740234032273293,0.1316976398229599,-0.0393209271132946));
res += mul(Get(s0,0,-dy), float4x4(-0.1699813902378082,-0.1149164810776711,-0.0755574032664299,0.0257767178118229,0.0170230176299810,-0.0223733112215996,0.2035822570323944,0.2606304585933685,0.1470410525798798,-0.0006291404133663,-0.0003574674192350,-0.0222340691834688,0.2965764999389648,-0.0634934827685356,0.3051808178424835,-0.0672081708908081));
res += mul(Get(s1,0,-dy), float4x4(-0.0068480540066957,0.0437311008572578,-0.0976669043302536,0.2153934985399246,0.0297339707612991,0.1077626943588257,0.0229728464037180,0.1839188486337662,0.0127726951614022,-0.1822845637798309,0.1247610673308372,-0.0746336728334427,-0.1597554236650467,-0.0211540255695581,0.0424199998378754,-0.1404764950275421));
res += mul(Get(s2,0,-dy), float4x4(-0.3078988492488861,0.2341320663690567,-0.1359693706035614,-0.0669759735465050,-0.0573742724955082,-0.0117648011073470,-0.2529128789901733,0.2892099916934967,0.0201129466295242,-0.1061260402202606,0.1136442199349403,-0.1348926573991776,-0.1284160614013672,-0.0601694770157337,-0.1444341242313385,-0.3008747994899750));
res += mul(Get(s0,0,0), float4x4(-0.2091783285140991,0.4591506421566010,0.5223849415779114,-0.4264765977859497,0.1266920864582062,-0.0348800942301750,-0.2763439416885376,-0.3533752262592316,0.5101805925369263,0.1303212195634842,-0.2114461809396744,0.0980166047811508,0.2543879449367523,-0.1739006042480469,0.3332652449607849,0.0009934405097738));
res += mul(Get(s1,0,0), float4x4(-0.0485695526003838,0.3053857982158661,0.6649681329727173,-0.2732699215412140,0.2232111394405365,0.3920973539352417,0.1894579082727432,0.2385966926813126,-0.2743963003158569,0.1252069771289825,-0.5728797316551208,0.0540650412440300,-0.9811305999755859,-0.4711620509624481,0.0852300971746445,0.4300190508365631));
res += mul(Get(s2,0,0), float4x4(-0.1053771004080772,-0.1135777384042740,-0.0222739148885012,0.1103049367666245,-0.2968306243419647,0.4044732153415680,0.2612789273262024,-0.3300614356994629,0.0480622574687004,0.2273045480251312,-0.3763760328292847,0.2104800045490265,-0.2357603907585144,0.0168501473963261,-0.3846211731433868,0.1993835270404816));
res += mul(Get(s0,0,dy), float4x4(-0.1302182376384735,-0.3427474200725555,-0.0867348760366440,0.0480235777795315,-0.1024704277515411,0.0768807828426361,0.1238530576229095,0.0391522273421288,-0.0267599672079086,0.1359077841043472,-0.0882670208811760,0.0342862531542778,-0.1649837344884872,-0.1845167279243469,-0.1321534663438797,0.0595502518117428));
res += mul(Get(s1,0,dy), float4x4(-0.1981738507747650,-0.2493958324193954,-0.0574268363416195,0.3065606057643890,-0.1419788897037506,-0.0520859621465206,0.2280190289020538,-0.2140912860631943,0.1556670814752579,-0.0827823430299759,-0.3295928835868835,0.1199840977787971,-0.6073688864707947,-0.0031666115391999,-0.0836592465639114,0.2305667996406555));
res += mul(Get(s2,0,dy), float4x4(0.0851751640439034,-0.0517326295375824,0.0606710799038410,-0.1272601038217545,0.1231773793697357,0.0751412808895111,0.1773913800716400,-0.1679171025753021,-0.0381751433014870,-0.0205210559070110,0.0386376865208149,0.0308367908000946,-0.0194531232118607,0.1187664717435837,0.2192649990320206,-0.0825037360191345));
res += mul(Get(s0,dx,-dy), float4x4(0.0900843814015388,-0.1657401770353317,-0.0808399319648743,0.0660872831940651,-0.0392744690179825,-0.0271870680153370,0.1385849863290787,0.0105304773896933,-0.0989742279052734,0.0392883419990540,0.0319812186062336,0.0900679528713226,0.0600834339857101,0.2102113664150238,0.0348674021661282,-0.0394972749054432));
res += mul(Get(s1,dx,-dy), float4x4(0.1615494042634964,-0.0399336069822311,0.0945297703146935,0.0442782379686832,0.0826960653066635,-0.2874382734298706,-0.0732596814632416,0.2455001026391983,-0.1783210486173630,-0.0920779183506966,-0.0854283273220062,0.0649420693516731,-0.2331286817789078,-0.1366714984178543,0.0828654617071152,-0.0084219742566347));
res += mul(Get(s2,dx,-dy), float4x4(0.0669921636581421,0.1018650978803635,-0.0406944341957569,-0.0551375970244408,0.0731186494231224,0.0217366106808186,-0.0323292240500450,-0.0066738333553076,0.0554091632366180,0.0726650580763817,-0.0072003840468824,-0.0684361457824707,0.0269263088703156,0.0849662423133850,-0.0093257594853640,0.0352203920483589));
res += mul(Get(s0,dx,0), float4x4(0.0602858550846577,-0.1310155987739563,-0.1221216991543770,0.0672298967838287,-0.2739512920379639,0.1082637086510658,0.0396155603230000,-0.0516086705029011,-0.0061511294916272,-0.1231225058436394,0.1180618181824684,-0.0637563765048981,-0.1654634773731232,0.1405746638774872,-0.1073819622397423,-0.1560378968715668));
res += mul(Get(s1,dx,0), float4x4(0.0214862152934074,0.3657937943935394,-0.2352537810802460,-0.1549497842788696,-0.1087175160646439,-0.0520788282155991,0.1216427907347679,0.4289057850837708,-0.0756861716508865,-0.3251632153987885,0.1646537482738495,0.0276725273579359,0.0521094202995300,-0.3074182868003845,0.2355620712041855,0.0327788963913918));
res += mul(Get(s2,dx,0), float4x4(-0.3006674647331238,-0.0284231118857861,0.1366982907056808,0.0454694405198097,0.2135635018348694,0.0104777161031961,-0.2225529402494431,0.1012057140469551,-0.1098483353853226,-0.1192811727523804,0.0210096724331379,-0.0570503659546375,-0.0301896054297686,0.0281406305730343,0.0327989980578423,0.1333740204572678));
res += mul(Get(s0,dx,dy), float4x4(-0.1538764983415604,0.0341066494584084,0.1475164592266083,0.0587249994277954,0.0198350436985493,-0.0832704976201057,0.1347371190786362,-0.0672292262315750,0.0417136214673519,-0.0418791733682156,-0.0751449018716812,-0.0241338685154915,-0.2389592081308365,-0.1282172054052353,-0.0669800564646721,0.1346800774335861));
res += mul(Get(s1,dx,dy), float4x4(-0.0472986027598381,0.0555331669747829,0.0154522787779570,0.0498044639825821,-0.9990677237510681,0.3617767989635468,0.6723740100860596,-0.3478786647319794,0.0194406360387802,0.0079025020822883,0.1164864525198936,-0.0895803719758987,0.1450842916965485,-0.0626504346728325,0.0588269978761673,0.0020750458352268));
res += mul(Get(s2,dx,dy), float4x4(0.0731338560581207,-0.0695427656173706,0.0242902729660273,0.0230610258877277,0.0515550151467323,0.0235264003276825,-0.1170364543795586,-0.0189142134040594,-0.1777326017618179,0.1052917391061783,-0.0325856059789658,-0.0204253103584051,0.1403921842575073,0.1505163311958313,-0.1206997781991959,-0.0426132902503014));
res = max(float4(0, 0, 0, 0), res) + float4(0.3845298588275909,0.7973670363426208,1.1420445442199707,0.3204309940338135) * min(float4(0, 0, 0, 0), res);
return res;
}
