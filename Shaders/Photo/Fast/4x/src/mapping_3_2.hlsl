sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.245294913649559,-0.101685196161270,0.138370662927628,0.219192966818810);
res += mul(Get(s0,-dx,-dy), float4x4(0.051328610628843,0.017826337367296,-0.143621221184731,0.030491566285491,-0.001966373529285,-0.225336953997612,-0.202580869197845,0.017192374914885,-0.138209939002991,0.045026127249002,0.059375025331974,0.102928526699543,-0.160518437623978,-0.023186091333628,0.129045635461807,-0.011376374401152));
res += mul(Get(s0,-dx,0), float4x4(-0.027602611109614,0.193120971322060,-0.025369865819812,0.134154200553894,0.307871133089066,-0.259073197841644,-0.114951118826866,0.287461936473846,-0.101162478327751,-0.178561866283417,-0.000400794378947,-0.056218884885311,-0.043598506599665,-0.973167419433594,-0.022437566891313,-0.018961582332850));
res += mul(Get(s0,-dx,dy), float4x4(-0.109386160969734,0.198887377977371,-0.139538884162903,-0.054465144872665,0.128882601857185,-0.026180896908045,-0.091706074774265,-0.127490401268005,0.082013249397278,-0.012136067263782,0.053076837211847,0.057012319564819,0.128802731633186,-0.254306018352509,0.058201786130667,0.050106532871723));
res += mul(Get(s0,0,-dy), float4x4(0.139551863074303,-0.158178538084030,-0.138274997472763,-0.081695817410946,-0.115673273801804,0.131419911980629,0.082227401435375,0.032157436013222,0.346994072198868,-0.225339472293854,0.302281886339188,-0.169596046209335,-0.792228102684021,0.025663364678621,-0.069401457905769,-0.067010268568993));
res += mul(Get(s0,0,0), float4x4(0.029410351067781,-0.124125674366951,-0.076505839824677,0.013980268500745,0.188030019402504,0.331409126520157,-0.626682400703430,-0.208679869771004,-0.509857594966888,-0.206978440284729,0.011987399309874,-0.248803406953812,0.312196761369705,0.384282857179642,-0.410695821046829,0.135052993893623));
res += mul(Get(s0,0,dy), float4x4(-0.113726258277893,-0.075348064303398,-0.100499942898750,0.054586008191109,-0.039672710001469,0.018243342638016,-0.295765846967697,0.094632051885128,0.180520892143250,0.004552566912025,0.259254753589630,-0.049074895679951,0.403226733207703,0.084448456764221,-0.404080033302307,0.071452818810940));
res += mul(Get(s0,dx,-dy), float4x4(0.170326545834541,-0.147408738732338,-0.085431255400181,-0.059933852404356,0.021834237501025,0.067253723740578,0.113206595182419,0.039156280457973,-0.222085073590279,0.040478549897671,-0.007248169276863,-0.114161103963852,-0.186686381697655,0.049817129969597,0.030241340398788,-0.030994452536106));
res += mul(Get(s0,dx,0), float4x4(0.113889709115028,-0.104870833456516,0.046189393848181,-0.019146062433720,0.087642036378384,0.041514735668898,-0.263771206140518,0.240845993161201,-0.009462643414736,0.239910766482353,0.442814916372299,-0.385088264942169,-0.128818511962891,0.374638289213181,0.062013041228056,-0.096985906362534));
res += mul(Get(s0,dx,dy), float4x4(-0.056045819073915,-0.113608986139297,-0.151893109083176,0.069370239973068,0.020906396210194,0.106216311454773,-0.014982880093157,0.027672404423356,-0.054961748421192,0.029440104961395,0.194402575492859,-0.022301092743874,0.110976949334145,0.067180290818214,-0.071657426655293,0.030581597238779));
res += mul(Get(s1,-dx,-dy), float4x4(-0.047264978289604,-0.277577340602875,-0.016864551231265,-0.161578163504601,0.172273963689804,0.063649870455265,0.003198785707355,-0.040881954133511,0.235165476799011,0.213298559188843,-0.121868975460529,0.109908565878868,0.015253466553986,0.102360874414444,0.043192509561777,0.119542710483074));
res += mul(Get(s1,-dx,0), float4x4(-0.033757168799639,-0.301801532506943,0.217049449682236,-0.303624331951141,0.063147641718388,0.443398624658585,-0.290065318346024,-0.058467116206884,-0.157335117459297,0.204512953758240,0.014342294074595,0.167783662676811,-0.096724122762680,-0.214949861168861,0.122103236615658,0.027274379506707));
res += mul(Get(s1,-dx,dy), float4x4(0.079981096088886,-0.084220767021179,0.186128303408623,-0.085676744580269,0.039795745164156,0.035251244902611,-0.008216970600188,-0.069731563329697,-0.182716920971870,0.049872849136591,-0.047740817070007,-0.043456286191940,0.040625415742397,-0.141770854592323,0.172948062419891,-0.020332233980298));
res += mul(Get(s1,0,-dy), float4x4(-0.034710105508566,0.165411815047264,0.139767080545425,0.150298029184341,0.714727461338043,0.037133470177650,-0.082431972026825,-0.407734245061874,0.529061198234558,-0.222029149532318,-0.190343186259270,-0.309954106807709,0.036689545959234,-0.001089369761758,0.107217729091644,0.077388808131218));
res += mul(Get(s1,0,0), float4x4(-0.056757673621178,0.341581523418427,-0.633279442787170,0.329542636871338,-0.242961674928665,-0.316850125789642,-0.464822143316269,-0.239836558699608,-0.580245316028595,-0.129742652177811,0.272174537181854,-0.005477914121002,-0.073393076658249,-0.012728186324239,0.029422875493765,0.049336008727551));
res += mul(Get(s1,0,dy), float4x4(0.118339419364929,-0.010091992095113,-0.020784353837371,-0.020777013152838,0.269053876399994,0.010163509286940,0.392155855894089,-0.248938083648682,-0.059291724115610,0.014214971102774,-0.027156623080373,-0.068465948104858,0.158276930451393,0.038677003234625,-0.042048614472151,-0.086468935012817));
res += mul(Get(s1,dx,-dy), float4x4(-0.119049780070782,0.059725526720285,-0.075645677745342,0.058204408735037,0.101203188300133,0.032398883253336,0.131099969148636,-0.068314351141453,0.342598587274551,-0.087611585855484,0.084874540567398,-0.019309304654598,0.062631726264954,-0.023198511451483,0.073900461196899,-0.011799811385572));
res += mul(Get(s1,dx,0), float4x4(-0.142678022384644,-0.134476393461227,-0.153853356838226,0.182912632822990,0.014095156453550,0.039285279810429,0.136093989014626,-0.173876002430916,-0.027692848816514,-0.216746166348457,0.131602227687836,0.115477405488491,-0.015914827585220,-0.083322659134865,0.125340029597282,-0.000642082944978));
res += mul(Get(s1,dx,dy), float4x4(0.064324058592319,0.022463643923402,-0.125984594225883,0.062443848699331,0.151053309440613,-0.012118727900088,0.032584086060524,-0.041754648089409,-0.075715370476246,0.025099428370595,-0.010984443128109,-0.036974836140871,-0.048306658864021,-0.194171622395515,-0.039504822343588,-0.005103312898427));
res += mul(Get(s2,-dx,-dy), float4x4(0.011009922251105,0.044047933071852,0.068653658032417,-0.387605339288712,0.191452383995056,0.346297472715378,-0.012172701768577,0.119436882436275,-0.050795320421457,0.095296390354633,-0.099034227430820,0.001120121451095,-0.076072961091995,-0.058888677507639,0.041254028677940,-0.195587515830994));
res += mul(Get(s2,-dx,0), float4x4(0.148364901542664,0.023570118471980,-0.237009853124619,-0.045002419501543,-0.118212029337883,0.322975963354111,-0.004062349442393,0.151948392391205,0.001960241934285,0.404620677232742,0.215423628687859,0.002927259542048,-0.002714195288718,-0.238151848316193,-0.034710481762886,-0.542457461357117));
res += mul(Get(s2,-dx,dy), float4x4(-0.069757945835590,-0.030860371887684,-0.031610645353794,0.060365933924913,0.018424041569233,0.017324946820736,0.008964948356152,0.040962927043438,-0.032988838851452,0.133377239108086,0.054468650370836,0.019826352596283,0.160573661327362,0.163195133209229,0.062696889042854,-0.319572150707245));
res += mul(Get(s2,0,-dy), float4x4(-0.002271612640470,0.186655983328819,-0.042707059532404,-0.185635536909103,0.274180591106415,0.017021628096700,0.118677347898483,-0.101171612739563,0.022796053439379,0.379539191722870,-0.257534146308899,-0.022525668144226,-0.353424459695816,-0.063963808119297,-0.191242441534996,-0.045542433857918));
res += mul(Get(s2,0,0), float4x4(-0.029050670564175,-0.334968835115433,0.129406645894051,0.014745293185115,-0.102634467184544,0.105942480266094,0.333549588918686,-0.059875242412090,0.241321429610252,0.730289697647095,-0.309205651283264,-0.149175912141800,-0.512064993381500,-0.281627863645554,-0.267358899116516,0.736311197280884));
res += mul(Get(s2,0,dy), float4x4(0.032517038285732,-0.244406402111053,-0.347003132104874,0.311124831438065,-0.088025569915771,0.079067148268223,0.092589929699898,-0.059660319238901,-0.270913720130920,0.061100173741579,-0.046664245426655,-0.036496151238680,0.373344123363495,0.062004134058952,0.229011684656143,-0.330830186605453));
res += mul(Get(s2,dx,-dy), float4x4(0.098347291350365,-0.111838579177856,0.170835867524147,-0.143757328391075,0.112316079437733,-0.012129310518503,0.128233447670937,-0.185478001832962,0.141253814101219,-0.237687915563583,0.013332921080291,-0.169415831565857,0.068213410675526,0.091476775705814,0.010388056747615,-0.053675387054682));
res += mul(Get(s2,dx,0), float4x4(-0.267782956361771,0.232639566063881,0.214114248752594,-0.340945214033127,0.048485849052668,0.036930728703737,0.281246423721313,-0.093737311661243,-0.082023657858372,-0.637433826923370,0.055104013532400,-0.068244710564613,0.107213139533997,0.295104950666428,0.085188634693623,-0.210453093051910));
res += mul(Get(s2,dx,dy), float4x4(0.132315024733543,0.169466659426689,0.038036547601223,-0.051204051822424,-0.191036999225616,-0.030229110270739,0.197635322809219,-0.017411449924111,-0.070589445531368,-0.080066777765751,0.137182042002678,-0.097851358354092,0.077498093247414,-0.055996283888817,0.019970227032900,-0.104776710271835));
res = max(float4(0, 0, 0, 0), res) + float4(0.161507993936539,-0.130710691213608,0.461233347654343,0.602026462554932) * min(float4(0, 0, 0, 0), res);
return res;
}
