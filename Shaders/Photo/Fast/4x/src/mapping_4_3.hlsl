sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.1256307363510132,-0.4417077600955963,-0.2598992884159088,-0.0253869649022818);
res += mul(Get(s0,-dx,-dy), float4x4(-0.1256618499755859,0.0666481032967567,-0.1128780469298363,0.1072314605116844,0.0636649578809738,-0.0969763696193695,0.0399267710745335,-0.0877626687288284,-0.0164820421487093,0.0069284443743527,-0.0294029209762812,0.0405898429453373,-0.0045870053581893,0.1287285685539246,0.0337621830403805,0.1889875084161758));
res += mul(Get(s1,-dx,-dy), float4x4(0.0283662192523479,-0.0124374805018306,0.0672953575849533,0.0530476458370686,0.0548875443637371,0.0608049817383289,0.0353565961122513,-0.2037392705678940,-0.0671206042170525,-0.0172832664102316,-0.1800540536642075,0.1720673888921738,0.0461070910096169,-0.1634087562561035,0.0014563897857442,-0.0163668412715197));
res += mul(Get(s2,-dx,-dy), float4x4(-0.0140008879825473,-0.0848395153880119,-0.1499325484037399,0.1544044762849808,-0.0246555209159851,-0.0094157494604588,-0.1517086029052734,0.0435270071029663,-0.2982249557971954,-0.1067071333527565,-0.4357515871524811,-0.0535509400069714,-0.1797576248645782,0.0296215321868658,0.0355918221175671,0.0023531753104180));
res += mul(Get(s0,-dx,0), float4x4(0.3129117488861084,0.1267456412315369,0.1758227497339249,0.0682105645537376,0.0501812398433685,-0.0833197385072708,-0.0348441526293755,-0.0775526091456413,-0.0455513112246990,0.1106071993708611,-0.0913053900003433,-0.0551747158169746,0.0135300541296601,-0.2137763649225235,0.0898763611912727,-0.2154521048069000));
res += mul(Get(s1,-dx,0), float4x4(-0.1611196249723434,0.1744332760572433,-0.1871324032545090,0.2289436161518097,0.2345030307769775,-0.0602530278265476,-0.0181056708097458,-0.2355968654155731,-0.2420656383037567,0.0481740087270737,0.0211885981261730,0.2174113243818283,-0.0057245106436312,0.0679118633270264,0.1577952504158020,0.0666083395481110));
res += mul(Get(s2,-dx,0), float4x4(-0.1287979334592819,0.2380074858665466,0.0686151832342148,0.0697467997670174,0.1371821016073227,-0.1027792543172836,-0.4515977203845978,-0.0044451337307692,-0.3165560066699982,-0.3578006625175476,-0.2745460271835327,0.1012615188956261,-0.3312928974628448,-0.0420360155403614,-0.1549448817968369,0.0334342382848263));
res += mul(Get(s0,-dx,dy), float4x4(0.2052616178989410,0.1778179556131363,0.1061284691095352,0.1086429581046104,-0.0611927323043346,-0.0751323401927948,-0.0492655672132969,-0.1057096794247627,-0.0021440414711833,-0.0845065191388130,-0.0204373802989721,0.0669176951050758,-0.1083614826202393,-0.1163002178072929,0.0388609208166599,-0.0738105103373528));
res += mul(Get(s1,-dx,dy), float4x4(-0.1664454340934753,0.0842130258679390,-0.0812654271721840,-0.1164465695619583,0.1061400845646858,-0.0058000893332064,0.0223587919026613,0.0778593495488167,-0.2205763906240463,-0.0477239191532135,-0.0883713439106941,-0.2858567237854004,0.0655522197484970,0.0115539301186800,-0.0529851429164410,0.1310126036405563));
res += mul(Get(s2,-dx,dy), float4x4(-0.1347730606794357,-0.0204203072935343,-0.1593638807535172,0.0096198236569762,-0.0322933867573738,-0.0018314833287150,0.0099582094699144,0.0049543748609722,-0.0608099736273289,-0.0251597128808498,-0.0772059112787247,-0.0702878981828690,-0.1114359870553017,-0.1039091050624847,-0.0287691671401262,-0.2065158039331436));
res += mul(Get(s0,0,-dy), float4x4(-0.0511940233409405,-0.0473714470863342,0.1414013355970383,-0.1657423973083496,-0.1222629174590111,0.1553546190261841,0.0476663708686829,0.0290131103247404,0.0070296679623425,-0.1205511018633842,-0.0600920580327511,0.0616329312324524,0.1459209024906158,-0.0950469076633453,-0.0592879205942154,-0.1345444172620773));
res += mul(Get(s1,0,-dy), float4x4(-0.0446139015257359,-0.0578881837427616,-0.1107678562402725,0.2751962840557098,0.0480804070830345,0.1264890581369400,0.0381684228777885,-0.1590871810913086,0.0287659019231796,0.0082146860659122,0.1077343374490738,-0.3201529383659363,-0.1006705388426781,-0.0200415942817926,-0.0773454383015633,-0.2927367687225342));
res += mul(Get(s2,0,-dy), float4x4(0.0031237315852195,-0.1381723284721375,0.0847605690360069,0.0370497480034828,0.0435607358813286,-0.1443079710006714,-0.2445696890354156,-0.1066536307334900,0.0771871432662010,0.5092179179191589,-0.2464450746774673,-0.0491721779108047,-0.0526442602276802,-0.0057986639440060,-0.1716438531875610,0.1448526531457901));
res += mul(Get(s0,0,0), float4x4(-0.2140042781829834,0.1817665845155716,0.0734520629048347,-0.2670732736587524,-0.1116853281855583,0.2169567793607712,-0.2137392312288284,0.3334180712699890,0.0905730202794075,0.0829170644283295,0.0385453999042511,-0.1569377630949020,0.4874946475028992,0.0351920500397682,0.0716055780649185,0.2569780051708221));
res += mul(Get(s1,0,0), float4x4(-0.3296789526939392,0.1993677020072937,-0.0019527726108208,0.2440681308507919,-0.0297875441610813,-0.3650161027908325,0.1394903659820557,0.2540452778339386,0.6054462194442749,0.2333920300006866,0.2075783163309097,0.0673202425241470,0.4152645766735077,-0.3137123286724091,-0.2590493261814117,0.6130298376083374));
res += mul(Get(s2,0,0), float4x4(0.4432942271232605,0.2244111299514771,0.0826076343655586,-0.1306237727403641,-0.0034430653322488,-0.0293838325887918,0.0346876084804535,-0.7366627454757690,0.3288301825523376,0.0171978827565908,0.1501446664333344,-0.3584406971931458,-0.2388707250356674,0.0171695910394192,-0.2201970219612122,0.2518486380577087));
res += mul(Get(s0,0,dy), float4x4(0.0295117441564798,-0.0271768365055323,-0.1075826585292816,0.0312612019479275,0.0241227354854345,-0.0937331393361092,0.0432785488665104,-0.1139939054846764,0.0285876542329788,-0.0995512232184410,0.0087149357423186,0.0505959726870060,0.0701369196176529,-0.0655884817242622,0.2705349326133728,0.1488458514213562));
res += mul(Get(s1,0,dy), float4x4(0.0169677808880806,-0.1372606456279755,0.1430558860301971,0.2227900624275208,0.0981068387627602,-0.0578699558973312,-0.1599666476249695,-0.1710575819015503,-0.0631232783198357,0.2056933045387268,-0.1487312316894531,0.0665312558412552,0.1064970791339874,-0.0022086459212005,0.0551753416657448,0.0917453542351723));
res += mul(Get(s2,0,dy), float4x4(-0.0231382846832275,0.0739314258098602,-0.2600372135639191,0.1845252960920334,-0.0373379290103912,-0.0550284385681152,0.0165263824164867,-0.1273580938577652,0.0535769872367382,0.1496991217136383,0.0664682164788246,-0.0240512136369944,-0.1087915971875191,-0.0252999123185873,0.3556297123432159,-0.0880979448556900));
res += mul(Get(s0,dx,-dy), float4x4(-0.3219878375530243,0.1620113998651505,-0.0377910844981670,0.0327846743166447,0.0609457716345787,-0.0505065135657787,-0.0989604070782661,-0.0077477851882577,0.0032177751418203,0.0143911121413112,-0.0018893495434895,0.0320777632296085,0.0124413566663861,-0.0336478874087334,0.0109968511387706,0.0765299648046494));
res += mul(Get(s1,dx,-dy), float4x4(0.0034727898892015,-0.0918889939785004,0.0121186729520559,0.0155643261969090,0.0017264113994315,-0.0022948319092393,-0.0115863075479865,-0.0162919517606497,0.1198789104819298,-0.0087158996611834,-0.0224679522216320,-0.2287258207798004,-0.0112986257299781,0.0455141700804234,-0.0046802419237792,-0.0050748544745147));
res += mul(Get(s2,dx,-dy), float4x4(0.0079344501718879,0.0095880674198270,-0.0515009537339211,0.0842759609222412,-0.0899573862552643,0.0350838936865330,-0.1592091023921967,0.0321550592780113,0.2881310880184174,-0.1502826660871506,-0.0561149045825005,0.0574324093759060,0.1073567494750023,0.0068820449523628,0.0356623679399490,-0.0792562216520309));
res += mul(Get(s0,dx,0), float4x4(-0.3539956212043762,-0.2588154971599579,0.0080556906759739,0.5401283502578735,0.1426835805177689,-0.1051163449883461,-0.0820610970258713,0.1313415467739105,0.0460142679512501,0.1142878904938698,-0.0018879389390349,-0.0658086389303207,0.0424959212541580,-0.0137334987521172,0.0746258199214935,0.0219383984804153));
res += mul(Get(s1,dx,0), float4x4(0.2427333146333694,0.0381128154695034,-0.0628973469138145,0.2512529492378235,-0.0664881616830826,0.0975254699587822,0.0652743726968765,-0.1703685373067856,-0.1907426565885544,0.1347832828760147,0.0906963720917702,-0.0130703225731850,-0.1390683799982071,0.2009633779525757,0.0402128659188747,-0.2454932630062103));
res += mul(Get(s2,dx,0), float4x4(-0.1981153041124344,0.1246297731995583,-0.0943284854292870,-0.2880549430847168,-0.0606809519231319,0.1168885231018066,-0.1117969751358032,0.0159630328416824,0.1414395421743393,-0.2035832107067108,-0.1993058621883392,0.0761520415544510,0.2309153825044632,-0.1004783287644386,0.0147399194538593,0.1377935856580734));
res += mul(Get(s0,dx,dy), float4x4(-0.0753023400902748,-0.2060868889093399,0.0180890429764986,0.2276412546634674,0.0700291544198990,-0.0185409896075726,0.0502902716398239,-0.0080215157940984,0.0203738790005445,-0.0757317915558815,0.0230310391634703,0.0600803308188915,0.0028422232717276,0.0105717480182648,-0.0521985739469528,0.0581852011382580));
res += mul(Get(s1,dx,dy), float4x4(-0.0413138233125210,0.0430282689630985,0.0857841745018959,0.2604605257511139,-0.0948290452361107,0.0137141514569521,-0.0468904078006744,-0.1872096061706543,0.1059786900877953,0.1057511568069458,0.0088331447914243,0.0590437576174736,-0.0645238533616066,0.0665095895528793,0.0337015166878700,-0.1599422693252563));
res += mul(Get(s2,dx,dy), float4x4(-0.1163686811923981,-0.0830372571945190,-0.0969955027103424,0.0355584919452667,0.0119715640321374,-0.1273759454488754,0.0911629423499107,0.0603636838495731,0.0295660961419344,-0.0862987264990807,-0.0997579619288445,0.0043338788673282,0.2608446180820465,-0.0082892915233970,0.0030000023543835,-0.0862680822610855));
res = max(float4(0, 0, 0, 0), res) + float4(0.4101901054382324,0.3302619159221649,0.3255003094673157,0.2064392417669296) * min(float4(0, 0, 0, 0), res);
return res;
}
