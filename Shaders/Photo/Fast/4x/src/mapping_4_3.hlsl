sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.033499278128147,-0.109900839626789,0.035686891525984,-0.287853956222534);
res += mul(Get(s0,-dx,-dy), float4x4(-0.103192977607250,-0.050950434058905,0.121202617883682,-0.007443279959261,-0.008549803867936,0.140945255756378,-0.033768087625504,-0.064554572105408,-0.076790682971478,0.105205558240414,-0.027537595480680,0.008010643534362,-0.007936793379486,-0.075198732316494,0.117399238049984,-0.036844290792942));
res += mul(Get(s0,-dx,0), float4x4(-0.130197197198868,-0.055253908038139,0.261268109083176,-0.007779030594975,0.160001099109650,-0.024650443345308,-0.370847225189209,-0.065314680337906,0.027231302112341,0.077398471534252,-0.076973557472229,-0.017514208331704,-0.109656758606434,-0.029363766312599,0.467182487249374,0.032910738140345));
res += mul(Get(s0,-dx,dy), float4x4(0.035230502486229,-0.033338755369186,-0.050044961273670,-0.001517555443570,0.009702152572572,0.026874313130975,-0.058903705328703,0.025581620633602,0.057251367717981,-0.067491531372070,-0.047009259462357,-0.015325910411775,0.047066699713469,-0.048019625246525,0.038458701223135,-0.000925801286940));
res += mul(Get(s0,0,-dy), float4x4(0.137252420186996,-0.509639620780945,-0.121146999299526,-0.083303056657314,-0.146842375397682,0.372567385435104,-0.072680324316025,0.064782269299030,0.079795271158218,0.149427101016045,-0.243290111422539,-0.044256392866373,0.342200130224228,-0.036854505538940,0.027808360755444,0.138698548078537));
res += mul(Get(s0,0,0), float4x4(0.018708687275648,0.628271460533142,-0.244283989071846,-0.160108029842377,-0.232521533966064,-0.128887131810188,0.434089422225952,0.328023880720139,-0.243641749024391,0.359646648168564,0.097943730652332,0.074061416089535,0.110981702804565,0.115198232233524,0.645446360111237,0.291135519742966));
res += mul(Get(s0,0,dy), float4x4(-0.076176300644875,-0.387235969305038,-0.019432419911027,-0.170463234186172,-0.053733170032501,0.275446116924286,0.019111910834908,-0.049764085561037,-0.059706397354603,-0.193868070840836,-0.113607540726662,-0.138540536165237,0.201176226139069,-0.285831689834595,0.054659407585859,0.361367404460907));
res += mul(Get(s0,dx,-dy), float4x4(-0.222181722521782,-0.007251734379679,0.005937681999058,-0.085733443498611,-0.037737697362900,-0.089692793786526,-0.018599793314934,-0.074748627841473,0.033409480005503,0.042250711470842,-0.016613043844700,0.013809295371175,0.223748728632927,0.017349984496832,-0.009837715886533,-0.017092352733016));
res += mul(Get(s0,dx,0), float4x4(-0.246375218033791,0.016471128910780,0.242307424545288,0.227681592106819,0.143121987581253,0.008190583437681,-0.259456247091293,-0.213199332356453,-0.055259969085455,0.159454613924026,-0.173050031065941,-0.116473965346813,0.443394452333450,-0.044681668281555,-0.383785098791122,-0.395655333995819));
res += mul(Get(s0,dx,dy), float4x4(-0.283361256122589,-0.109293095767498,0.051815401762724,0.090094998478889,-0.110679730772972,0.023007106035948,-0.168430343270302,-0.152109876275063,0.024069994688034,0.018510360270739,0.068827137351036,0.040572293102741,0.004691359121352,0.034856885671616,-0.027889085933566,-0.058242771774530));
res += mul(Get(s1,-dx,-dy), float4x4(0.074639305472374,0.108113318681717,-0.056460525840521,-0.079712018370628,-0.101189285516739,-0.018950739875436,-0.000623771396931,-0.037439431995153,-0.007488838862628,0.114985764026642,0.050143171101809,-0.076408669352531,-0.044608462601900,0.144181177020073,0.043834026902914,-0.065390400588512));
res += mul(Get(s1,-dx,0), float4x4(-0.004912011791021,-0.050528727471828,0.010503662750125,-0.069747224450111,-0.219283476471901,-0.082443296909332,0.456156402826309,0.061838358640671,-0.137764424085617,-0.042527709156275,0.301949471235275,-0.045596636831760,-0.150980249047279,-0.021403340622783,0.191540107131004,0.051096968352795));
res += mul(Get(s1,-dx,dy), float4x4(-0.015560871921480,0.302709341049194,-0.087723523378372,-0.024139707908034,-0.105071470141411,0.056844547390938,0.032081592828035,0.032138954848051,-0.018309511244297,0.050711303949356,0.083939984440804,0.062661439180374,-0.073049157857895,-0.139486163854599,0.171401664614677,0.037917468696833));
res += mul(Get(s1,0,-dy), float4x4(-0.085803829133511,0.413241714239120,-0.023962860926986,0.036991082131863,0.052843339741230,-0.055475585162640,0.069993622601032,-0.198400422930717,0.233027204871178,0.332205355167389,-0.066200233995914,-0.138345196843147,0.123926736414433,0.275844484567642,-0.118659526109695,-0.131356924772263));
res += mul(Get(s1,0,0), float4x4(0.028484700247645,-0.196743130683899,0.050046749413013,0.044076707214117,0.383613467216492,-0.038998432457447,-0.372129917144775,-0.678043246269226,0.514141917228699,-0.010182812809944,-0.318072378635406,-0.261342287063599,-0.054745826870203,0.141792774200439,0.203984797000885,-0.216573789715767));
res += mul(Get(s1,0,dy), float4x4(0.169052839279175,0.346801072359085,-0.026636835187674,0.040602244436741,-0.039002839475870,-0.065817601978779,0.062561616301537,-0.285260260105133,0.143405675888062,0.083104938268661,0.049459997564554,-0.114792525768280,0.113512232899666,-0.130273386836052,-0.101621240377426,-0.163266450166702));
res += mul(Get(s1,dx,-dy), float4x4(-0.031349424272776,-0.097707398235798,0.027999509125948,-0.025299236178398,-0.016209177672863,-0.050545193254948,0.113757975399494,0.197523176670074,-0.317430406808853,0.044885504990816,0.128144279122353,0.143090322613716,-0.173857554793358,0.165945872664452,-0.091024786233902,-0.219593748450279));
res += mul(Get(s1,dx,0), float4x4(0.199043869972229,-0.042537633329630,-0.052823305130005,-0.054763801395893,0.346882909536362,0.010705251246691,0.256496340036392,0.743066549301147,-0.189500734210014,0.103290930390358,0.088536784052849,-0.039951723068953,0.247946500778198,0.160406216979027,-0.460439532995224,-0.640050053596497));
res += mul(Get(s1,dx,dy), float4x4(-0.150289356708527,0.156198322772980,-0.050639089196920,-0.053109638392925,0.118385128676891,-0.075296118855476,0.131615623831749,0.206979200243950,-0.078599348664284,0.066008284687996,0.017492640763521,-0.043664854019880,-0.170746073126793,0.180492863059044,-0.154595002532005,-0.266734391450882));
res += mul(Get(s2,-dx,-dy), float4x4(0.099829606711864,-0.320761054754257,-0.257581353187561,-0.024072222411633,-0.198547333478928,0.060087900608778,0.205040499567986,0.100718021392822,0.023400764912367,0.154316812753677,-0.040260825306177,0.017262935638428,0.188942044973373,0.070982910692692,-0.047355048358440,0.029618304222822));
res += mul(Get(s2,-dx,0), float4x4(0.071060404181480,-0.013510924763978,-0.089707516133785,-0.011030131950974,0.264255136251450,-0.127316921949387,-0.101470410823822,0.070830471813679,-0.129966869950294,-0.115375205874443,0.009779319167137,0.011014776304364,0.245287835597992,-0.028260987251997,-0.435855656862259,0.035649884492159));
res += mul(Get(s2,-dx,dy), float4x4(0.000388872053009,-0.123610921204090,0.116809740662575,0.069381840527058,0.159434407949448,0.090750940144062,-0.030534472316504,0.016490262001753,-0.017626032233238,0.103157438337803,-0.014711514115334,0.052189607173204,0.032288026064634,-0.032471943646669,-0.079201810061932,0.043580900877714));
res += mul(Get(s2,0,-dy), float4x4(-0.205867871642113,-0.092037424445152,0.124563090503216,0.107917778193951,0.164861038327217,-0.427903711795807,-0.284274637699127,-0.266922444105148,0.039734728634357,0.544635474681854,0.096335276961327,-0.048506427556276,-0.106985680758953,0.040039468556643,-0.038278944790363,0.037285793572664));
res += mul(Get(s2,0,0), float4x4(-0.207505211234093,-0.393793106079102,-0.041941002011299,0.077587991952896,-0.417751938104630,-0.223876595497131,0.097348332405090,0.009304842911661,0.252350002527237,-0.424144774675369,-0.154970675706863,-0.041810683906078,-0.417782038450241,0.042774289846420,-0.139959454536438,0.490535140037537));
res += mul(Get(s2,0,dy), float4x4(-0.016172187402844,0.159728780388832,-0.203212976455688,-0.242620378732681,-0.202542275190353,0.153284326195717,0.014413656666875,0.070235989987850,-0.026803486049175,0.307739853858948,-0.003624946577474,-0.058333940804005,-0.151241093873978,0.031015358865261,-0.041166596114635,-0.046789351850748));
res += mul(Get(s2,dx,-dy), float4x4(-0.011610045097768,0.215244695544243,-0.207252800464630,-0.208756595849991,-0.277076244354248,-0.142506942152977,0.155088618397713,0.085972703993320,-0.134962975978851,0.120302185416222,-0.078577548265457,-0.097638793289661,-0.378765970468521,-0.032796077430248,0.038071576505899,-0.087925866246223));
res += mul(Get(s2,dx,0), float4x4(-0.228288888931274,-0.430765390396118,-0.104408949613571,-0.145558461546898,-0.045322272926569,-0.016646867617965,-0.080139890313148,-0.101059168577194,-0.115634903311729,-0.087570391595364,0.095667637884617,0.138233110308647,-0.474351137876511,0.030524676665664,0.267675697803497,0.330867081880569));
res += mul(Get(s2,dx,dy), float4x4(-0.165681168437004,0.103204436600208,0.195776924490929,0.026254815980792,0.143611595034599,-0.020945051684976,-0.098997503519058,-0.061826404184103,0.060270197689533,-0.097985006868839,-0.058590486645699,0.010032539255917,-0.095932029187679,0.022917786613107,-0.073143675923347,-0.071358419954777));
res = max(float4(0, 0, 0, 0), res) + float4(0.002374108647928,0.213781461119652,0.259110122919083,0.006704105995595) * min(float4(0, 0, 0, 0), res);
return res;
}
