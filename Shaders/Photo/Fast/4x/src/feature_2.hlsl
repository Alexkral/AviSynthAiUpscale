sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.078504383563995,0.057002663612366,-0.625512480735779,-0.134472817182541);
res += float4(-0.021046325564384,-0.025810392573476,0.031502496451139,-0.004050307907164) * Get(-ddx,-ddy);
res += float4(0.047962691634893,-0.009099860675633,-0.040298331528902,0.005473906174302) * Get(-ddx,-dy);
res += float4(-0.019934680312872,0.151081681251526,0.031929008662701,0.194737970829010) * Get(-ddx,0);
res += float4(0.037141826003790,-0.085165537893772,-0.062282949686050,-0.095989346504211) * Get(-ddx,dy);
res += float4(-0.042465686798096,0.005475210491568,0.023322608321905,-0.030192494392395) * Get(-ddx,ddy);
res += float4(-0.058733701705933,0.104565404355526,-0.091533087193966,-0.090354643762112) * Get(-dx,-ddy);
res += float4(0.086045756936073,0.022739373147488,0.177025094628334,-0.127188220620155) * Get(-dx,-dy);
res += float4(-0.042888995260000,0.537339568138123,-0.078739166259766,-0.042569227516651) * Get(-dx,0);
res += float4(-0.086888276040554,0.207211300730705,-0.019111985340714,0.215914249420166) * Get(-dx,dy);
res += float4(0.012020979076624,-0.015999412164092,-0.026831135153770,-0.089057005941868) * Get(-dx,ddy);
res += float4(0.087801836431026,-0.066702879965305,0.177085220813751,0.100191421806812) * Get(0,-ddy);
res += float4(-0.644968211650848,-0.196302756667137,0.864757776260376,-0.144377321004868) * Get(0,-dy);
res += float4(0.767212212085724,-0.517468810081482,-0.044719908386469,0.966292381286621) * Get(0,0);
res += float4(0.175211891531944,-0.034032374620438,0.055242434144020,-0.505902528762817) * Get(0,dy);
res += float4(-0.014976222999394,-0.048401281237602,-0.006851437501609,0.106032557785511) * Get(0,ddy);
res += float4(-0.017120717093349,-0.004849533084780,-0.072145693004131,-0.105479240417480) * Get(dx,-ddy);
res += float4(-0.737245500087738,0.066940404474735,0.036092866212130,0.133228689432144) * Get(dx,-dy);
res += float4(-0.300898373126984,-0.091458640992641,-0.037977602332830,-0.626966357231140) * Get(dx,0);
res += float4(-0.141611814498901,-0.091086789965630,-0.092139929533005,0.123481549322605) * Get(dx,dy);
res += float4(0.038562141358852,0.079643160104752,0.018193326890469,0.008055059239268) * Get(dx,ddy);
res += float4(-0.065879277884960,-0.010242134332657,-0.021820416674018,0.016070589423180) * Get(ddx,-ddy);
res += float4(0.267976433038712,0.045055467635393,0.070934921503067,0.068162895739079) * Get(ddx,-dy);
res += float4(-0.163531735539436,-0.034509759396315,-0.054585989564657,0.153390139341354) * Get(ddx,0);
res += float4(0.076265364885330,0.034100484102964,0.006897381041199,0.030372936278582) * Get(ddx,dy);
res += float4(-0.035810153931379,-0.027092555537820,-0.018185073509812,-0.039877183735371) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.050932087004185,-0.345803558826447,0.025258352980018,0.990158498287201) * min(float4(0, 0, 0, 0), res);
return res;
}
