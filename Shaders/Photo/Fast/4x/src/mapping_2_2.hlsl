sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0640909597277641,-0.0097558991983533,0.0186922624707222,-0.0055580041371286);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0788388326764107,-0.0059325662441552,-0.0169187691062689,0.0268218498677015,0.0719581767916679,0.0094623714685440,0.0039704130031168,0.1510860025882721,0.0444404967129230,-0.0017845637630671,-0.0340023636817932,0.0449425578117371,-0.1282941699028015,-0.0906302034854889,0.0108020519837737,0.0295738372951746));
res += mul(Get(s1,-dx,-dy), float4x4(0.0274406168609858,-0.0124364532530308,0.0170541983097792,-0.1986101865768433,-0.0716233924031258,-0.0719913765788078,-0.0797746405005455,-0.0053953616879880,0.0003922592732124,0.1086640059947968,0.0161010269075632,0.0595101267099380,0.1401932984590530,0.0407874658703804,0.0451118871569633,-0.0006020896253176));
res += mul(Get(s2,-dx,-dy), float4x4(0.2765546143054962,0.0555307976901531,0.1114859804511070,0.0333661325275898,-0.2008731961250305,-0.1529571712017059,-0.2363115400075912,0.0556698627769947,-0.0072725014761090,-0.0085241021588445,0.1183141618967056,0.0944051742553711,0.0693561136722565,-0.0373290963470936,0.1410681605339050,0.0063707982189953));
res += mul(Get(s0,-dx,0), float4x4(0.1702707409858704,0.1674642562866211,0.2333310097455978,-0.1522871851921082,0.1101873144507408,0.0071017304435372,0.0055796685628593,0.1004659906029701,-0.0286535192281008,-0.0671870261430740,-0.0236064177006483,-0.0647988393902779,0.1752569675445557,-0.1337837129831314,0.1256792098283768,0.0541512519121170));
res += mul(Get(s1,-dx,0), float4x4(-0.0277331341058016,0.0637746080756187,0.0219472385942936,-0.1274990439414978,0.0627883002161980,0.0276341270655394,0.0548985786736012,-0.0650693476200104,-0.0457714125514030,-0.0117935854941607,0.0696927085518837,0.3561112582683563,-0.2402899861335754,0.1125232800841331,0.0702227056026459,-0.1975109279155731));
res += mul(Get(s2,-dx,0), float4x4(-0.1856686621904373,-0.2689470648765564,-0.1650096476078033,-0.0505115017294884,0.0543843097984791,0.0503675006330013,0.0096086170524359,-0.2547507286071777,0.0358476750552654,-0.1865991503000259,-0.1463487148284912,0.2055673748254776,-0.1971134096384048,-0.0457650385797024,-0.2130272686481476,0.0506399422883987));
res += mul(Get(s0,-dx,dy), float4x4(-0.0383192673325539,0.1068506613373756,0.0052485973574221,0.0390329696238041,-0.0556144751608372,-0.0331278145313263,0.0167261995375156,-0.0460157357156277,-0.0129104657098651,0.0341264829039574,-0.0522720180451870,-0.0765501335263252,-0.0404487960040569,0.0689005255699158,-0.0637192428112030,0.1285848468542099));
res += mul(Get(s1,-dx,dy), float4x4(-0.0041732056997716,0.0661579668521881,-0.0199171081185341,-0.0508931018412113,-0.0034848765935749,-0.0527455024421215,-0.0806009918451309,-0.0416333489120007,-0.0592942908406258,0.0011262786574662,0.0231428444385529,0.0869334042072296,0.0928167998790741,0.2182763814926147,0.0023835601750761,-0.1995216906070709));
res += mul(Get(s2,-dx,dy), float4x4(-0.0409905277192593,0.0712707638740540,0.0083931433036923,0.0587522350251675,0.0979458019137383,-0.0304057709872723,-0.0154627561569214,-0.0179951991885900,-0.1004438847303391,-0.3223566710948944,-0.0201957616955042,0.0427759550511837,0.0525593832135201,0.1202335655689240,0.0658998861908913,0.0451341941952705));
res += mul(Get(s0,0,-dy), float4x4(-0.3466815352439880,-0.0837209373712540,-0.1297983080148697,0.1407450586557388,0.0723982900381088,0.1321796178817749,-0.4919620156288147,-0.2046053260564804,0.0178439505398273,-0.0743002444505692,0.0167096387594938,0.0124710686504841,0.1410323083400726,0.1338117420673370,-0.0536122769117355,0.1974323838949203));
res += mul(Get(s1,0,-dy), float4x4(-0.2063635885715485,-0.1193376034498215,-0.2244048565626144,0.1235682815313339,-0.2174053341150284,0.0065304771997035,-0.2029272913932800,0.2399951070547104,0.1403497457504272,-0.1284544318914413,0.2239305973052979,0.1571375429630280,0.0348220206797123,0.0125947743654251,0.2060043960809708,0.1723769605159760));
res += mul(Get(s2,0,-dy), float4x4(0.2826416194438934,-0.2707375586032867,0.2741920948028564,0.1494705379009247,-0.4226386547088623,-0.0770178213715553,-0.4144826233386993,-0.0155514134094119,0.0877874419093132,0.1258490681648254,-0.0448279827833176,-0.0723973065614700,0.1649721115827560,-0.1241490840911865,0.1781398057937622,-0.0548542961478233));
res += mul(Get(s0,0,0), float4x4(0.6158940196037292,0.2090095728635788,0.4627169966697693,0.4521377980709076,0.2336101233959198,-0.0908334106206894,0.2594776153564453,-0.5693568587303162,-0.2185635715723038,-0.0647016391158104,-0.3867594897747040,0.2337207049131393,0.2390918880701065,-0.0732851177453995,0.2671248614788055,0.1629538089036942));
res += mul(Get(s1,0,0), float4x4(0.3592547476291656,-0.0652763843536377,0.2957904636859894,0.0007545924745500,-0.1554138511419296,0.1016398370265961,-0.2251443415880203,0.2800925374031067,0.0026719288434833,0.3774145841598511,-0.1362156569957733,0.0596021190285683,-0.1147352010011673,0.4831592440605164,-0.2977929115295410,0.6288874745368958));
res += mul(Get(s2,0,0), float4x4(-0.2081648856401443,-0.5424969792366028,-0.1842569708824158,-0.0580761507153511,-0.0513952337205410,0.1752939671278000,0.4098521769046783,0.3194742202758789,-0.1514555811882019,0.3400182425975800,-0.1826459914445877,0.0965928658843040,-0.2570206224918365,-0.5876030921936035,-0.3025589883327484,-0.1087361276149750));
res += mul(Get(s0,0,dy), float4x4(-0.0503275208175182,0.0228531509637833,-0.0173434503376484,-0.0543784126639366,0.0554895810782909,-0.0009644875535741,0.1553556025028229,-0.0726320445537567,-0.0020268440712243,-0.1704683154821396,-0.0053353379480541,0.1164637878537178,-0.0497768372297287,-0.5154271125793457,-0.0655455067753792,-0.1503116041421890));
res += mul(Get(s1,0,dy), float4x4(-0.1402875632047653,-0.1311031877994537,-0.2143910825252533,0.0589149594306946,0.1023983061313629,-0.0583369806408882,0.0798164755105972,-0.1305948495864868,-0.0128177842125297,-0.0692439749836922,-0.0500407554209232,0.0130968177691102,0.0417556799948215,0.4846763908863068,0.0001678349362919,0.1579874157905579));
res += mul(Get(s2,0,dy), float4x4(0.0250535402446985,0.2321292608976364,0.0678620114922523,0.0209483299404383,0.1765581369400024,0.0250317212194204,0.1850310415029526,0.0354364737868309,0.0893287658691406,-0.3087184429168701,0.1010258123278618,-0.1892584115266800,0.0618536658585072,0.1999228745698929,0.0708141177892685,-0.0112535636872053));
res += mul(Get(s0,dx,-dy), float4x4(-0.0598542392253876,0.0889860019087791,-0.0291757527738810,-0.0134388599544764,0.0517267398536205,0.0229850094765425,-0.0157317128032446,-0.1920188665390015,-0.0268287211656570,-0.0760704278945923,0.0010753031820059,-0.0261176340281963,0.0936076939105988,0.0715035647153854,-0.0711581930518150,-0.0235363412648439));
res += mul(Get(s1,dx,-dy), float4x4(0.2071224749088287,0.1301818639039993,0.1067257970571518,0.0013621958205476,-0.1085123866796494,-0.0433680787682533,-0.1477665603160858,-0.1539904177188873,-0.1295762658119202,0.0880806893110275,-0.0374874919652939,-0.1165507137775421,-0.0462245829403400,-0.1012198925018311,0.0477217137813568,0.1100815609097481));
res += mul(Get(s2,dx,-dy), float4x4(-0.0027033225633204,0.1683353036642075,-0.1152081191539764,-0.1756329238414764,0.0586941801011562,0.0059180939570069,0.0006647959235124,-0.0569227002561092,-0.0397362262010574,-0.0451052598655224,-0.0087338201701641,-0.0482194535434246,-0.1019313558936119,-0.0034772816579789,-0.0288891512900591,0.0066723288036883));
res += mul(Get(s0,dx,0), float4x4(0.0923827737569809,0.1776674836874008,-0.0013639210956171,-0.2842377424240112,-0.1982455551624298,-0.2804380953311920,0.0474311672151089,0.3942953646183014,0.0996381118893623,-0.0906156003475189,0.2078356146812439,0.0100923264399171,0.0046303714625537,0.0646282136440277,0.0014856815105304,-0.1290385425090790));
res += mul(Get(s1,dx,0), float4x4(-0.1108349338173866,-0.0978488624095917,-0.0608787797391415,0.1782665699720383,-0.3871269226074219,-0.2801915407180786,-1.0062654018402100,-0.1131174117326736,-0.0392794162034988,0.1672736853361130,0.0487289316952229,0.0286781657487154,0.1048919782042503,0.0097243431955576,0.2453466206789017,0.0112960748374462));
res += mul(Get(s2,dx,0), float4x4(0.0913194045424461,0.1105686277151108,0.0518997833132744,-0.0806179493665695,-0.0111431190744042,-0.1563294678926468,-0.1782948225736618,0.0102222552523017,0.0031320652924478,0.1549736708402634,0.0592922605574131,-0.1074216291308403,0.0696363896131516,0.2635755836963654,0.0328959338366985,-0.0322142131626606));
res += mul(Get(s0,dx,dy), float4x4(0.0097727654501796,-0.1748609244823456,0.0343923345208168,-0.0042133643291891,-0.0070513067767024,0.1318176239728928,-0.0146936345845461,0.1500924974679947,-0.0130769014358521,0.1195710524916649,-0.0011514517245814,0.0966786071658134,0.0280944034457207,-0.0709862485527992,0.0165688544511795,-0.0158861726522446));
res += mul(Get(s1,dx,dy), float4x4(-0.0341665521264076,-0.1495520323514938,-0.0405888557434082,-0.0161518696695566,0.2548691332340240,-0.1591963171958923,0.5009385943412781,0.2146442085504532,0.0588847324252129,0.2198634445667267,0.1042911037802696,-0.0828543379902840,-0.0192892495542765,0.1714085936546326,-0.0363835617899895,0.1472275555133820));
res += mul(Get(s2,dx,dy), float4x4(-0.0065268329344690,-0.1097689867019653,-0.0242049228399992,0.0419611111283302,-0.0093399584293365,-0.0596377998590469,-0.0007827008375898,-0.0496054813265800,0.0024186323862523,0.1353270560503006,-0.0191577095538378,-0.0650386363267899,-0.0291076749563217,0.1194853335618973,-0.0603933334350586,-0.0112699093297124));
res = max(float4(0, 0, 0, 0), res) + float4(-0.5157120823860168,-0.1634687632322311,-0.0256555620580912,0.0872733369469643) * min(float4(0, 0, 0, 0), res);
return res;
}
