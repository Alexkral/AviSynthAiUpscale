sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0236996673047543,0.0945781245827675,0.0442372374236584,-0.0877666994929314);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0467196516692638,0.0459587238729000,-0.0430619716644287,-0.1101884767413139,0.0273518916219473,0.1007966026663780,-0.0127946492284536,-0.1932081133127213,0.0161354802548885,0.0660076960921288,0.0237767715007067,-0.0571845769882202,0.0314852520823479,-0.0466189160943031,0.0504037886857986,-0.0526961907744408));
res += mul(Get(s1,-dx,-dy), float4x4(0.1253830194473267,-0.0041767787188292,0.0579993613064289,0.0509030632674694,0.1858389824628830,-0.0319575555622578,-0.1104408428072929,-0.3708927929401398,-0.0501600578427315,-0.0765930488705635,-0.1632866412401199,0.0513339191675186,-0.1527443826198578,-0.1121567040681839,-0.1387634873390198,0.2330188900232315));
res += mul(Get(s2,-dx,-dy), float4x4(0.1122491359710693,0.0333693847060204,-0.1816782951354980,-0.0628503784537315,0.2083496749401093,0.1110963970422745,0.0186596419662237,0.0821465626358986,-0.0668453201651573,-0.0611889138817787,0.0214291140437126,-0.0426435992121696,0.0062450622208416,-0.0913491472601891,-0.0865588933229446,-0.0744856670498848));
res += mul(Get(s0,-dx,0), float4x4(-0.0456069372594357,-0.0529584586620331,-0.1252658665180206,0.3784788250923157,-0.1909722983837128,0.0608357116580009,0.0013308441266418,0.2721689045429230,0.1692904531955719,-0.0343688651919365,-0.1243595629930496,-0.2618667185306549,-0.0079858480021358,0.0065553514286876,-0.2103141248226166,0.0794924870133400));
res += mul(Get(s1,-dx,0), float4x4(0.0746076181530952,-0.0875809565186501,0.2052890360355377,-0.0723219513893127,0.0937799289822578,-0.2483784407377243,0.2112237364053726,0.1612762212753296,-0.3035192787647247,0.4972395300865173,-0.2610634863376617,0.0113902483135462,0.0557018257677555,-0.0184541977941990,-0.0312671177089214,-0.3462631404399872));
res += mul(Get(s2,-dx,0), float4x4(-0.3629273474216461,-0.0456144660711288,-0.3572296798229218,-0.2337205708026886,-0.1175495088100433,0.2829123139381409,-0.1279088705778122,-0.3697929978370667,0.2202835679054260,0.0214288793504238,0.2331283539533615,0.0739164426922798,-0.1310100704431534,-0.1424427330493927,0.1677071452140808,0.1140235140919685));
res += mul(Get(s0,-dx,dy), float4x4(0.0072350432164967,0.0546423606574535,0.1637738645076752,0.1055738329887390,0.0964661538600922,0.0138003174215555,0.0029311699327081,0.0083147287368774,-0.1575073003768921,-0.0145750669762492,0.0255396049469709,-0.1448486447334290,0.0211873967200518,-0.0475669950246811,0.1752054542303085,-0.0333272740244865));
res += mul(Get(s1,-dx,dy), float4x4(0.0213312096893787,-0.0176898445934057,-0.1088274866342545,0.0837489068508148,0.0999867767095566,-0.1231390535831451,-0.0753512755036354,0.2379453927278519,-0.1985759437084198,-0.1444647908210754,0.1342990398406982,-0.0037610649596900,0.0292769037187099,-0.0089548453688622,-0.0263582002371550,-0.0096844444051385));
res += mul(Get(s2,-dx,dy), float4x4(-0.0848508179187775,0.0369382239878178,0.1115350872278214,-0.0352552942931652,-0.2137591540813446,-0.1051462143659592,0.1453300416469574,0.3906185030937195,-0.1530642062425613,0.0922608003020287,0.1466090232133865,-0.1879691481590271,0.0024234652519226,-0.1274197101593018,0.0455126762390137,0.1648773401975632));
res += mul(Get(s0,0,-dy), float4x4(0.2722577452659607,-0.0386119373142719,0.2239885330200195,0.0080283116549253,0.2227970212697983,0.0420156121253967,-0.2146613746881485,-0.0850698202848434,-0.0560755282640457,0.0474924966692924,0.0646878927946091,0.1569731980562210,0.2675907909870148,0.1437878906726837,0.0087673394009471,-0.1829261034727097));
res += mul(Get(s1,0,-dy), float4x4(-0.1618103533983231,0.0401073768734932,0.0469343103468418,-0.0230961237102747,0.3195889592170715,0.0618943460285664,0.3455449640750885,0.3256438672542572,0.1951934099197388,0.1477035284042358,0.0574215166270733,-0.1272555738687515,0.2549320757389069,0.1389945745468140,0.0308870021253824,0.1641343384981155));
res += mul(Get(s2,0,-dy), float4x4(0.0830694288015366,0.1437244117259979,-0.1265174597501755,0.3098724782466888,0.0616081766784191,0.0461069680750370,0.0550803877413273,-0.1698898971080780,-0.2149930596351624,0.1539517939090729,-0.0571111515164375,0.1222580075263977,0.0147684086114168,0.1188165023922920,0.0067098811268806,-0.2242223769426346));
res += mul(Get(s0,0,0), float4x4(-0.0351186655461788,0.3105271756649017,0.2303321361541748,0.3112928569316864,0.0507377572357655,0.6288734674453735,0.3131637275218964,0.3713348805904388,-0.0494002811610699,-0.0298939123749733,-0.1607155650854111,-0.2282007634639740,0.2394947409629822,0.0095876883715391,0.0801164507865906,-0.4998774230480194));
res += mul(Get(s1,0,0), float4x4(0.0300295576453209,0.1278543472290039,-0.2738015949726105,-0.2642608582973480,0.1812525540590286,0.1861705631017685,-0.4583277702331543,0.2059188336133957,-0.2049445509910583,-0.2607801854610443,-0.2997899055480957,0.0529781505465508,0.3097473978996277,0.3787357211112976,0.5451079607009888,-0.4185118079185486));
res += mul(Get(s2,0,0), float4x4(0.7733417153358459,-0.2786272466182709,0.7944516539573669,0.0693448409438133,-1.2427446842193604,-0.5690384507179260,-0.1064944565296173,0.2691035270690918,0.1902113705873489,-0.3562107384204865,0.1923328787088394,0.1045156642794609,-0.5709243416786194,0.2663764655590057,-0.0286370515823364,0.0515203326940536));
res += mul(Get(s0,0,dy), float4x4(-0.0029987709131092,0.1663572341203690,0.0460796579718590,0.0721936523914337,-0.0867059677839279,-0.1316314935684204,0.0429332591593266,0.2254221737384796,-0.1716554462909698,-0.0546848587691784,0.1180992573499680,0.0842643529176712,0.1743433326482773,-0.0207800306379795,-0.1828272342681885,-0.0635199472308159));
res += mul(Get(s1,0,dy), float4x4(-0.0341874063014984,-0.0316854156553745,0.0660654976963997,0.1711016744375229,0.5294328331947327,-0.0633476302027702,0.0849426314234734,0.0700620487332344,-0.0966430157423019,-0.0363064520061016,0.1750604063272476,-0.0397969298064709,-0.0984041690826416,-0.2383571714162827,-0.0738511830568314,0.1237717792391777));
res += mul(Get(s2,0,dy), float4x4(-0.4042291343212128,0.0603262893855572,-0.0449479706585407,-0.0547946691513062,0.1126598492264748,0.1603944748640060,-0.1161117926239967,-0.0246468540281057,-0.0561290122568607,0.0263035781681538,-0.2808448672294617,-0.1029094904661179,-0.3012562692165375,0.2099300473928452,-0.2232562154531479,-0.0944131165742874));
res += mul(Get(s0,dx,-dy), float4x4(0.1969014704227448,-0.0299599617719650,-0.1927721500396729,0.0988026782870293,-0.1300656944513321,0.0240846239030361,-0.0455349981784821,0.0565713196992874,-0.0030005879234523,-0.0526649579405785,0.0574091598391533,0.1324673891067505,-0.0059010288678110,0.0116172814741731,-0.1360740065574646,-0.0647863000631332));
res += mul(Get(s1,dx,-dy), float4x4(-0.0306852571666241,-0.0410079024732113,0.1061752885580063,-0.1388514190912247,-0.1794476360082626,-0.0552390478551388,-0.1144082918763161,-0.2715486884117126,0.2718913853168488,0.0691639855504036,-0.0431343354284763,0.2462761402130127,0.0911981016397476,-0.0153042692691088,-0.0243289470672607,0.1252462118864059));
res += mul(Get(s2,dx,-dy), float4x4(0.2680110037326813,0.1588597744703293,-0.2245151102542877,0.2024316638708115,0.0767213776707649,0.0594165734946728,-0.1943247914314270,-0.1052534878253937,0.1191677823662758,0.0298262555152178,0.0480555854737759,0.0201920140534639,0.1246455162763596,0.0814011842012405,0.0147717343643308,0.1698045581579208));
res += mul(Get(s0,dx,0), float4x4(0.0811268538236618,-0.2254588305950165,-0.1120672672986984,-0.1657303124666214,0.2113891690969467,0.1403496861457825,-0.0233222022652626,0.1531752645969391,0.2564366459846497,0.2512267529964447,-0.0284118372946978,-0.2263597548007965,-0.1133467480540276,0.0586037822067738,0.1047149524092674,0.0111706685274839));
res += mul(Get(s1,dx,0), float4x4(0.0696704611182213,0.1284683346748352,-0.1340742409229279,0.1691149622201920,0.0120707666501403,-0.0016454405849800,0.4169025719165802,-0.0799681916832924,-0.0359494052827358,-0.0733544230461121,0.1762443184852600,-0.0173282381147146,-0.0470272749662399,-0.2316626608371735,0.1215050369501114,0.0822415426373482));
res += mul(Get(s2,dx,0), float4x4(-0.0364081673324108,0.1524797677993774,0.1610936820507050,0.0373648367822170,0.2583337724208832,0.0685635656118393,0.3203407227993011,0.0440107993781567,-0.1824755817651749,0.2306055426597595,-0.2114734351634979,0.0744768977165222,-0.4120836555957794,-0.0257718674838543,0.0043062837794423,-0.0413908511400223));
res += mul(Get(s0,dx,dy), float4x4(-0.0633676648139954,-0.0285484846681356,-0.0229218956083059,-0.0651802942156792,0.0033342405222356,-0.1098648086190224,-0.0443943999707699,0.1584668308496475,0.1355871558189392,-0.0025322900619358,-0.0554710477590561,-0.0107257161289454,0.0168111324310303,-0.1091914623975754,0.0828844979405403,-0.0812766999006271));
res += mul(Get(s1,dx,dy), float4x4(0.0704142078757286,0.1385606080293655,0.0049875820986927,-0.0934505611658096,0.0706119611859322,0.1532332003116608,-0.2064656168222427,0.2106572836637497,0.0040724594146013,-0.1480653136968613,0.0086901802569628,0.1200747862458229,0.0360551141202450,-0.0036014032084495,-0.0204462222754955,0.0532799698412418));
res += mul(Get(s2,dx,dy), float4x4(-0.0907059758901596,-0.2675338089466095,-0.1897677034139633,0.0607510320842266,-0.0239337682723999,-0.1843658089637756,-0.0081484084948897,-0.2884857058525085,0.0268931947648525,-0.0422219187021255,0.1106356233358383,0.1237945482134819,-0.1197101920843124,-0.1063725575804710,0.0513502247631550,-0.0207981467247009));
res = max(float4(0, 0, 0, 0), res) + float4(1.0002540349960327,-0.2744303941726685,2.8713295459747314,0.0385305285453796) * min(float4(0, 0, 0, 0), res);
return res;
}
