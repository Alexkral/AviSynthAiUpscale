sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.057856880128384,-0.102930553257465,-0.635047852993011,0.022708289325237);
res += mul(Get(s0,-dx,-dy), float4x4(0.389894902706146,-0.154278129339218,0.013086761347950,-0.185083284974098,-0.173164695501328,0.438769370317459,0.218829572200775,-0.043930977582932,0.031822133809328,-0.217095822095871,0.131287232041359,-0.076701894402504,0.281723469495773,0.344120383262634,0.151713460683823,0.159812092781067));
res += mul(Get(s0,-dx,0), float4x4(-0.280081152915955,-0.110108286142349,0.376913309097290,-0.351971983909607,0.091191060841084,-0.206224486231804,-0.034180223941803,-0.157192215323448,0.083200223743916,-0.159654706716537,0.028195437043905,-0.027254207059741,0.096443511545658,0.132070302963257,0.015386718325317,0.180310875177383));
res += mul(Get(s0,-dx,dy), float4x4(-0.324683159589767,0.013748405501246,-0.056380335241556,0.010865365155041,0.205058336257935,-0.001822505029850,0.167995288968086,-0.065624371170998,-0.022158965468407,0.065098769962788,0.062153127044439,0.064166635274887,0.174042314291000,0.051888514310122,0.093531370162964,0.182285398244858));
res += mul(Get(s0,0,-dy), float4x4(0.063555270433426,-0.289504826068878,-0.438231199979782,0.053784850984812,-0.107147917151451,-0.341211706399918,0.176792949438095,0.252800464630127,0.062021166086197,-0.363889098167419,-0.089373849332333,-0.039899509400129,-0.029047075659037,-0.010749134235084,0.392158150672913,-0.183972328901291));
res += mul(Get(s0,0,0), float4x4(-0.013091619126499,-0.409421592950821,-0.130693480372429,0.180234611034393,-0.000673504197039,-0.592638492584229,-0.283537477254868,-0.009956072084606,-0.283658504486084,0.228774353861809,0.413694202899933,-0.312143862247467,-0.028531365096569,-0.075169853866100,-0.089994557201862,0.320082455873489));
res += mul(Get(s0,0,dy), float4x4(-0.132043540477753,0.377191066741943,0.107852511107922,-0.105627074837685,-0.338288813829422,0.405022174119949,-0.019319469109178,-0.216732084751129,0.042317874729633,-0.070163235068321,0.051458880305290,0.138142555952072,0.255634337663651,-0.024437163025141,0.266770154237747,-0.104944258928299));
res += mul(Get(s0,dx,-dy), float4x4(-0.096125133335590,0.054609201848507,0.006831963546574,-0.080685734748840,0.007002410944551,-0.246037080883980,0.108872130513191,-0.267857521772385,0.062544248998165,-0.055553030222654,0.265740007162094,-0.097216002643108,-0.052890397608280,-0.046915512531996,0.059704441577196,0.086415730416775));
res += mul(Get(s0,dx,0), float4x4(-0.185542091727257,0.141248360276222,0.106911823153496,0.012537402100861,-0.219525262713432,-0.051792353391647,-0.172941625118256,-0.182751595973969,-0.139802515506744,0.050823759287596,0.397149920463562,-0.112448066473007,-0.123179636895657,0.120347008109093,-0.050199598073959,-0.359209805727005));
res += mul(Get(s0,dx,dy), float4x4(0.096088938415051,0.082615911960602,-0.040247071534395,0.058335393667221,-0.168855279684067,0.142740696668625,0.135519400238991,0.091676011681557,-0.011189576238394,-0.090629540383816,-0.040600467473269,0.050312083214521,-0.177839353680611,0.117328941822052,0.388571381568909,-0.213262617588043));
res += mul(Get(s1,-dx,-dy), float4x4(0.163295984268188,-0.324850797653198,-0.000645474938210,0.117594607174397,0.080781005322933,-0.023180309683084,-0.003200131468475,0.006791223306209,0.067063011229038,-0.067539006471634,-0.434951156377792,-0.072774574160576,-0.183502122759819,-0.099117122590542,-0.037792019546032,0.044310312718153));
res += mul(Get(s1,-dx,0), float4x4(0.061268795281649,0.406578958034515,-0.017518566921353,0.140087425708771,0.002992167137563,-0.186076924204826,0.069843240082264,-0.106685183942318,-0.544558107852936,0.036587178707123,-0.220884978771210,0.335693776607513,0.293036103248596,-0.138933032751083,-0.420057564973831,0.449508011341095));
res += mul(Get(s1,-dx,dy), float4x4(-0.123200215399265,0.057839833199978,-0.080849818885326,0.323156863451004,0.013805857859552,-0.104305624961853,0.057058569043875,0.031807433813810,-0.085626892745495,-0.268334925174713,-0.312126040458679,0.241581439971924,-0.072231873869896,0.040917918086052,0.021815897896886,0.038778208196163));
res += mul(Get(s1,0,-dy), float4x4(-0.018089111894369,-0.048572137951851,0.101441942155361,-0.082023240625858,-0.169203698635101,-0.271358489990234,0.159831359982491,-0.063561186194420,0.167273446917534,-0.054452851414680,-0.159503057599068,-0.166714265942574,0.506872713565826,-0.238563522696495,-0.562438726425171,0.190943449735641));
res += mul(Get(s1,0,0), float4x4(-0.230944395065308,0.347893297672272,0.087037041783333,-0.018081327900290,0.348542571067810,-0.130965366959572,-0.270550280809402,0.076702199876308,0.044803641736507,0.023515980690718,-0.037332527339458,-0.285805970430374,-0.309561043977737,0.424223452806473,0.637321531772614,-0.697789430618286));
res += mul(Get(s1,0,dy), float4x4(0.005552594084293,-0.028864189982414,-0.002547180978581,0.199923932552338,0.026820080354810,0.134490162134171,-0.085800796747208,-0.112622059881687,-0.231272354722023,-0.016148148104548,0.534388303756714,-0.106320254504681,-0.047886349260807,-0.067475162446499,0.215544417500496,0.054307579994202));
res += mul(Get(s1,dx,-dy), float4x4(-0.023732006549835,-0.017754539847374,0.170587554574013,-0.169519677758217,-0.085913822054863,0.024326154962182,0.047970611602068,0.034951061010361,-0.015904953703284,0.041037295013666,-0.145232781767845,0.061826031655073,0.096481576561928,0.016994474455714,0.011156310327351,-0.155828773975372));
res += mul(Get(s1,dx,0), float4x4(-0.105264142155647,0.001397072570398,0.068291202187538,0.092856653034687,0.443525522947311,0.175928056240082,-0.293011754751205,-0.008256517350674,0.170922875404358,0.101660750806332,-0.105158977210522,-0.152728706598282,-0.101918309926987,0.086497001349926,0.212573006749153,-0.058232560753822));
res += mul(Get(s1,dx,dy), float4x4(-0.048714712262154,0.022450270131230,0.126329869031906,0.016477707773447,-0.107444845139980,0.183403417468071,-0.047720789909363,-0.012685555964708,0.255811452865601,0.297536969184875,-0.034598387777805,0.038998514413834,-0.023875216022134,0.128486335277557,0.072408944368362,0.084655933082104));
res += mul(Get(s2,-dx,-dy), float4x4(-0.094719834625721,-0.135388195514679,-0.063446693122387,0.014865640550852,-0.085840538144112,-0.089268378913403,0.028952987864614,0.105111151933670,-0.047820944339037,0.002244074363261,-0.192993238568306,0.061497971415520,0.235723778605461,-0.251890867948532,-0.083336614072323,0.114244498312473));
res += mul(Get(s2,-dx,0), float4x4(0.149490252137184,0.011708883568645,0.173292323946953,0.079294957220554,-0.004477857146412,-0.022955898195505,0.163063704967499,0.008397608064115,0.050284516066313,0.131952613592148,-0.011628541164100,0.074093893170357,0.017920583486557,0.320588409900665,-0.258941769599915,0.091505423188210));
res += mul(Get(s2,-dx,dy), float4x4(-0.063451193273067,0.007932318374515,0.078944079577923,-0.178092554211617,-0.136034920811653,-0.069698490202427,0.150340482592583,-0.112555801868439,-0.219742462038994,0.134820312261581,-0.054869666695595,0.107242271304131,-0.294105619192123,0.129558876156807,0.023283809423447,0.049204699695110));
res += mul(Get(s2,0,-dy), float4x4(0.399122655391693,0.141047805547714,0.126045823097229,-0.157233566045761,-0.216060265898705,0.286792844533920,-0.052104625850916,0.363064348697662,0.129297584295273,-0.177155926823616,0.209861308336258,-0.060980156064034,0.059370931237936,0.043312124907970,0.158846631646156,-0.078321911394596));
res += mul(Get(s2,0,0), float4x4(-0.142626449465752,0.494081050157547,0.526245176792145,-0.309996455907822,-0.261641860008240,-0.002587167313322,-0.003275621915236,0.122478514909744,0.266438245773315,-0.206104964017868,0.192219793796539,0.135565415024757,0.094607330858707,-0.011520574800670,-0.062364496290684,0.000852809986100));
res += mul(Get(s2,0,dy), float4x4(-0.067201875150204,0.299960494041443,0.022517377510667,0.054208993911743,-0.062590502202511,0.119050018489361,0.057146143168211,-0.052790857851505,-0.001903650816530,-0.231333941221237,-0.120703168213367,0.003843819489703,0.089685842394829,0.151363283395767,-0.049702979624271,0.080909289419651));
res += mul(Get(s2,dx,-dy), float4x4(0.043414156883955,0.076740071177483,-0.147333517670631,0.044077776372433,0.033728677779436,-0.116082489490509,-0.163004949688911,0.155877977609634,0.214832484722137,0.057464275509119,-0.313642203807831,-0.057979367673397,-0.153696402907372,0.160789608955383,0.215177044272423,-0.168301612138748));
res += mul(Get(s2,dx,0), float4x4(0.220994129776955,-0.048813659697771,-0.466448098421097,0.333554893732071,-0.005209001712501,0.047743145376444,0.058893468230963,-0.229662805795670,-0.264974057674408,0.258529752492905,0.320057749748230,-0.183986172080040,0.116945855319500,0.116854935884476,-0.218388885259628,0.020135734230280));
res += mul(Get(s2,dx,dy), float4x4(-0.104750335216522,0.072412766516209,0.149877116084099,-0.082270979881287,0.086463674902916,-0.085894450545311,0.031288180500269,0.088364727795124,-0.077340371906757,0.049953859299421,0.118108883500099,0.038362316787243,-0.390374839305878,0.138845860958099,0.348383307456970,0.040732000023127));
res = max(float4(0, 0, 0, 0), res) + float4(0.497519999742508,0.058784224092960,-0.011795911006629,0.514739453792572) * min(float4(0, 0, 0, 0), res);
return res;
}
