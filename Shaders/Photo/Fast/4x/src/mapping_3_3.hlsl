sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.019616529345512,0.122706651687622,-0.012462249025702,0.173574328422546);
res += mul(Get(s0,-dx,-dy), float4x4(0.192794770002365,-0.157075762748718,-0.055704921483994,-0.123584426939487,-0.254588663578033,-0.133381843566895,0.103667758405209,0.022217893972993,0.168491989374161,0.071056686341763,0.246394053101540,0.207879185676575,0.035355187952518,0.069212049245834,-0.009825682267547,0.080900974571705));
res += mul(Get(s0,-dx,0), float4x4(0.304452568292618,-0.198764353990555,-0.012426485307515,-0.069859661161900,0.100021995604038,0.151422321796417,0.069370590150356,-0.139509543776512,-0.191546633839607,0.023581394925714,-0.208460211753845,0.040849804878235,0.005081993993372,0.295647621154785,-0.008396202698350,-0.108651295304298));
res += mul(Get(s0,-dx,dy), float4x4(0.411571830511093,-0.152050897479057,0.171137019991875,-0.030203444883227,-0.014251490123570,-0.276309758424759,-0.100184522569180,0.036902785301208,0.035057004541159,0.102393023669720,0.001296789385378,0.052937243133783,0.180284395813942,0.053408473730087,-0.124936275184155,-0.093082882463932));
res += mul(Get(s0,0,-dy), float4x4(0.295960396528244,-0.080845184624195,-0.089209370315075,-0.143751695752144,-0.116791680455208,-0.224045693874359,0.457503139972687,0.131240233778954,0.141142070293427,0.025562305003405,0.347212404012680,-0.230074137449265,0.075339861214161,-0.155648782849312,-0.155148983001709,-0.020958812907338));
res += mul(Get(s0,0,0), float4x4(0.223345696926117,-0.108072519302368,-0.154894620180130,-0.030051071196795,0.299284726381302,0.405680269002914,-0.092269785702229,0.160362064838409,-0.192305848002434,-0.346828252077103,-0.374241262674332,-0.250753879547119,0.229160204529762,0.303509742021561,-0.296033173799515,0.353858560323715));
res += mul(Get(s0,0,dy), float4x4(0.343169480562210,-0.253298252820969,0.199079647660255,-0.256998956203461,-0.035477004945278,-0.235278740525246,0.072570823132992,0.199573084712029,0.011144950985909,0.208439081907272,0.015605658292770,-0.145083352923393,0.044957559555769,0.212195754051208,-0.116576224565506,-0.023414520546794));
res += mul(Get(s0,dx,-dy), float4x4(0.262070327997208,0.015520424582064,-0.155006751418114,-0.082406729459763,0.097260482609272,-0.065211221575737,-0.016861062496901,0.008742078207433,0.080973803997040,0.090888977050781,-0.008517784066498,0.155603170394897,-0.037555661052465,-0.077326931059361,0.001031160820276,-0.020729400217533));
res += mul(Get(s0,dx,0), float4x4(0.240787968039513,-0.051990680396557,-0.088044784963131,0.046952161937952,-0.072701282799244,0.028310593217611,-0.099200814962387,-0.062155611813068,0.148722544312477,0.143429517745972,0.260512024164200,0.189778283238411,0.107232861220837,0.017329074442387,0.141884535551071,0.029138443991542));
res += mul(Get(s0,dx,dy), float4x4(0.275236994028091,-0.034836448729038,0.219076409935951,-0.051433525979519,-0.072807431221008,-0.121751792728901,0.168412759900093,0.052146699279547,-0.054959673434496,-0.024697763845325,-0.390487670898438,0.036171738058329,-0.021770453080535,-0.045588623732328,-0.238632678985596,0.001307493308559));
res += mul(Get(s1,-dx,-dy), float4x4(-0.114659838378429,-0.017971878871322,0.146689355373383,-0.013841780833900,0.036000862717628,-0.027261085808277,0.045098077505827,-0.020568620413542,-0.051943555474281,-0.105836570262909,-0.148182407021523,0.036748029291630,-0.293388456106186,0.121274426579475,-0.195006892085075,0.138004601001740));
res += mul(Get(s1,-dx,0), float4x4(0.157460212707520,0.127158060669899,0.033315058797598,-0.103509217500687,0.182084590196609,-0.092257790267467,-0.190716445446014,0.504402518272400,0.020551040768623,-0.324994146823883,0.184483945369720,0.220699653029442,-0.790030360221863,0.166065335273743,0.011683010496199,0.014744188636541));
res += mul(Get(s1,-dx,dy), float4x4(0.130792334675789,0.088539443910122,-0.300012201070786,0.008406140841544,-0.143299788236618,0.134031161665916,-0.119682244956493,0.096183344721794,0.027784006670117,-0.163110554218292,0.095170252025127,0.117353253066540,-0.303194701671600,0.272441834211349,-0.068284645676613,0.024435991421342));
res += mul(Get(s1,0,-dy), float4x4(-0.003285859245807,-0.081127375364304,0.325507521629333,0.000042906944145,0.169474199414253,0.120329745113850,-0.299696147441864,-0.179189562797546,-0.038174912333488,-0.210918799042702,-0.271105915307999,-0.170481801033020,-0.387901246547699,0.101380348205566,-0.064324028789997,0.060149241238832));
res += mul(Get(s1,0,0), float4x4(0.009894871152937,0.156925633549690,0.392192184925079,-0.031215380877256,-0.168182879686356,-0.449102461338043,0.125135332345963,-0.683555424213409,-0.142196819186211,-0.903431177139282,0.430557996034622,-0.247978255152702,-0.421925783157349,0.062052030116320,0.071125254034996,-0.021346522495151));
res += mul(Get(s1,0,dy), float4x4(0.072696939110756,-0.012470120564103,-0.812555015087128,-0.016957586631179,-0.084966287016869,0.231048047542572,0.075261130928993,-0.034186471253633,-0.035531844943762,-0.240314632654190,0.416332572698593,0.083814933896065,-0.258745312690735,0.124872706830502,-0.079553499817848,0.119752071797848));
res += mul(Get(s1,dx,-dy), float4x4(0.125465914607048,-0.025685580447316,0.103156991302967,-0.028904899954796,-0.073009118437767,0.117440678179264,-0.121078506112099,0.029249053448439,0.122180715203285,0.013087318278849,-0.073516309261322,0.180098637938499,-0.122239276766777,0.145678162574768,-0.070758454501629,0.063550047576427));
res += mul(Get(s1,dx,0), float4x4(-0.033622287213802,0.003829370485619,-0.068906486034393,0.130969405174255,0.090433180332184,0.164037346839905,0.093077644705772,0.572931647300720,-0.041364345699549,0.118511758744717,0.201073780655861,-0.133240848779678,-0.272054940462112,0.136256411671638,0.046738762408495,0.003652360988781));
res += mul(Get(s1,dx,dy), float4x4(-0.104349561035633,0.067317090928555,-0.207243502140045,0.045787345618010,0.217676237225533,-0.092099934816360,-0.042150072753429,0.051193799823523,0.024931725114584,-0.001270022010431,0.152906373143196,-0.024506889283657,-0.347211569547653,0.135721698403358,0.139290481805801,0.104297496378422));
res += mul(Get(s2,-dx,-dy), float4x4(0.025649167597294,-0.032162379473448,0.186348468065262,-0.031209666281939,-0.098211660981178,-0.106036633253098,-0.245069473981857,0.143352672457695,-0.152808830142021,0.046614859253168,-0.084266863763332,-0.087636560201645,0.242588013410568,-0.071527153253555,-0.015568531118333,0.045482560992241));
res += mul(Get(s2,-dx,0), float4x4(0.060541961342096,0.011988176964223,-0.179472357034683,-0.200691789388657,-0.251007169485092,-0.116536729037762,0.059493344277143,0.109580084681511,0.017246106639504,-0.077555686235428,0.087445460259914,-0.043577261269093,0.009372881613672,0.002746526850387,-0.056880708783865,-0.173366367816925));
res += mul(Get(s2,-dx,dy), float4x4(-0.141562968492508,-0.003162967506796,0.129176497459412,-0.322928041219711,-0.131634101271629,-0.009280976839364,0.126634106040001,0.137532800436020,0.116430945694447,0.012689183466136,-0.028585044667125,-0.042380366474390,-0.153807178139687,0.044101133942604,-0.201933413743973,0.092997707426548));
res += mul(Get(s2,0,-dy), float4x4(0.125335693359375,-0.031170394271612,-0.220497459173203,-0.062889173626900,-0.333540916442871,-0.060159467160702,-0.073276028037071,0.056485153734684,-0.051402121782303,0.173779070377350,-0.201755851507187,-0.165226802229881,0.041074272245169,-0.056042801588774,0.020312560722232,0.065836675465107));
res += mul(Get(s2,0,0), float4x4(-0.203959435224533,-0.079071395099163,0.431243419647217,0.196483537554741,-0.620369613170624,-0.023084165528417,0.033247269690037,0.025495879352093,0.075987502932549,-0.150219917297363,0.180275171995163,0.002086283871904,0.097921945154667,0.261155962944031,0.228503718972206,-0.103944428265095));
res += mul(Get(s2,0,dy), float4x4(-0.188967719674110,0.178377091884613,-0.192673817276955,0.025922661647201,-0.065032869577408,-0.014586900360882,0.299445360898972,0.123788446187973,-0.023323863744736,0.028689844533801,0.073680311441422,-0.038087703287601,0.109278239309788,-0.055048730224371,-0.789848566055298,-0.097161941230297));
res += mul(Get(s2,dx,-dy), float4x4(-0.182368442416191,0.028608381748199,-0.172728538513184,-0.178192570805550,-0.183503523468971,-0.085063099861145,-0.054795887321234,-0.076404534280300,-0.012821978889406,0.073447756469250,-0.001082403585315,-0.226943910121918,-0.098690994083881,-0.017833963036537,0.002084029838443,0.081014879047871));
res += mul(Get(s2,dx,0), float4x4(0.093406118452549,0.004619341809303,0.136215746402740,-0.460926562547684,-0.191061601042747,-0.244276314973831,-0.097447350621223,0.046624843031168,-0.215154930949211,-0.117540493607521,-0.183474943041801,-0.470068871974945,0.052732624113560,-0.070786342024803,-0.126834020018578,0.092366360127926));
res += mul(Get(s2,dx,dy), float4x4(0.203979849815369,0.142775699496269,-0.087712138891220,-0.274882286787033,-0.160304501652718,-0.106023758649826,0.269813746213913,-0.092635616660118,-0.036013528704643,0.056580722332001,0.230673849582672,-0.313629835844040,0.042535033077002,-0.173263996839523,0.117286220192909,0.302361726760864));
res = max(float4(0, 0, 0, 0), res) + float4(-0.345697551965714,-0.083636738359928,-0.011613168753684,0.051181457936764) * min(float4(0, 0, 0, 0), res);
return res;
}
