sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0670110285282135,0.0074511389248073,0.0851031318306923,-0.0558761470019817);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0719088539481163,0.0386148057878017,0.0418747253715992,0.2034316509962082,0.0213992316275835,0.0877471417188644,0.0327189676463604,-0.1313445121049881,-0.0163584500551224,0.0861868634819984,-0.1356610208749771,-0.1615000814199448,0.0200660247355700,0.0234687309712172,0.0564302876591682,-0.0623435825109482));
res += mul(Get(s1,-dx,-dy), float4x4(0.0124912112951279,-0.0691998153924942,0.0690834894776344,-0.0359905697405338,0.2101744860410690,-0.0780351608991623,-0.0328748375177383,0.2670639753341675,0.0010774097172543,-0.0038841096684337,-0.0562252327799797,0.0573985800147057,0.0963036492466927,-0.0249835327267647,0.0900626257061958,0.1566856503486633));
res += mul(Get(s2,-dx,-dy), float4x4(-0.0993938818573952,-0.0944512560963631,-0.0310557112097740,-0.0922835469245911,-0.0203612316399813,0.0015893348027021,0.0096752941608429,0.0961479917168617,-0.0189581848680973,-0.0505303591489792,0.0671146437525749,0.1216923445463181,-0.1416835933923721,-0.0061360197141767,-0.1884853392839432,-0.0129016581922770));
res += mul(Get(s0,-dx,0), float4x4(-0.0808117389678955,0.0603096559643745,-0.1781859099864960,0.0649667084217072,0.0263672638684511,0.1334664374589920,0.0929482653737068,-0.1843553334474564,-0.0581022165715694,0.1747636198997498,0.1866139620542526,-0.1990382522344589,0.1405290663242340,-0.0923732891678810,0.0195824056863785,-0.1445939987897873));
res += mul(Get(s1,-dx,0), float4x4(0.1936182379722595,0.0353456363081932,0.1247161477804184,0.1936151981353760,0.0269999876618385,-0.1030370369553566,-0.1446031481027603,0.0440832711756229,-0.0439490564167500,-0.1285101622343063,-0.1533464342355728,-0.1108570471405983,0.0125252334401011,-0.0496394783258438,0.1318470537662506,0.1742277294397354));
res += mul(Get(s2,-dx,0), float4x4(-0.0336796566843987,0.1042682826519012,-0.1889734268188477,0.4773560166358948,0.1015958413481712,-0.0835925117135048,0.0173282288014889,-0.1661170572042465,-0.0200755987316370,-0.0547389425337315,-0.0735094547271729,0.2019402086734772,0.0554459840059280,0.1158882156014442,0.1234613060951233,-0.1058647930622101));
res += mul(Get(s0,-dx,dy), float4x4(0.1025820598006248,-0.0861468836665154,0.1653334051370621,-0.0485543869435787,0.0041703544557095,0.0167078450322151,-0.2499392181634903,0.0090439571067691,-0.0481583289802074,-0.0756755396723747,-0.2317927628755569,-0.0652305930852890,0.0832944735884666,0.0067525198683143,-0.1458838582038879,-0.1172894164919853));
res += mul(Get(s1,-dx,dy), float4x4(0.0319486372172832,0.0162679925560951,0.0458156615495682,0.0454645939171314,-0.1043457612395287,-0.0171755235642195,-0.2931966185569763,-0.0680522546172142,0.0411866456270218,0.0484114065766335,0.0034202428068966,-0.1180919632315636,0.0058468217030168,0.1747153103351593,0.2283244431018829,0.1114047244191170));
res += mul(Get(s2,-dx,dy), float4x4(0.0149203240871429,0.1620505452156067,0.1190233007073402,0.0680264458060265,0.0283603221178055,-0.1035396084189415,0.0523726120591164,0.2240269780158997,0.0586991496384144,0.0545936375856400,0.2597278654575348,-0.0234199035912752,-0.1146794334053993,-0.1393589228391647,-0.0288841594010592,-0.1505734622478485));
res += mul(Get(s0,0,-dy), float4x4(0.0654431879520416,0.2324500232934952,0.0108524747192860,-0.1400108784437180,-0.0390482209622860,0.1254537254571915,0.0363933555781841,-0.0491173528134823,0.1396732628345490,0.0639954581856728,-0.2418060898780823,-0.0292220413684845,-0.1768169999122620,0.0521098375320435,-0.0787058100104332,-0.1141001507639885));
res += mul(Get(s1,0,-dy), float4x4(-0.1244182214140892,-0.0451733767986298,-0.0655538365244865,0.0099285077303648,0.1381437778472900,-0.0062420964241028,0.2475145906209946,0.1753109842538834,0.0341166257858276,-0.0462538786232471,-0.0327490307390690,0.0092922989279032,0.0130171831697226,0.0100985541939735,0.0652405619621277,0.1099629700183868));
res += mul(Get(s2,0,-dy), float4x4(0.1490217596292496,-0.1301101446151733,-0.1789328753948212,0.1173823773860931,-0.0077622588723898,-0.0253557376563549,0.0055711604654789,0.0350963249802589,0.0224372781813145,-0.0573268085718155,-0.0122413877397776,0.1616856157779694,0.0481545366346836,0.1096225157380104,-0.0271258447319269,0.0571027249097824));
res += mul(Get(s0,0,0), float4x4(0.0239363517612219,-0.0347421243786812,0.0577918179333210,-0.4328939914703369,-0.6538403630256653,0.4448036551475525,0.0751798525452614,0.2262128591537476,-0.7824428677558899,0.4031862914562225,-0.1130255907773972,0.2626258730888367,0.4300885796546936,-0.1147822812199593,-0.4738364219665527,0.7186037898063660));
res += mul(Get(s1,0,0), float4x4(-0.0837467685341835,0.0399846211075783,-0.2610750198364258,-0.3903603255748749,-0.0151836248114705,-0.0080740600824356,0.3708297014236450,0.0188870243728161,0.0698828250169754,-0.1735678315162659,0.1683958023786545,0.5173363685607910,0.3033454716205597,-0.2230911105871201,0.0698733776807785,0.1011935174465179));
res += mul(Get(s2,0,0), float4x4(0.3318269848823547,-0.3128303885459900,-0.4718474149703979,0.2008463591337204,-0.0335185937583447,0.2631659507751465,-0.2471322566270828,0.0341611616313457,-0.0487119890749454,0.1175232678651810,0.4493231177330017,-0.0599123723804951,0.0013770065270364,0.1058588922023773,0.1324100345373154,0.0521450527012348));
res += mul(Get(s0,0,dy), float4x4(0.1757505238056183,-0.3965997695922852,0.4500223696231842,-0.1522248983383179,0.0947789773344994,0.1737145632505417,-0.4058238267898560,-0.0118731707334518,0.0196976251900196,0.1193275973200798,0.1994483470916748,-0.1984350979328156,0.1564447432756424,0.0520400963723660,-0.5551840066909790,0.1540713012218475));
res += mul(Get(s1,0,dy), float4x4(0.0995150357484818,0.0226187277585268,-0.0602690912783146,-0.2590401768684387,-0.1551037579774857,-0.0546274967491627,0.0147488294169307,0.0858250483870506,0.0980420410633087,-0.0995098799467087,0.1589419245719910,-0.0103949476033449,-0.1372294872999191,-0.2090567797422409,-0.5562001466751099,0.1221096515655518));
res += mul(Get(s2,0,dy), float4x4(0.2598739862442017,-0.1942391395568848,0.6631287932395935,-0.2064616531133652,-0.0032584171276540,0.1981988102197647,-0.1810239851474762,0.0041244053281844,-0.0759565159678459,-0.0492935068905354,0.4486550688743591,-0.0910571217536926,0.0015397041570395,-0.1474648416042328,-0.1099810227751732,-0.1812725663185120));
res += mul(Get(s0,dx,-dy), float4x4(-0.0112835653126240,0.0300219953060150,-0.1932208389043808,-0.3428527414798737,-0.0438148565590382,0.0887056216597557,0.0641776472330093,0.0491507835686207,0.1194294542074203,0.0736905559897423,-0.0101802535355091,-0.0518818981945515,-0.0669368878006935,0.0160562917590141,0.0198971610516310,0.0739390254020691));
res += mul(Get(s1,dx,-dy), float4x4(0.0414294153451920,0.0108564505353570,0.0247286912053823,0.0245906654745340,0.0882620066404343,-0.0493638142943382,-0.0823864638805389,0.1004706919193268,-0.0644841268658638,-0.0306602921336889,-0.0250488296151161,0.0409163087606430,-0.0657034441828728,-0.0425228290259838,0.0040220730006695,0.0567092671990395));
res += mul(Get(s2,dx,-dy), float4x4(-0.0826683193445206,0.0653881654143333,-0.0473583601415157,0.0542207993566990,-0.0162253007292747,-0.1057209670543671,0.1295512914657593,-0.1446513980627060,-0.0570875667035580,0.0187793653458357,-0.1414526104927063,-0.0988028794527054,0.0183165092021227,0.0144683141261339,-0.0884972289204597,0.0073429332114756));
res += mul(Get(s0,dx,0), float4x4(0.2020578682422638,-0.1493740230798721,-0.3962609171867371,0.1333061754703522,-0.0244418494403362,0.1133602932095528,0.0279370546340942,0.0911342054605484,0.0728427171707153,-0.1238475665450096,-0.0133408736437559,-0.1111945584416389,0.0473303273320198,0.0392561964690685,0.0405274294316769,-0.1429766863584518));
res += mul(Get(s1,dx,0), float4x4(0.1098001003265381,0.0205637905746698,-0.0491534620523453,0.1091616004705429,0.0665623620152473,0.0222268160432577,-0.0743404254317284,0.1267038583755493,-0.0990617796778679,0.0480089373886585,-0.0186900086700916,-0.0436156094074249,-0.0995629578828812,0.0554028227925301,0.0107926856726408,0.1725681871175766));
res += mul(Get(s2,dx,0), float4x4(-0.0058555640280247,0.0533669888973236,-0.0131093123927712,0.0344615131616592,-0.1167300492525101,-0.1140766888856888,0.1565874814987183,-0.0954407751560211,0.0137936053797603,-0.0641959086060524,-0.1478494405746460,0.0291342549026012,-0.0745879709720612,-0.0256825014948845,-0.0164818745106459,-0.0519592091441154));
res += mul(Get(s0,dx,dy), float4x4(-0.0551692619919777,-0.2307698875665665,-0.0511404573917389,-0.0942141711711884,0.0836036652326584,-0.0165265928953886,0.1090980842709541,-0.0715789720416069,0.1223353743553162,-0.0721111148595810,-0.1272387802600861,0.0439874045550823,0.1196335181593895,-0.1126594692468643,-0.0858990550041199,-0.1528827100992203));
res += mul(Get(s1,dx,dy), float4x4(-0.0354306027293205,-0.0933720245957375,-0.0834539905190468,-0.1286278963088989,-0.0503877103328705,-0.0037734899669886,-0.0695159062743187,0.1231643259525299,-0.0465084984898567,-0.0073581025935709,-0.1254772096872330,-0.1474722474813461,-0.1593962758779526,0.0391038618981838,-0.0039381305687129,-0.0569367259740829));
res += mul(Get(s2,dx,dy), float4x4(-0.1169122010469437,0.0652520135045052,0.2972652316093445,-0.1939742416143417,-0.0074962289072573,-0.0088801160454750,-0.4404428303241730,-0.0264070499688387,-0.0119781931862235,-0.0214503519237041,-0.3204988837242126,-0.0069316993467510,-0.0616633184254169,-0.0015188789693639,0.0955994725227356,0.0066853342577815));
res = max(float4(0, 0, 0, 0), res) + float4(0.6662012934684753,-0.1338121891021729,0.1341059505939484,0.7965114712715149) * min(float4(0, 0, 0, 0), res);
return res;
}
