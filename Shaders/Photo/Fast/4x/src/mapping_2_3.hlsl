sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0241777338087559,-0.3322489857673645,0.0110945105552673,-0.0591961145401001);
res += mul(Get(s0,-dx,-dy), float4x4(0.0600884594023228,-0.0580305270850658,0.0054262997582555,0.0565485358238220,-0.0350088551640511,0.1271326094865799,0.0921634510159492,0.1402646154165268,0.1988302469253540,-0.0348622165620327,-0.0098711540922523,0.0028249099850655,0.0741248056292534,0.2098823934793472,0.0587941817939281,0.1526077687740326));
res += mul(Get(s1,-dx,-dy), float4x4(-0.3170435428619385,-0.0368187874555588,-0.0999489277601242,-0.1641421765089035,0.1186670884490013,-0.0828341916203499,0.0017518916865811,0.0193923637270927,0.3045645654201508,-0.0617607384920120,0.1277003288269043,0.1555793583393097,0.2079588323831558,-0.0174604617059231,0.0152006493881345,-0.0565633587539196));
res += mul(Get(s2,-dx,-dy), float4x4(-0.1990823000669479,0.1179885193705559,0.1535420864820480,-0.0816899016499519,0.0245528053492308,-0.1553437411785126,-0.0248366110026836,0.0363316647708416,0.2338614165782928,0.0296067874878645,0.0579714030027390,0.0466119162738323,-0.1130501553416252,-0.2496476173400879,-0.0185709204524755,-0.0445503145456314));
res += mul(Get(s0,-dx,0), float4x4(0.1994026899337769,-0.0006007285555825,-0.3386362493038177,-0.1995830684900284,-0.1540242284536362,0.0508305989205837,0.0710082724690437,0.0093888780102134,0.0741973072290421,-0.1289990991353989,-0.0018174558645114,-0.0760369151830673,-0.1163290292024612,0.1625606864690781,-0.0234305094927549,-0.0285171940922737));
res += mul(Get(s1,-dx,0), float4x4(-0.2537204623222351,-0.1284205317497253,-0.0974753946065903,-0.0081746643409133,0.1374198794364929,0.0011473294580355,-0.0130899138748646,-0.0497850961983204,0.5436833500862122,0.1310913860797882,-0.0347399637103081,0.0903861075639725,0.1478683352470398,-0.7995293140411377,-0.0292714796960354,-0.2044654339551926));
res += mul(Get(s2,-dx,0), float4x4(0.1602543294429779,-0.0837604627013206,-0.0779819115996361,-0.1034680828452110,-0.1225868612527847,0.1296036094427109,0.0745668783783913,0.0210509262979031,-0.0171016007661819,0.0704922005534172,-0.1775896400213242,-0.1408804655075073,0.0386490933597088,-0.1304876804351807,-0.0693749710917473,-0.0215430483222008));
res += mul(Get(s0,-dx,dy), float4x4(0.1615905463695526,-0.1194845438003540,-0.0109243905171752,0.1210137084126472,-0.0815307423472404,0.0511882863938808,0.0805587768554688,0.0380369797348976,-0.3031226694583893,-0.0259683262556791,-0.1724287122488022,-0.0583396255970001,0.0869359076023102,-0.0199502203613520,0.0557061173021793,0.0760168656706810));
res += mul(Get(s1,-dx,dy), float4x4(0.0704639852046967,-0.0236254483461380,0.0443951338529587,-0.0149708595126867,-0.0608657896518707,0.0271728783845901,-0.0110380761325359,-0.1196745857596397,0.0167680438607931,0.1418309509754181,-0.0070302588865161,0.0616872087121010,-0.1699074208736420,-0.2658019959926605,-0.1839438974857330,0.0688855275511742));
res += mul(Get(s2,-dx,dy), float4x4(-0.0562771782279015,-0.1777429431676865,0.1234423443675041,0.0274562183767557,-0.0301415082067251,0.0926305428147316,0.0178217273205519,-0.0409171469509602,-0.2362372577190399,0.0492270588874817,-0.0010417568264529,0.0252668373286724,0.0130569664761424,0.1486059129238129,-0.0332263968884945,-0.0722468048334122));
res += mul(Get(s0,0,-dy), float4x4(-0.0464933216571808,-0.2339405715465546,0.0936498790979385,0.2561945319175720,-0.0484297424554825,0.0542155727744102,0.0475100316107273,0.1267196089029312,0.0995270684361458,-0.0768489763140678,-0.1131837144494057,-0.1119999811053276,-0.2383745610713959,0.1724388599395752,-0.0322424508631229,0.3849321603775024));
res += mul(Get(s1,0,-dy), float4x4(-0.2248097807168961,-0.0170673187822104,0.0807413905858994,-0.0144339762628078,0.2035105526447296,0.0068663586862385,-0.0956215560436249,0.0482200682163239,-0.0769513770937920,-0.2131593227386475,-0.1454184055328369,0.2207012176513672,0.0419629029929638,-0.1634911894798279,-0.1417483836412430,-0.1752727478742599));
res += mul(Get(s2,0,-dy), float4x4(-0.0897609218955040,0.4582918286323547,0.1132938265800476,0.5671904683113098,0.0285126194357872,-0.0377210043370724,-0.1395665705204010,-0.0226372648030519,-0.0161204282194376,-0.0159422922879457,0.0915601328015327,0.0212987158447504,-0.3912353515625000,-0.4481136500835419,-0.0142076462507248,-0.1569029837846756));
res += mul(Get(s0,0,0), float4x4(-0.1620306372642517,0.3436988592147827,0.5871076583862305,0.0068164840340614,-0.2178603857755661,0.2689540684223175,0.4789809584617615,0.0984289348125458,-0.2178187817335129,0.1662650555372238,-0.2706533670425415,-0.1408723890781403,0.3129153251647949,-0.4107629060745239,-0.1606528162956238,0.2365307509899139));
res += mul(Get(s1,0,0), float4x4(-0.0926489084959030,0.2862835526466370,0.2806923687458038,0.0046140970662236,-0.4786208868026733,-0.1755308061838150,0.1335110664367676,-0.0289442650973797,-0.0839922726154327,0.1888282895088196,-0.2676589190959930,0.0054088304750621,-0.3212812542915344,-0.1985824406147003,0.1823515892028809,0.2653191387653351));
res += mul(Get(s2,0,0), float4x4(0.1162657365202904,-0.1249808073043823,-0.0304791666567326,0.3262857198715210,-0.5426147580146790,0.1498876959085464,-0.0514825917780399,-0.1898574978113174,0.2602956295013428,0.3811313807964325,-0.0832355916500092,-0.0112117659300566,-0.3644987940788269,-0.1356578171253204,0.2510124742984772,0.5193166136741638));
res += mul(Get(s0,0,dy), float4x4(-0.2261497676372528,-0.1841413974761963,-0.0472089014947414,0.0278729740530252,0.2665213942527771,0.1241014003753662,-0.2275551557540894,-0.2048280686140060,0.0510122254490852,0.1070802658796310,-0.0325324200093746,-0.1452320069074631,-0.3366200327873230,-0.2775493860244751,-0.0516736395657063,0.1962644457817078));
res += mul(Get(s1,0,dy), float4x4(0.0358017385005951,-0.1157916411757469,0.0835355520248413,0.0841484218835831,-0.0422303713858128,0.0277059096843004,-0.1059812754392624,-0.2797082364559174,-0.3090606331825256,0.0364029929041862,-0.0280994102358818,0.3466300666332245,-0.0726352259516716,-0.0289609562605619,0.1423712521791458,0.0280637945979834));
res += mul(Get(s2,0,dy), float4x4(0.0359331630170345,-0.3148025870323181,0.0174667593091726,-0.0965697616338730,0.0021211253479123,0.1242958530783653,0.0999419540166855,0.0638983994722366,-0.1061282679438591,-0.1201420500874519,-0.0098300101235509,-0.0090832300484180,0.2329958975315094,0.0269306804984808,0.0588797442615032,-0.1928192377090454));
res += mul(Get(s0,dx,-dy), float4x4(0.0967556238174438,-0.1825206279754639,-0.0307948384433985,-0.0155089059844613,-0.4306721091270447,-0.0294904075562954,-0.0267233550548553,0.0035681428853422,-0.0361978076398373,0.0368598327040672,0.0943092778325081,0.0043629822321236,-0.0781690925359726,0.2081329226493835,0.0355629511177540,0.1364354938268661));
res += mul(Get(s1,dx,-dy), float4x4(0.0861033126711845,0.2676658630371094,-0.1299164295196533,-0.0046762479469180,-0.2511818706989288,-0.1192762702703476,0.0523615330457687,0.1406120508909225,0.0158262085169554,-0.2084013968706131,0.1559121757745743,0.0308325290679932,-0.0717988237738609,0.0410342104732990,0.1863720118999481,0.0405094474554062));
res += mul(Get(s2,dx,-dy), float4x4(-0.0144592020660639,-0.2683963775634766,-0.1116946935653687,-0.1792380660772324,0.1516853123903275,0.1070122644305229,-0.0637670829892159,-0.0432077012956142,0.0712914615869522,-0.1237749680876732,-0.0361895076930523,-0.0539930351078510,0.1360110789537430,-0.0758896172046661,0.0633665621280670,-0.1108048707246780));
res += mul(Get(s0,dx,0), float4x4(0.0410824790596962,0.0083352746441960,-0.0296707339584827,0.1107161715626717,0.0568890348076820,-0.0282188691198826,0.1018085181713104,0.1688145995140076,-0.0769420415163040,-0.0099844709038734,0.0966915488243103,0.1041029021143913,0.0057125976309180,0.1811094582080841,-0.0674768015742302,-0.1119002252817154));
res += mul(Get(s1,dx,0), float4x4(-0.0810649245977402,-0.1000204756855965,-0.3574550151824951,-0.1327635794878006,-0.3449392914772034,-0.1056393608450890,-0.3162853717803955,0.4907609224319458,0.0772106721997261,-0.2521656751632690,-0.0320449024438858,-0.0996605977416039,-0.0724733695387840,-0.2422643005847931,0.3513044714927673,0.3170859813690186));
res += mul(Get(s2,dx,0), float4x4(0.1796404272317886,-0.1245619878172874,0.0231236722320318,-0.0565378665924072,0.2624379396438599,0.1349143534898758,-0.2949116826057434,0.0996324643492699,0.0181984081864357,-0.0566942393779755,0.0355606675148010,-0.0510322004556656,0.1198996305465698,-0.0753149539232254,0.0210894979536533,0.0540946349501610));
res += mul(Get(s0,dx,dy), float4x4(0.0564017668366432,0.0663225501775742,0.0510429069399834,-0.0135839413851500,-0.1191042810678482,-0.0847434177994728,0.0261638388037682,0.0067905131727457,-0.0389760695397854,-0.0627045556902885,-0.0021370816975832,-0.1494050621986389,0.0333204083144665,0.1935970485210419,0.1862853467464447,0.3018587827682495));
res += mul(Get(s1,dx,dy), float4x4(0.0237159598618746,-0.3122833371162415,0.0005712221027352,0.1549545228481293,0.6516681313514709,0.3509393334388733,0.1728599667549133,-0.1532352566719055,0.0353289209306240,-0.0622626878321171,0.0483361147344112,-0.0010275223758072,-0.1609410494565964,-0.1334724128246307,0.1100534871220589,0.0383020378649235));
res += mul(Get(s2,dx,dy), float4x4(0.0859723538160324,-0.1700122356414795,-0.0397438555955887,-0.0232840962707996,0.0320973396301270,0.1603758782148361,-0.0136474100872874,-0.1983800679445267,0.0669306442141533,-0.0453137084841728,0.1033719107508659,0.0530230142176151,-0.0596105568110943,-0.0540803596377373,-0.0333575792610645,-0.0371313206851482));
res = max(float4(0, 0, 0, 0), res) + float4(0.5353613495826721,-0.0292123835533857,0.0845000743865967,0.7212728857994080) * min(float4(0, 0, 0, 0), res);
return res;
}
