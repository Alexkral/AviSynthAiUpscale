sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.060080226510763,0.017093053087592,0.009418633766472,0.003766727400944);
res += mul(Get(s0,-dx,-dy), float4x4(0.113928049802780,0.017533132806420,0.033132415264845,0.016900556162000,-0.028482766821980,-0.036838721483946,-0.001015814836137,-0.049543447792530,-0.058789879083633,-0.103235743939877,0.061946269124746,-0.271792918443680,-0.130996644496918,-0.021350832656026,0.076142035424709,-0.101423323154449));
res += mul(Get(s0,-dx,0), float4x4(0.108341433107853,0.274004399776459,-0.181877687573433,0.042114242911339,-0.004305447917432,0.119347631931305,-0.078025236725807,0.111672781407833,-0.103377476334572,-0.020382160320878,0.253427356481552,-0.256993114948273,-0.175989806652069,-0.043251667171717,0.343392699956894,-0.309435665607452));
res += mul(Get(s0,-dx,dy), float4x4(-0.117683254182339,-0.089878670871258,-0.324590981006622,0.085240662097931,0.050253558903933,0.058944761753082,-0.237176403403282,-0.103179998695850,0.120223730802536,-0.128475278615952,0.037627179175615,-0.000910122704227,0.157318428158760,0.025508461520076,-0.045660328119993,0.114544846117496));
res += mul(Get(s0,0,-dy), float4x4(0.155215352773666,0.081061825156212,-0.032375529408455,-0.083060383796692,-0.049381308257580,0.022738128900528,0.053640637546778,0.062879949808121,0.009208513423800,0.024201737716794,0.132297843694687,-0.347158253192902,-0.184101209044456,-0.065144553780556,0.038787316530943,-0.309199720621109));
res += mul(Get(s0,0,0), float4x4(-0.281665742397308,-0.011759642511606,-0.399371922016144,0.203274652361870,-0.587680757045746,0.046296041458845,-0.237607613205910,-0.320643126964569,0.292740434408188,-0.203983858227730,0.635194301605225,0.977478384971619,0.458096504211426,0.240788653492928,-0.207124471664429,0.643614172935486));
res += mul(Get(s0,0,dy), float4x4(-0.345321029424667,-0.584121584892273,-0.088786713778973,-0.169076949357986,0.334043174982071,0.000798837922048,-0.297462433576584,0.029778731986880,0.140258356928825,0.335224241018295,0.271334946155548,0.196745678782463,-0.114386074244976,-0.139406293630600,-0.093718424439430,0.056630033999681));
res += mul(Get(s0,dx,-dy), float4x4(0.022466490045190,0.065923750400543,-0.048351414501667,0.143396317958832,0.196858555078506,0.027307793498039,-0.023836731910706,0.146047487854958,0.190300792455673,0.032107967883348,-0.056113742291927,-0.028408298268914,-0.112958781421185,0.027269087731838,-0.121951542794704,-0.029191579669714));
res += mul(Get(s0,dx,0), float4x4(0.018722767010331,0.190663114190102,0.233147427439690,-0.284970760345459,0.198958516120911,0.018894689157605,0.163795456290245,-0.221863582730293,0.213877648115158,0.163345813751221,-0.358020931482315,-0.042258094996214,-0.373550593852997,0.023778179660439,0.011896878480911,-0.336166083812714));
res += mul(Get(s0,dx,dy), float4x4(0.010158890858293,0.026742607355118,0.048152279108763,-0.173806369304657,0.551186919212341,0.005700965877622,0.020304378122091,0.131334349513054,-0.034387677907944,0.033365931361914,-0.073070868849754,0.135594129562378,0.331235408782959,-0.028874417766929,-0.217289939522743,-0.000236912441324));
res += mul(Get(s1,-dx,-dy), float4x4(0.094746522605419,-0.123631179332733,0.022820279002190,-0.138918504118919,-0.058661181479692,-0.132173523306847,-0.108471155166626,0.263879567384720,0.169371172785759,0.015769660472870,-0.139198482036591,-0.122670061886311,-0.065984204411507,0.119488582015038,0.042787071317434,0.145358562469482));
res += mul(Get(s1,-dx,0), float4x4(0.052665613591671,-0.253398030996323,-0.037385098636150,0.222298353910446,-0.090887270867825,-0.042135532945395,-0.235967099666595,-0.224653422832489,-0.075014069676399,0.655151665210724,-0.151466548442841,-0.047089070081711,-0.351692229509354,0.299445569515228,0.047233905643225,0.027891429141164));
res += mul(Get(s1,-dx,dy), float4x4(-0.183655843138695,0.109260946512222,-0.012623630464077,-0.040660493075848,-0.047089856117964,-0.087817579507828,-0.148389145731926,0.183704644441605,0.157370552420616,-0.373933255672455,-0.226265490055084,-0.107288412749767,0.021407850086689,0.064953245222569,0.076356947422028,0.016691051423550));
res += mul(Get(s1,0,-dy), float4x4(-0.443501591682434,0.073429264128208,0.023999145254493,0.120965115725994,-0.162062928080559,0.159091785550117,-0.135207325220108,0.053228717297316,-0.128029912710190,-0.042414691299200,0.173273473978043,-0.034190732985735,-0.422117531299591,-0.011287540197372,-0.055714361369610,0.126830592751503));
res += mul(Get(s1,0,0), float4x4(-1.147684216499329,-0.132558956742287,0.181923717260361,-0.601189792156219,0.033138543367386,-0.177996218204498,-0.347430318593979,0.182384014129639,0.374323010444641,0.209275692701340,-0.138402447104454,0.173131138086319,-0.072758346796036,-0.530546128749847,-0.114026620984077,-0.373648822307587));
res += mul(Get(s1,0,dy), float4x4(-0.341495215892792,0.040223404765129,-0.031796857714653,0.063638210296631,-0.042227629572153,0.229814723134041,0.046506695449352,-0.104857131838799,0.066537797451019,-0.444710701704025,0.109569899737835,0.243655622005463,-0.052237708121538,-0.277605921030045,-0.017236545681953,0.158394798636436));
res += mul(Get(s1,dx,-dy), float4x4(-0.140919044613838,-0.002193664666265,0.011889192275703,0.019776022061706,-0.085461489856243,0.089218698441982,-0.031875330954790,0.004470356274396,-0.224654287099838,-0.023885069414973,0.102456986904144,0.016709199175239,0.066776894032955,0.022559812292457,0.045457180589437,0.225615516304970));
res += mul(Get(s1,dx,0), float4x4(-0.158982306718826,-0.115728490054607,-0.064128644764423,-0.059605736285448,-0.193301945924759,0.065905362367630,0.115574277937412,-0.073804318904877,0.170470491051674,-0.018079170957208,0.054066896438599,0.250873208045959,-0.114995859563351,0.064953245222569,0.141419738531113,-0.057115893810987));
res += mul(Get(s1,dx,dy), float4x4(-0.013667725026608,0.070537239313126,-0.064737804234028,-0.098834581673145,-0.239513754844666,-0.125915244221687,0.112775638699532,-0.175441578030586,0.048341035842896,0.117975652217865,-0.077415466308594,-0.053286340087652,0.142323046922684,0.236037343740463,-0.043661180883646,-0.013365449383855));
res += mul(Get(s2,-dx,-dy), float4x4(0.139265149831772,0.023641755804420,0.069787986576557,-0.055217608809471,0.025534829124808,0.228904739022255,-0.134329259395599,0.160456717014313,-0.014071553014219,-0.028399858623743,0.055029958486557,0.132227346301079,-0.037913799285889,0.063610345125198,0.018617091700435,-0.117101624608040));
res += mul(Get(s2,-dx,0), float4x4(0.162847533822060,-0.509936511516571,0.534218370914459,-0.005576400086284,-0.061686392873526,0.106461487710476,-0.545936942100525,0.128053992986679,-0.093662612140179,-0.262279570102692,0.049810487776995,0.220502570271492,-0.579837739467621,0.198313027620316,0.206633850932121,-0.398293107748032));
res += mul(Get(s2,-dx,dy), float4x4(0.187271490693092,0.098488211631775,0.126471906900406,0.126106709241867,0.134426698088646,-0.162294313311577,-0.343470156192780,0.016236236318946,0.066624693572521,0.323710322380066,0.109099641442299,0.105411253869534,-0.210075929760933,-0.000024775652491,0.094789274036884,-0.060026552528143));
res += mul(Get(s2,0,-dy), float4x4(0.068896815180779,-0.004004851449281,0.013512649573386,-0.126060217618942,-0.270385921001434,0.046354297548532,0.103425934910774,-0.074793919920921,0.149484366178513,-0.026140529662371,0.070973128080368,0.200679644942284,0.020835485309362,-0.008626791648567,0.053559694439173,-0.335235863924026));
res += mul(Get(s2,0,0), float4x4(0.027416130527854,0.117665134370327,-0.337947458028793,0.403050065040588,-0.232909530401230,-0.069246217608452,0.578722894191742,-0.616288781166077,0.301700174808502,0.170469015836716,-0.229976221919060,0.095139168202877,0.762468576431274,-0.112220659852028,0.252852290868759,0.494586139917374));
res += mul(Get(s2,0,dy), float4x4(0.081469081342220,0.167024418711662,-0.007003418169916,-0.145076319575310,0.120128765702248,-0.003851291956380,0.203642457723618,-0.237980872392654,0.009192240424454,-0.244096964597702,-0.004152714274824,-0.144765779376030,-0.335758626461029,0.053721431642771,0.005917552392930,-0.229375571012497));
res += mul(Get(s2,dx,-dy), float4x4(-0.266715914011002,-0.051824677735567,0.025688409805298,-0.099525630474091,-0.048203155398369,-0.158464610576630,0.066712751984596,0.092747598886490,0.168802425265312,0.087291724979877,-0.235505253076553,0.232992261648178,0.080554589629173,-0.025387041270733,0.045517530292273,-0.088783174753189));
res += mul(Get(s2,dx,0), float4x4(-0.148564890027046,0.071942843496799,0.132231444120407,-0.008291238918900,0.070962995290756,0.124767847359180,-0.022096836939454,-0.079105183482170,-0.014639900065958,0.085612475872040,-0.098186545073986,0.066670604050159,0.151626244187355,0.003920393995941,-0.031497266143560,0.355439186096191));
res += mul(Get(s2,dx,dy), float4x4(-0.030859714373946,-0.157790809869766,-0.017388330772519,0.090271644294262,0.215903028845787,-0.065659813582897,-0.097117282450199,0.006253575906157,0.282692193984985,-0.121792003512383,-0.124814160168171,-0.007093098014593,-0.333068758249283,-0.088203676044941,0.065966449677944,-0.031553912907839));
res = max(float4(0, 0, 0, 0), res) + float4(0.104013085365295,-0.484575033187866,-0.506195485591888,0.509133040904999) * min(float4(0, 0, 0, 0), res);
return res;
}
