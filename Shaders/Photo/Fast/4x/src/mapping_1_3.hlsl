sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.163783043622971,-0.101848706603050,-0.104125238955021,-0.111403279006481);
res += mul(Get(s0,-dx,-dy), float4x4(0.273251026868820,0.070758901536465,0.159742802381516,0.169537082314491,0.180958524346352,0.062667839229107,-0.019714051857591,0.019397621974349,0.018079869449139,0.050627551972866,0.036335673183203,0.131875351071358,-0.134130984544754,0.116782613098621,0.147269278764725,-0.189815029501915));
res += mul(Get(s0,-dx,0), float4x4(-0.361015707254410,0.387154817581177,-0.073395103216171,-0.230710610747337,-0.273744940757751,-0.228782132267952,0.186787992715836,0.255630314350128,0.019455909729004,0.180428862571716,-0.013189267367125,-0.102228134870529,0.032212838530540,-0.102220997214317,0.032106727361679,0.368544936180115));
res += mul(Get(s0,-dx,dy), float4x4(-0.032808035612106,-0.141789466142654,0.213314250111580,0.030834740027785,-0.085966415703297,-0.217638805508614,-0.078001201152802,-0.236755818128586,-0.049992173910141,-0.114556089043617,0.011140206828713,0.000038489506551,-0.017901860177517,0.044603642076254,-0.086222603917122,0.170638993382454));
res += mul(Get(s0,0,-dy), float4x4(0.192850589752197,-0.189444765448570,0.007228216622025,0.125734582543373,0.094254568219185,0.122275844216347,0.138314127922058,0.122292026877403,0.046412844210863,-0.102075077593327,-0.172658309340477,0.005476214922965,0.205351307988167,0.254133254289627,-0.297754436731339,-0.289752453565598));
res += mul(Get(s0,0,0), float4x4(0.019212203100324,-0.276436030864716,-0.188408792018890,0.317281126976013,-0.027212427929044,-0.316759347915649,0.516443967819214,0.452270209789276,-0.240648597478867,0.325802445411682,-0.215641081333160,-0.374385237693787,-0.029962228611112,-0.245208024978638,0.175951033830643,0.843245387077332));
res += mul(Get(s0,0,dy), float4x4(-0.522483766078949,0.016384569928050,-0.012295236811042,-0.266639083623886,-0.521738827228546,-0.404546469449997,-0.459754019975662,-0.660132765769958,-0.001449272735044,-0.105413787066936,-0.134428799152374,0.024740513414145,-0.058979928493500,-0.006160106975585,-0.308213919401169,0.074513792991638));
res += mul(Get(s0,dx,-dy), float4x4(-0.056004632264376,0.010828392580152,0.025822130963206,0.080242663621902,-0.030328491702676,-0.070918507874012,0.022544259205461,-0.228092014789581,-0.033995103091002,0.086836881935596,0.121107392013073,-0.169401571154594,-0.226599991321564,0.000384184764698,0.062431301921606,-0.373251885175705));
res += mul(Get(s0,dx,0), float4x4(0.005879424512386,0.134728685021400,0.068072795867920,-0.053059499710798,-0.198077395558357,-0.126363590359688,-0.106702946126461,-0.415023624897003,0.239687442779541,0.055773653090000,-0.116156093776226,0.016970371827483,-0.125967383384705,0.072432272136211,0.046166773885489,-0.702004194259644));
res += mul(Get(s0,dx,dy), float4x4(0.052426189184189,-0.070467658340931,0.327032059431076,0.135220363736153,-0.274068087339401,-0.219640091061592,0.053507987409830,-0.153573557734489,-0.162769481539726,0.023839289322495,0.213881015777588,-0.046278357505798,-0.060678467154503,-0.162132814526558,0.107284344732761,-0.341579049825668));
res += mul(Get(s1,-dx,-dy), float4x4(0.102629654109478,0.051589984446764,-0.116968683898449,-0.134407907724380,-0.085065640509129,-0.059872977435589,0.159564897418022,-0.061324179172516,-0.089459098875523,-0.050842776894569,0.264938861131668,0.010017615742981,0.002895422047004,0.166921615600586,-0.173376634716988,0.029830168932676));
res += mul(Get(s1,-dx,0), float4x4(0.133411571383476,0.268170505762100,0.029673038050532,0.007450756151229,0.083897128701210,0.110679954290390,0.253455251455307,0.028492331504822,-0.064282171428204,0.175008684396744,-0.112997427582741,-0.061637740582228,-0.095374569296837,-0.542447984218597,0.096345894038677,0.202302321791649));
res += mul(Get(s1,-dx,dy), float4x4(0.124352119863033,0.025740928947926,0.652091681957245,0.465460985898972,0.026506168767810,0.160967558622360,-0.072028040885925,-0.070030249655247,0.235748454928398,-0.030805295333266,0.202417388558388,-0.127297192811966,0.185627967119217,-0.131218656897545,-0.087746568024158,0.068609893321991));
res += mul(Get(s1,0,-dy), float4x4(-0.082533374428749,0.093904353678226,0.254931390285492,0.038928918540478,-0.302090585231781,-0.108778797090054,0.018351357430220,0.013901753351092,-0.284316986799240,-0.223209887742996,-0.038240749388933,0.105074584484100,0.298824757337570,-0.409439384937286,0.105231359601021,0.234827414155006));
res += mul(Get(s1,0,0), float4x4(-0.186111211776733,0.072634026408195,0.102638043463230,-0.170709669589996,0.169324874877930,-0.136467427015305,0.066959068179131,-0.339702934026718,-0.030851829797029,-0.136210635304451,-0.334302395582199,-0.027593720704317,-0.274374037981033,0.751235067844391,0.194051235914230,-0.579614758491516));
res += mul(Get(s1,0,dy), float4x4(0.221859887242317,-0.091268934309483,-0.383313685655594,0.051590323448181,0.133716955780983,-0.138234689831734,-0.020987931638956,-0.073559328913689,-0.334454983472824,-0.215433746576309,-0.195320025086403,-0.209789976477623,-0.008889713324606,0.113655112683773,-0.126271054148674,-0.030994849279523));
res += mul(Get(s1,dx,-dy), float4x4(-0.045504562556744,0.151693284511566,0.174163177609444,-0.040090292692184,-0.239596009254456,-0.016735559329391,-0.063278593122959,0.191531494259834,0.005800862796605,-0.082027338445187,0.094968251883984,0.037975586950779,0.194775402545929,-0.003070252714679,0.023740286007524,-0.014225671999156));
res += mul(Get(s1,dx,0), float4x4(-0.005125489085913,-0.015766661614180,0.012497186660767,0.036149244755507,-0.431414902210236,0.159641146659851,-0.007751655764878,0.102282956242561,0.178750261664391,0.003425764152780,-0.156906113028526,0.310169517993927,0.187122195959091,0.108303166925907,0.134656116366386,0.166684120893478));
res += mul(Get(s1,dx,dy), float4x4(0.061555735766888,0.034653864800930,0.327089160680771,-0.045091558247805,-0.114195220172405,-0.237496897578239,-0.012480605393648,0.189092978835106,0.223965704441071,0.009374745190144,0.112584896385670,0.159176275134087,-0.237289607524872,0.000021096075216,-0.251921892166138,-0.001563564874232));
res += mul(Get(s2,-dx,-dy), float4x4(-0.040297485888004,0.037351347506046,0.010039808228612,-0.009896757081151,0.042127758264542,-0.091034777462482,-0.215335726737976,-0.278688669204712,0.012092700228095,0.028805511072278,0.031181577593088,-0.064291544258595,0.085168577730656,0.163428559899330,-0.006192723754793,0.028721794486046));
res += mul(Get(s2,-dx,0), float4x4(-0.122059591114521,0.097801037132740,-0.175351634621620,-0.249875724315643,0.030360471457243,0.222712561488152,0.065978534519672,0.187991753220558,-0.121802315115929,-0.139986425638199,-0.232326954603195,0.015236686915159,0.040090613067150,0.074973367154598,-0.044072136282921,-0.034314971417189));
res += mul(Get(s2,-dx,dy), float4x4(0.080947771668434,-0.043225437402725,-0.040137305855751,0.029332078993320,0.185844659805298,-0.088055446743965,-0.033002082258463,-0.051958225667477,-0.113290295004845,-0.067593313753605,-0.039926759898663,-0.209990382194519,-0.020196698606014,-0.067130997776985,-0.000576904858463,-0.093046583235264));
res += mul(Get(s2,0,-dy), float4x4(-0.001997509738430,-0.072533018887043,-0.064846009016037,0.013584353029728,0.181618541479111,0.142221659421921,-0.222108006477356,-0.118984572589397,0.274359047412872,-0.087886184453964,-0.126008629798889,0.124478690326214,-0.335153877735138,0.021327128633857,0.177408680319786,-0.155774205923080));
res += mul(Get(s2,0,0), float4x4(0.023268897086382,0.266585379838943,-0.492893338203430,-0.315266609191895,0.186173364520073,0.032071750611067,0.402706712484360,0.555419683456421,0.039240282028913,0.213734596967697,0.232357159256935,-0.162860497832298,-0.069268308579922,-0.099673084914684,-0.122208647429943,0.130688533186913));
res += mul(Get(s2,0,dy), float4x4(0.111984528601170,0.010975514538586,0.089363373816013,-0.184104993939400,-0.001199558726512,-0.035682551562786,-0.103339314460754,-0.098485991358757,0.150985062122345,-0.056189049035311,-0.096123963594437,0.127775326371193,-0.144565492868423,-0.085799887776375,-0.114786170423031,-0.195317670702934));
res += mul(Get(s2,dx,-dy), float4x4(0.263170003890991,-0.203223273158073,-0.095784150063992,0.288394957780838,0.125191196799278,0.081896416842937,-0.138721004128456,0.106515377759933,0.067294232547283,-0.177972942590714,0.045922957360744,0.163798555731773,-0.079004630446434,0.125157058238983,0.064297474920750,-0.065863020718098));
res += mul(Get(s2,dx,0), float4x4(-0.050477936863899,-0.628006875514984,-0.109796091914177,0.454029470682144,0.013123067095876,-0.055506251752377,0.045117124915123,-0.012119375169277,-0.209438577294350,0.321615010499954,0.180210158228874,-0.178038120269775,-0.002825712552294,-0.073848322033882,-0.150215223431587,0.135559320449829));
res += mul(Get(s2,dx,dy), float4x4(0.058926958590746,0.048745390027761,0.163540259003639,0.070622704923153,0.126311793923378,0.051414884626865,-0.002008674899116,0.174634620547295,0.054677266627550,-0.087411098182201,0.028043186292052,-0.061532486230135,0.164848774671555,-0.189707472920418,-0.058707825839520,-0.055040899664164));
res = max(float4(0, 0, 0, 0), res) + float4(0.485200256109238,0.820108473300934,0.335061341524124,-0.031724043190479) * min(float4(0, 0, 0, 0), res);
return res;
}
