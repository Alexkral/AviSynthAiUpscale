sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.3581659495830536,0.0798791795969009,0.0417349562048912,0.0838142707943916);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0538728721439838,-0.0709698647260666,0.0585909076035023,-0.1309273242950439,0.0651186257600784,-0.0279200784862041,0.0526234768331051,-0.0951095297932625,-0.0758288502693176,-0.0398015864193439,-0.1395193189382553,0.0990644916892052,0.1348340809345245,-0.0253577046096325,0.0845914036035538,-0.0096855945885181));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0782630518078804,0.1223312467336655,-0.1849012076854706,0.0446785725653172,-0.0447578467428684,-0.0246452521532774,-0.0964625179767609,0.1121616512537003,0.2488051652908325,0.0513230524957180,0.1694321781396866,0.1518227756023407,0.0281765609979630,-0.0441932752728462,0.1659124791622162,0.0637002736330032));
res += mul(Get(s2,-dx,-dy), float4x4(0.0449263826012611,-0.1408946663141251,-0.0380743443965912,0.1592969447374344,0.0025172266177833,-0.0937571898102760,-0.1375640332698822,-0.0336741395294666,-0.0732463821768761,0.0623718127608299,-0.0395931787788868,0.0155038358643651,0.1282585859298706,-0.0778811052441597,0.2845350801944733,-0.0761136412620544));
res += mul(Get(s0,-dx,0), float4x4(0.0435161329805851,0.0903390869498253,-0.0729311108589172,-0.0214786157011986,-0.2332043796777725,-0.0145782418549061,-0.0055826990865171,0.2368396371603012,0.1607674956321716,-0.1984438896179199,0.0231377296149731,-0.0494050122797489,0.0652981102466583,0.0958445072174072,-0.0946124494075775,-0.0704561769962311));
res += mul(Get(s1,-dx,0), float4x4(-0.1563180088996887,-0.1511970162391663,0.0986697152256966,-0.0113973841071129,-0.0707418993115425,0.1396266520023346,0.1447150111198425,0.1814162135124207,0.0519768893718719,0.0260790511965752,-0.1490038037300110,-0.1251187175512314,0.3960179090499878,0.1326955407857895,-0.0162689890712500,-0.0327655002474785));
res += mul(Get(s2,-dx,0), float4x4(0.0740799903869629,0.0753737092018127,0.1147923618555069,0.0195113867521286,0.1567564308643341,0.1715134829282761,-0.0114818662405014,-0.3352536559104919,-0.1283925622701645,-0.1663265377283096,-0.0569946691393852,-0.1687281429767609,0.0440084561705589,0.2570092976093292,-0.0233007837086916,-0.1552931219339371));
res += mul(Get(s0,-dx,dy), float4x4(-0.0159433968365192,0.1361306756734848,-0.1517255306243896,-0.0074179884977639,0.1322141438722610,-0.0051141930744052,-0.0246679428964853,0.0969558060169220,-0.0301764681935310,0.0669970437884331,0.0203680954873562,0.0082750199362636,-0.0406619422137737,0.0293832849711180,-0.0318072140216827,-0.1748867034912109));
res += mul(Get(s1,-dx,dy), float4x4(-0.0732812210917473,-0.0672339722514153,0.0695413649082184,0.0695094540715218,-0.0448623746633530,-0.2158586829900742,0.2956123948097229,0.0632003545761108,0.0939506366848946,0.2068308740854263,-0.1069610789418221,-0.1401178240776062,0.2921607792377472,0.0328038148581982,-0.0466013029217720,-0.0378372035920620));
res += mul(Get(s2,-dx,dy), float4x4(0.1072827056050301,0.0418236181139946,0.0376917421817780,-0.1186544597148895,-0.1948362886905670,0.0503322854638100,-0.1559960395097733,0.1173222810029984,-0.2291312664747238,0.0606550574302673,-0.0400348864495754,0.0188142154365778,0.0443719848990440,0.0576212257146835,-0.1313802152872086,0.0062416419386864));
res += mul(Get(s0,0,-dy), float4x4(-0.1783794462680817,0.0584699660539627,0.2405175864696503,-0.2275651991367340,0.1710730642080307,0.0334751680493355,-0.0307747721672058,0.1376354694366455,-0.0854439884424210,-0.0339196510612965,-0.1316019594669342,0.0221366118639708,-0.0716775804758072,-0.0028535786550492,-0.0606052726507187,-0.0562346465885639));
res += mul(Get(s1,0,-dy), float4x4(0.0090235006064177,0.0203439742326736,-0.1083065941929817,-0.0773625522851944,-0.1744536757469177,0.0446575209498405,0.1115479469299316,-0.1292291283607483,-0.0076318429782987,0.0741860494017601,-0.0399566590785980,0.1033329218626022,-0.0914607644081116,0.0321182683110237,0.0185252912342548,-0.0134832859039307));
res += mul(Get(s2,0,-dy), float4x4(-0.1601705998182297,-0.0202338006347418,0.0963069722056389,0.1206544637680054,-0.2109232246875763,-0.0572999753057957,0.0584062337875366,0.0471330992877483,0.4010959565639496,-0.0366445630788803,-0.2240967303514481,0.1902049928903580,0.0583522021770477,-0.0993863493204117,-0.1877025365829468,0.0555139258503914));
res += mul(Get(s0,0,0), float4x4(0.3980017602443695,-0.1214628815650940,-0.3208351135253906,0.6384902000427246,0.1199068948626518,-0.0292405374348164,-0.1914933025836945,0.2967105507850647,-0.1567145884037018,0.1641237884759903,0.0693137645721436,-0.4085597693920135,-0.0868877470493317,0.5344297885894775,0.5859891176223755,-0.1455276161432266));
res += mul(Get(s1,0,0), float4x4(-0.0834135934710503,0.3185473680496216,0.0460470579564571,0.0167960505932570,-0.0118853785097599,-0.3242675065994263,-0.2495602816343307,-0.1498811393976212,0.1387092471122742,0.1843255758285522,0.2435044646263123,0.1914964914321899,-0.0601173266768456,0.4076366722583771,-0.0511290617287159,-0.4537024796009064));
res += mul(Get(s2,0,0), float4x4(0.0435706079006195,0.4752615988254547,-0.0627474561333656,-0.4690348207950592,-0.2166925072669983,0.1596117019653320,0.0566926784813404,0.2220705002546310,0.4091611206531525,0.0878332555294037,-0.0562878288328648,-0.2695798277854919,0.0262078214436769,0.0087864790111780,-0.2018929868936539,0.2335008233785629));
res += mul(Get(s0,0,dy), float4x4(0.0564940907061100,0.1415862888097763,0.0449237078428268,0.1683634221553802,-0.1401496082544327,0.0379422307014465,-0.0944712981581688,0.1293780803680420,-0.1733197569847107,-0.0932215154170990,-0.1020256429910660,0.2364987134933472,0.1198320314288139,-0.0843518972396851,0.1378296464681625,0.0290933996438980));
res += mul(Get(s1,0,dy), float4x4(0.3901700675487518,-0.0512810759246349,0.0944100245833397,0.0154929636046290,-0.2003631442785263,0.0417019389569759,0.0698822811245918,0.4992970824241638,-0.0912075862288475,-0.1506369262933731,-0.0313432067632675,-0.1315567493438721,0.5092563629150391,0.0330850742757320,-0.1734122931957245,-0.0979557484388351));
res += mul(Get(s2,0,dy), float4x4(-0.0508868768811226,-0.2035683393478394,-0.3692040145397186,0.3192145228385925,0.0019606107380241,0.1710948199033737,-0.0127821527421474,0.0380046665668488,0.5168626904487610,-0.2474690824747086,-0.0322821736335754,0.3270928561687469,-0.3819661438465118,-0.2239997088909149,-0.2866266667842865,0.1225081309676170));
res += mul(Get(s0,dx,-dy), float4x4(-0.1499980539083481,-0.0197794493287802,-0.0724641010165215,-0.0911321714520454,-0.1411843150854111,-0.0554083175957203,0.0277350358664989,0.0746904313564301,0.0142444176599383,-0.0166103821247816,-0.1167755573987961,0.0480396300554276,-0.0976521670818329,-0.0228444598615170,0.0034337902907282,0.0868873894214630));
res += mul(Get(s1,dx,-dy), float4x4(0.1424524486064911,0.1351440548896790,0.0763661935925484,-0.0965614318847656,0.3152077198028564,0.2030960619449615,0.0073102465830743,-0.1578976213932037,-0.2859317660331726,-0.1073552966117859,0.0799521282315254,0.0624427199363708,-0.0660698935389519,-0.0394313521683216,-0.0625023245811462,0.1228123605251312));
res += mul(Get(s2,dx,-dy), float4x4(0.0891219601035118,-0.0361130721867085,0.1550797373056412,0.0270523987710476,-0.2363306283950806,0.0278131030499935,-0.1004965081810951,0.0679081305861473,0.1536919325590134,-0.0929689332842827,-0.0380660407245159,0.2162834107875824,0.2119812071323395,-0.1819843798875809,-0.0293116364628077,0.0791515037417412));
res += mul(Get(s0,dx,0), float4x4(0.0235492102801800,0.0985565111041069,0.3590380549430847,0.0082305222749710,-0.0545351654291153,-0.0040757469832897,-0.2344836592674255,0.1748187839984894,0.1475524306297302,0.0784561336040497,0.2062710970640182,-0.0674876049160957,-0.1622336208820343,-0.0512914918363094,-0.1350280940532684,0.0686950162053108));
res += mul(Get(s1,dx,0), float4x4(0.0428060740232468,0.0959449708461761,-0.0249167028814554,-0.0732053741812706,-0.0167212244123220,0.2145454883575439,-0.0839695632457733,-0.1688338071107864,-0.1833415031433105,-0.2226104140281677,-0.2463125586509705,0.1528748422861099,0.1470910310745239,-0.1175483688712120,-0.1094167977571487,0.0522920750081539));
res += mul(Get(s2,dx,0), float4x4(0.0006385347805917,0.1742919385433197,-0.0007660174742341,0.1994156241416931,-0.2824473381042480,-0.0019979283679277,0.2269729971885681,-0.1986975669860840,-0.0976506769657135,0.0028387557249516,-0.0858324840664864,0.2051153481006622,0.0274118706583977,0.0997174382209778,0.2899035513401031,-0.0286841634660959));
res += mul(Get(s0,dx,dy), float4x4(0.0924072861671448,-0.0470538698136806,-0.0458566322922707,0.0356609933078289,0.1143010929226875,0.0656265690922737,0.0822810158133507,0.2502182424068451,0.1761923134326935,0.0775684118270874,0.0557496398687363,0.0457042381167412,0.1037921905517578,0.0944427624344826,-0.0024689713027328,-0.0918034240603447));
res += mul(Get(s1,dx,dy), float4x4(-0.0376592874526978,-0.0716026723384857,0.0324349515140057,0.0089368633925915,0.1333781778812408,0.0268876124173403,-0.1125355884432793,0.1237374767661095,-0.0385055951774120,0.0232033226639032,-0.0035715210251510,-0.0461863614618778,-0.0977598428726196,-0.0339480414986610,0.0388228744268417,0.0406153425574303));
res += mul(Get(s2,dx,dy), float4x4(-0.1786899119615555,0.0234510060399771,0.0619350560009480,-0.0890311226248741,0.2712281942367554,0.0378625057637691,0.0277286488562822,-0.0786086246371269,-0.1491793990135193,0.1051974892616272,0.0445815026760101,-0.0763232260942459,-0.0098730297759175,-0.0681808888912201,-0.0915365815162659,-0.1115470826625824));
res = max(float4(0, 0, 0, 0), res) + float4(0.0541639700531960,2.2551786899566650,2.4016184806823730,-0.4213785827159882) * min(float4(0, 0, 0, 0), res);
return res;
}
