sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.127505376935005,0.028479008004069,-0.091149240732193,-0.197285801172256);
res += mul(Get(s0,-dx,-dy), float4x4(0.288733005523682,0.232363328337669,-0.075267687439919,-0.076781310141087,-0.044053163379431,0.129252478480339,0.035477042198181,0.028203591704369,0.048555288463831,-0.048057351261377,-0.004944384098053,-0.064102239906788,0.104168951511383,0.064189076423645,0.033875778317451,0.172016978263855));
res += mul(Get(s0,-dx,0), float4x4(0.299224644899368,0.221599057316780,-0.012262970209122,-0.031499303877354,0.126921430230141,-0.506620168685913,0.124761499464512,0.051792867481709,-0.157379209995270,-0.134654805064201,-0.178355053067207,-0.206013083457947,-0.048426244407892,-0.054574511945248,0.013943097554147,0.149600356817245));
res += mul(Get(s0,-dx,dy), float4x4(0.148695275187492,0.250504195690155,0.171283438801765,0.006748583167791,0.185852572321892,-0.275628209114075,-0.187961205840111,-0.061698701232672,0.025157162919641,-0.173066183924675,-0.086903415620327,-0.085391767323017,-0.125040277838707,-0.022706545889378,-0.105038225650787,0.053360827267170));
res += mul(Get(s0,0,-dy), float4x4(0.122444324195385,0.106250561773777,-0.065699525177479,0.059576176106930,-0.274765133857727,0.287997663021088,-0.272981971502304,0.049367159605026,0.049775619059801,0.134131282567978,-0.297551840543747,-0.130153283476830,0.005842319689691,0.038031350821257,0.325987726449966,0.062253262847662));
res += mul(Get(s0,0,0), float4x4(0.215006232261658,0.356677621603012,-0.156604126095772,0.051242660731077,-0.105514213442802,-0.501636624336243,0.433807194232941,-0.056216213852167,0.494810193777084,-0.117434687912464,0.272923886775970,0.264571636915207,-0.677615582942963,-0.106125429272652,0.238250046968460,0.003801224986091));
res += mul(Get(s0,0,dy), float4x4(0.312871366739273,0.310640752315521,0.068489514291286,-0.004281684290618,0.325662314891815,-0.247251689434052,-0.361840426921844,0.389138132333755,-0.192118898034096,-0.075258858501911,-0.085040196776390,0.039929259568453,-0.058376070111990,0.116486668586731,-0.749022185802460,-0.276114016771317));
res += mul(Get(s0,dx,-dy), float4x4(0.247283488512039,0.058763034641743,-0.064132831990719,-0.050580501556396,0.176786944270134,-0.057169035077095,0.008106080815196,0.021180169656873,0.140501528978348,-0.156238526105881,0.021744821220636,0.259995341300964,-0.050710503011942,-0.071965627372265,0.044624261558056,-0.104933813214302));
res += mul(Get(s0,dx,0), float4x4(0.271616637706757,0.207297220826149,-0.159988477826118,0.013582534156740,-0.161902785301208,0.089929826557636,0.093052156269550,-0.180543467402458,0.240180999040604,-0.336609929800034,-0.352344751358032,0.140480399131775,0.238614991307259,-0.078884415328503,-0.104310274124146,0.195684403181076));
res += mul(Get(s0,dx,dy), float4x4(0.371815234422684,0.221811115741730,0.152085691690445,-0.093897268176079,0.060741163790226,-0.006812758278102,-0.101990886032581,-0.157011717557907,0.023238092660904,0.076850272715092,0.310180574655533,0.091999463737011,-0.028709216043353,0.021718917414546,0.063580550253391,-0.089749164879322));
res += mul(Get(s1,-dx,-dy), float4x4(0.062632158398628,0.040289577096701,0.103421986103058,0.015419360250235,0.090121239423752,0.137966498732567,0.004003129899502,0.056411199271679,0.018335033208132,0.047646544873714,-0.155061453580856,-0.177669703960419,-0.353637307882309,-0.208666265010834,-0.140298619866371,-0.007505489513278));
res += mul(Get(s1,-dx,0), float4x4(0.105599492788315,-0.142197951674461,-0.017077105119824,0.298689693212509,-0.252655535936356,0.281300634145737,0.204770386219025,0.415208995342255,-0.139205142855644,0.027096739038825,0.056136749684811,-0.267663657665253,-0.045108389109373,-0.361249357461929,-0.052835561335087,-0.076183781027794));
res += mul(Get(s1,-dx,dy), float4x4(-0.006626600865275,0.167655080556870,-0.014681526459754,0.072172224521637,0.093095257878304,-0.030487323179841,-0.179214388132095,0.078800074756145,0.047995042055845,0.074310801923275,0.033780794590712,0.035667788237333,-0.234373167157173,-0.068258658051491,-0.039518773555756,-0.005649630911648));
res += mul(Get(s1,0,-dy), float4x4(-0.025384543463588,0.034544054418802,-0.075646921992302,-0.072140999138355,0.298073112964630,-0.224245488643646,0.559616327285767,0.101295731961727,0.426503896713257,0.172262057662010,-0.165621832013130,-0.248462393879890,-0.465670883655548,-0.107672818005085,-0.166229978203773,-0.137052267789841));
res += mul(Get(s1,0,0), float4x4(-0.314307391643524,-0.614973723888397,0.094841673970222,-0.690876483917236,0.430649012327194,0.252514958381653,-0.499446362257004,-0.247370526194572,0.414598256349564,0.204110294580460,0.495252817869186,0.192404106259346,-0.209590032696724,-0.265809774398804,0.229814708232880,-0.063207611441612));
res += mul(Get(s1,0,dy), float4x4(0.088889755308628,-0.021531743928790,-0.136307254433632,-0.225904136896133,-0.245146498084068,0.328297495841980,0.138492852449417,0.157407417893410,-0.030026931315660,0.209299296140671,0.002080122241750,0.077061526477337,-0.311867862939835,-0.133101254701614,-0.158877015113831,0.081233926117420));
res += mul(Get(s1,dx,-dy), float4x4(-0.103462852537632,-0.089951753616333,0.093255944550037,-0.019733993336558,-0.017227303236723,0.060894414782524,0.196921184659004,0.040480811148882,-0.228324398398399,-0.071624279022217,-0.058175902813673,-0.068407244980335,-0.289516657590866,-0.263302057981491,-0.184694245457649,0.025194618850946));
res += mul(Get(s1,dx,0), float4x4(0.033410523086786,0.061307422816753,0.167721644043922,0.269932031631470,0.066199421882629,-0.315576076507568,0.032797146588564,0.446245729923248,0.002499915892258,-0.047285567969084,0.083561509847641,-0.169677883386612,-0.077036671340466,-0.189057394862175,0.110113501548767,-0.003535134019330));
res += mul(Get(s1,dx,dy), float4x4(-0.034257594496012,-0.043596334755421,-0.388574957847595,-0.071928620338440,0.155532091856003,0.067725867033005,0.045327328145504,0.041318636387587,0.025971591472626,0.137337625026703,0.063491240143776,0.021599758416414,-0.333421319723129,-0.270240873098373,0.141270637512207,-0.019481351599097));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003198085119948,-0.031037064269185,-0.080226227641106,-0.008477413095534,-0.119757778942585,0.056150853633881,-0.047653589397669,-0.069752648472786,-0.075086377561092,-0.046887341886759,0.020883729681373,-0.032501634210348,-0.033246587961912,0.101737141609192,-0.015215693973005,0.031453907489777));
res += mul(Get(s2,-dx,0), float4x4(-0.076353728771210,0.622277379035950,0.127519428730011,0.429204225540161,-0.182848110795021,-0.074170842766762,0.055082947015762,-0.118576407432556,0.213350921869278,0.007030122913420,-0.005119169130921,-0.091480307281017,-0.087298333644867,0.255914747714996,0.210071682929993,0.357227325439453));
res += mul(Get(s2,-dx,dy), float4x4(-0.156093761324883,0.002799022244290,-0.346487641334534,0.081331931054592,-0.250259816646576,-0.255239278078079,0.066208332777023,-0.044881541281939,-0.026317890733480,0.174904361367226,0.019806738942862,0.018699461594224,-0.000246095325565,0.129339471459389,0.254106402397156,0.181914821267128));
res += mul(Get(s2,0,-dy), float4x4(0.568523526191711,-0.146557018160820,0.396030306816101,0.253538310527802,0.219356462359428,0.156607285141945,0.000560533371754,0.136375904083252,-0.100563712418079,-0.186566814780235,0.134586825966835,-0.064387276768684,0.149500414729118,-0.077272176742554,0.042917817831039,0.020998746156693));
res += mul(Get(s2,0,0), float4x4(-0.441339015960693,-0.181167423725128,-0.141706183552742,-0.198390275239944,0.219408735632896,0.199139907956123,0.096919782459736,0.049161069095135,-0.064145162701607,0.578813195228577,-0.382408350706100,0.257451087236404,-0.486128121614456,-0.145876511931419,-0.089782677590847,-1.040876269340515));
res += mul(Get(s2,0,dy), float4x4(-0.291768401861191,-0.340990275144577,-0.738973855972290,-0.228286117315292,-0.219560861587524,-0.296148419380188,0.116516917943954,0.107351288199425,0.128402367234230,-0.171947687864304,0.103599660098553,0.136769667267799,-0.097380176186562,0.635730862617493,0.158835500478745,-0.190102458000183));
res += mul(Get(s2,dx,-dy), float4x4(-0.079740598797798,0.161439895629883,0.293572098016739,-0.077566184103489,-0.040476016700268,0.153118580579758,0.033827751874924,0.283101886510849,-0.145570680499077,0.138609156012535,-0.175574541091919,0.108424872159958,-0.080630183219910,-0.002031473675743,-0.010658186860383,0.127466723322868));
res += mul(Get(s2,dx,0), float4x4(0.176578566431999,-0.043631758540869,-0.191092625260353,-0.148832008242607,0.200086608529091,0.222378224134445,-0.021284060552716,0.287910997867584,0.207040533423424,0.437768042087555,0.145169124007225,0.351354420185089,0.254104226827621,-0.004790810402483,-0.003426410723478,0.394175916910172));
res += mul(Get(s2,dx,dy), float4x4(0.019905930384994,-0.106719866394997,-0.281552582979202,0.005573362577707,0.063511706888676,-0.094222776591778,0.330923259258270,0.126411408185959,0.041934814304113,0.040547769516706,-0.105677478015423,0.083202064037323,0.030303286388516,0.140825390815735,0.420887380838394,0.175121545791626));
res = max(float4(0, 0, 0, 0), res) + float4(0.039713017642498,0.169002160429955,0.162069514393806,0.261144965887070) * min(float4(0, 0, 0, 0), res);
return res;
}
