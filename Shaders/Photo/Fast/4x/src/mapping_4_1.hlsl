sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0673361420631409,0.0746516436338425,0.0080669075250626,-0.0431112125515938);
res += mul(Get(s0,-dx,-dy), float4x4(0.0652354583144188,0.0173379741609097,-0.1228773221373558,0.0278829727321863,-0.0018068666104227,0.0209035705775023,0.0782874673604965,-0.0840641111135483,0.0230727754533291,-0.0260601527988911,-0.0280857011675835,-0.0364145226776600,0.0275844633579254,0.0310456734150648,-0.0312781445682049,0.1341938525438309));
res += mul(Get(s1,-dx,-dy), float4x4(0.0089105824008584,-0.0470832362771034,0.0217315442860126,-0.0092654395848513,-0.0307814609259367,0.0197610426694155,-0.0486797578632832,0.1655563116073608,0.0590707212686539,-0.0493377037346363,0.0106405904516578,-0.1217396110296249,0.1481309086084366,0.1156026199460030,0.0455374419689178,-0.0559539794921875));
res += mul(Get(s2,-dx,-dy), float4x4(0.0446253307163715,-0.0201417468488216,-0.0145192611962557,-0.0642357245087624,-0.0604298301041126,0.0368093140423298,-0.0553968288004398,-0.0464062765240669,-0.0263014566153288,-0.2212177515029907,-0.0443949960172176,-0.2473614513874054,-0.0877448245882988,-0.0146732851862907,0.2360639423131943,-0.1747775077819824));
res += mul(Get(s0,-dx,0), float4x4(-0.0991872921586037,0.1872691959142685,0.2343927323818207,0.0487308241426945,-0.0622535198926926,-0.0064840652048588,-0.1102830246090889,-0.0640496537089348,0.0096803596243262,-0.0011108353501186,-0.1957253068685532,-0.0080025233328342,-0.2596089839935303,-0.0893420875072479,0.1465957313776016,0.1546182781457901));
res += mul(Get(s1,-dx,0), float4x4(0.0330446287989616,-0.1306199431419373,-0.1400623023509979,-0.0612998642027378,0.1457092911005020,0.0712775215506554,-0.0184442419558764,0.0483163520693779,-0.0095123108476400,-0.1207680851221085,-0.1113028302788734,0.0832018479704857,-0.1830178052186966,-0.1718515902757645,-0.7487643957138062,0.2244571149349213));
res += mul(Get(s2,-dx,0), float4x4(-0.0306488182395697,-0.0394453853368759,0.0969892591238022,0.1996255367994308,0.1947441846132278,0.0178592503070831,-0.1984949111938477,0.0265896786004305,-0.1648289412260056,-0.2457724660634995,0.2185821533203125,0.0525661781430244,0.0398628190159798,-0.1277459114789963,-0.1768288910388947,-0.0004634108336177));
res += mul(Get(s0,-dx,dy), float4x4(-0.0325074717402458,0.1745590716600418,0.0549965351819992,-0.0247884485870600,-0.0069768656976521,-0.0481968671083450,-0.0436060503125191,-0.0134967910125852,0.0434134230017662,0.0424214713275433,0.0552867241203785,0.0773151144385338,-0.0199039895087481,-0.0100088138133287,-0.2059011012315750,-0.1041068881750107));
res += mul(Get(s1,-dx,dy), float4x4(0.0094162775203586,-0.0953475609421730,-0.0225963685661554,0.0601183958351612,0.0506831817328930,0.0245172381401062,0.0451390780508518,0.0556611157953739,0.0177408680319786,-0.0032296935096383,0.0870894417166710,0.0257378108799458,-0.0382938273251057,-0.0101946471258998,-0.1161042302846909,-0.0630176961421967));
res += mul(Get(s2,-dx,dy), float4x4(-0.0178601518273354,0.0437967963516712,0.1022080928087234,0.0182891432195902,0.0230191592127085,-0.0719747319817543,0.0208472087979317,-0.0281975697726011,-0.0035304639022797,0.0202601440250874,0.1190201789140701,0.1090247109532356,0.0415752902626991,-0.0504802167415619,-0.0348801314830780,0.0358528345823288));
res += mul(Get(s0,0,-dy), float4x4(-0.1404341012239456,-0.1801093071699142,-0.0326511934399605,-0.3806248903274536,-0.0772718265652657,0.0722319409251213,0.0739260762929916,0.1498954743146896,0.1241347342729568,-0.0464953817427158,-0.1267299354076385,-0.1138284057378769,0.1091447249054909,0.1514377743005753,-0.0342532396316528,0.1372054219245911));
res += mul(Get(s1,0,-dy), float4x4(0.1383021771907806,-0.0000987605453702,0.1852736920118332,-0.1581153869628906,-0.1214009225368500,-0.0866605862975121,-0.0675456300377846,0.1859339773654938,0.0313567630946636,0.1123218089342117,-0.2419513314962387,0.1606348603963852,0.0030838099773973,0.0371942035853863,-0.1981955170631409,0.0281981490552425));
res += mul(Get(s2,0,-dy), float4x4(0.0720540061593056,-0.0099345333874226,-0.1494686305522919,-0.1298772543668747,-0.1941828429698944,-0.1569477766752243,-0.2417947351932526,-0.0191975682973862,-0.3307106196880341,-0.1657576560974121,0.7197985053062439,-0.3339080214500427,0.1049082577228546,0.1936093568801880,0.1758166104555130,0.1718287318944931));
res += mul(Get(s0,0,0), float4x4(-0.0107068577781320,-0.2052214443683624,-0.0095638213679194,0.0131423939019442,-0.0109781557694077,0.0212466754019260,0.2543612718582153,0.4191618859767914,-0.0513200424611568,-0.1602319478988647,-0.1071757525205612,0.0570505522191525,0.0748118087649345,0.2317775189876556,0.2234053164720535,0.6280380487442017));
res += mul(Get(s1,0,0), float4x4(0.0276938695460558,0.2527639865875244,0.3285048604011536,0.0222678296267986,0.3075920641422272,-0.0118872532621026,-0.2918284535408020,0.0076249311678112,0.1449830830097198,-0.1495176404714584,-0.0030840835534036,-0.1117724403738976,0.2594746351242065,0.4368097186088562,0.0650546103715897,0.2030714005231857));
res += mul(Get(s2,0,0), float4x4(0.3338146805763245,-0.2768001854419708,-0.1367824673652649,-0.1591521799564362,0.0060075609944761,0.2205174565315247,-0.1530573219060898,-0.3540469408035278,0.0009777094237506,0.4953221082687378,0.6911279559135437,0.1553916335105896,-0.0316783487796783,0.1547816991806030,0.5434996485710144,-0.3297041058540344));
res += mul(Get(s0,0,dy), float4x4(-0.0978235080838203,0.0140464901924133,-0.1162620857357979,-0.3239850103855133,0.0668044760823250,0.0274293478578329,-0.0330453217029572,-0.0315942578017712,0.0603226236999035,0.0832385420799255,-0.1066981181502342,-0.2225812077522278,-0.1635171622037888,-0.0054183406755328,-0.1505269855260849,-0.3935302793979645));
res += mul(Get(s1,0,dy), float4x4(0.1732532232999802,0.1130717396736145,0.1067543327808380,-0.0477581471204758,0.1331027150154114,0.0850823000073433,0.0541795454919338,0.2371753454208374,-0.0297498404979706,0.0627705901861191,0.0414410382509232,-0.1174817308783531,0.0680475011467934,0.0688610449433327,-0.0324649363756180,-0.0595303587615490));
res += mul(Get(s2,0,dy), float4x4(-0.1956947445869446,0.0694160237908363,-0.1611319929361343,-0.3575635850429535,0.0401435568928719,0.0356575176119804,0.0933265239000320,0.0962871834635735,-0.1037674099206924,-0.0174336656928062,-0.0012089617084712,-0.0017249843804166,-0.0464421771466732,-0.1432298868894577,-0.0883811488747597,-0.0128372721374035));
res += mul(Get(s0,dx,-dy), float4x4(0.0075839171186090,-0.0439621582627296,0.1815162003040314,-0.0899897366762161,0.0796478390693665,0.0282704103738070,-0.0278514679521322,0.1986778080463409,-0.0370853915810585,-0.0296433083713055,-0.0195396505296230,-0.0766052976250648,0.0388800799846649,0.0475095063447952,-0.0988087356090546,0.0580284744501114));
res += mul(Get(s1,dx,-dy), float4x4(-0.0008493608911522,0.0260338112711906,-0.1527697294950485,-0.0974716916680336,0.0303721912205219,-0.0241197347640991,0.0313146002590656,0.0674970522522926,-0.0187359414994717,0.0114333722740412,0.1758419275283813,0.1068990975618362,-0.0941226929426193,-0.0200584903359413,0.0874461233615875,-0.0707533061504364));
res += mul(Get(s2,dx,-dy), float4x4(-0.0096328454092145,-0.0348764732480049,0.0907784104347229,0.0572122409939766,0.0148992938920856,-0.1586238145828247,0.2609682977199554,0.0709551274776459,0.1713405102491379,-0.0782593414187431,-0.4672617316246033,0.0670691281557083,0.0083062369376421,0.0323087759315968,-0.0824800506234169,0.1328813880681992));
res += mul(Get(s0,dx,0), float4x4(0.2581920027732849,-0.0707374513149261,-0.1706068962812424,0.2493361830711365,-0.0786249935626984,0.1233620792627335,-0.0605827942490578,0.0332635566592216,0.0248864684253931,-0.0370938032865524,0.0986131876707077,-0.0679972693324089,0.0677956119179726,0.0103581957519054,0.1004280894994736,0.0331290401518345));
res += mul(Get(s1,dx,0), float4x4(-0.0814099237322807,0.0229483619332314,0.0177922826260328,0.0148160140961409,-0.1348036825656891,-0.0786734148859978,0.0736559033393860,-0.0802445784211159,-0.1920159310102463,-0.0687136650085449,-0.1273178607225418,-0.2396504729986191,-0.2225904762744904,0.0499934367835522,0.1169684007763863,-0.2583456337451935));
res += mul(Get(s2,dx,0), float4x4(0.0106166945770383,-0.1307966113090515,0.2062279880046844,-0.2984802722930908,0.0929804667830467,-0.0951736494898796,0.1076982095837593,-0.1112406402826309,0.1220982819795609,0.0513744987547398,-0.1046853959560394,0.0165248494595289,0.2367285192012787,0.2672806680202484,-0.3269539177417755,0.5651727318763733));
res += mul(Get(s0,dx,dy), float4x4(0.0354740768671036,0.0498841218650341,0.0087409811094403,-0.0053000031039119,-0.0213117152452469,-0.0309873353689909,-0.1045185625553131,-0.0293407309800386,0.0661711096763611,0.0246047824621201,-0.0072405771352351,0.1310176551342010,-0.0316606685519218,0.0318262502551079,0.0836886838078499,-0.1179356426000595));
res += mul(Get(s1,dx,dy), float4x4(-0.0445486642420292,-0.0723282620310783,-0.2256195396184921,-0.0169855803251266,0.0498299822211266,-0.0047312593087554,0.0404302068054676,0.0815635398030281,0.0040961853228509,-0.0076476470567286,-0.0473538711667061,0.0526284240186214,-0.0272668339312077,0.0450065992772579,0.0959915518760681,0.0630070641636848));
res += mul(Get(s2,dx,dy), float4x4(0.1303307116031647,0.0653883889317513,0.0587371513247490,-0.0011536880629137,0.0627020001411438,0.0399446599185467,0.0804144218564034,0.0039081680588424,-0.0054377424530685,0.0011293994029984,-0.0345551259815693,-0.1003591269254684,0.0146066350862384,-0.0727174207568169,-0.0877205133438110,-0.1002521067857742));
res = max(float4(0, 0, 0, 0), res) + float4(1.2742478847503662,1.7877718210220337,0.4915316402912140,0.2966506481170654) * min(float4(0, 0, 0, 0), res);
return res;
}
