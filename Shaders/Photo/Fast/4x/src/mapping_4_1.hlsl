sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.001063551288098,-0.204284518957138,-0.183830991387367,-0.352517604827881);
res += mul(Get(s0,-dx,-dy), float4x4(0.017108375206590,-0.173584789037704,-0.116419181227684,-0.056901045143604,-0.000817023566924,-0.231059312820435,-0.158049091696739,0.101301617920399,-0.060959991067648,-0.067267119884491,0.010329516604543,0.075357556343079,-0.012783928774297,0.016294054687023,0.018521590158343,0.162300765514374));
res += mul(Get(s0,-dx,0), float4x4(0.007265480700880,-0.147562757134438,-0.045945499092340,-0.071262754499912,0.000903589127120,0.107929490506649,0.008603880181909,0.302787899971008,-0.002421062206849,0.143366068601608,0.207432076334953,-0.010740351863205,-0.222473263740540,-0.063833676278591,-0.126344919204712,0.500773012638092));
res += mul(Get(s0,-dx,dy), float4x4(-0.030843211337924,-0.178807631134987,-0.172968566417694,0.012967404909432,0.026986066251993,-0.017206037417054,-0.135625347495079,0.039634946733713,0.016619050875306,0.048940308392048,-0.027942681685090,-0.056613437831402,-0.092888116836548,0.014445813372731,0.081399999558926,0.159770295023918));
res += mul(Get(s0,0,-dy), float4x4(-0.006168167572469,-0.072339229285717,-0.220074012875557,-0.133761644363403,-0.037570685148239,-0.268627643585205,0.035889793187380,-0.049430195242167,-0.247008398175240,0.432325094938278,-0.291312485933304,-0.070064932107925,0.077713169157505,0.031425088644028,-0.127173766493797,-0.106748938560486));
res += mul(Get(s0,0,0), float4x4(-0.024861067533493,-0.095523044466972,0.088369950652122,0.120072178542614,0.002946816617623,0.473877608776093,0.203182771801949,-0.177658885717392,0.206738233566284,-0.510825574398041,0.056056510657072,-0.093248814344406,0.212834537029266,-0.097489677369595,0.361831814050674,-0.187149316072464));
res += mul(Get(s0,0,dy), float4x4(-0.010121482424438,0.040411885827780,-0.082140274345875,0.043630030006170,0.095072627067566,-0.160067468881607,-0.170974627137184,-0.085931725800037,-0.007625537458807,0.148959130048752,0.220505774021149,-0.059149660170078,0.019902685657144,0.073830753564835,-0.233282700181007,-0.037821669131517));
res += mul(Get(s0,dx,-dy), float4x4(0.030663307756186,-0.150492548942566,-0.130295008420944,-0.022908324375749,-0.032952994108200,-0.008044466376305,-0.088560178875923,-0.005139125511050,-0.044550109654665,0.252033352851868,0.141307801008224,-0.027779722586274,0.027433199808002,0.048119999468327,0.046688396483660,-0.040065713226795));
res += mul(Get(s0,dx,0), float4x4(0.003339262213558,-0.126344278454781,-0.095846019685268,0.008077388629317,0.009171201847494,0.096023112535477,0.040096405893564,0.003124278271571,0.017412312328815,-0.134296506643295,-0.041392695158720,-0.028056040406227,-0.077402561903000,0.048139665275812,-0.053693417459726,-0.066758506000042));
res += mul(Get(s0,dx,dy), float4x4(0.031434077769518,-0.128464356064796,-0.080632992088795,-0.000444139674073,0.037802714854479,-0.246731787919998,-0.181931793689728,0.002763803349808,-0.004415953066200,-0.109667703509331,0.073007635772228,-0.015133243985474,-0.012695397250354,-0.012195543386042,0.062521919608116,-0.023141616955400));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009034433402121,-0.026202656328678,-0.023006234318018,-0.002988763852045,0.012206439860165,0.071756653487682,-0.051844108849764,-0.118960313498974,-0.023917837068439,-0.047637071460485,-0.078614972531796,-0.002517874352634,-0.036637868732214,-0.048718091100454,0.037725064903498,-0.267248511314392));
res += mul(Get(s1,-dx,0), float4x4(0.008144140243530,0.046487201005220,-0.095338195562363,0.117241576313972,0.055068239569664,-0.136366054415703,0.079152591526508,-0.687411665916443,-0.045159310102463,0.155487045645714,0.139124080538750,-0.042276844382286,-0.037860203534365,-0.136806651949883,-0.087375789880753,-0.225791767239571));
res += mul(Get(s1,-dx,dy), float4x4(-0.034340430051088,0.153125450015068,0.185702547430992,0.027261266484857,0.023943280801177,0.061027258634567,-0.053099509328604,-0.040369153022766,-0.006180915981531,0.036687005311251,-0.006103043910116,-0.027621403336525,-0.079942263662815,0.207326158881187,0.073212981224060,0.061529725790024));
res += mul(Get(s1,0,-dy), float4x4(-0.050115663558245,-0.165181279182434,0.150130540132523,-0.062488138675690,-0.046166159212589,-0.178802400827408,-0.006124068517238,0.083902947604656,-0.203804343938828,-0.169556587934494,0.080710582435131,-0.099465228617191,0.027741331607103,-0.040649335831404,0.156615287065506,-0.166961714625359));
res += mul(Get(s1,0,0), float4x4(0.233219265937805,0.392732530832291,-0.112478718161583,-0.053149733692408,0.087498366832733,0.223533183336258,-0.088248670101166,0.252130806446075,0.183269947767258,0.453890532255173,0.153356477618217,-0.222326099872589,-0.117544151842594,-0.335582822561264,-0.195260822772980,-0.195243433117867));
res += mul(Get(s1,0,dy), float4x4(-0.214338615536690,0.406869739294052,0.559208512306213,-0.007058545481414,-0.000942402170040,0.012428555637598,0.177545204758644,-0.016253739595413,0.000784536125138,-0.000798293040134,-0.109627828001976,-0.038847461342812,0.150863885879517,0.406544715166092,0.282256156206131,-0.052713658660650));
res += mul(Get(s1,dx,-dy), float4x4(0.010988919995725,-0.060147080570459,-0.038816187530756,-0.014225578866899,-0.022795882076025,-0.075929842889309,-0.061632111668587,-0.084640696644783,0.006668175570667,-0.063044413924217,-0.002256975974888,-0.019408734515309,0.019763914868236,-0.002823740709573,0.069619290530682,0.035287886857986));
res += mul(Get(s1,dx,0), float4x4(0.000796048436314,0.258174389600754,-0.010279000736773,-0.056021146476269,-0.135097891092300,-0.102620117366314,0.090866275131702,0.036554668098688,0.062398128211498,0.069367565214634,0.110070131719112,-0.080540195107460,0.111724324524403,0.132355749607086,-0.140926107764244,-0.076941348612309));
res += mul(Get(s1,dx,dy), float4x4(-0.049569796770811,0.148122668266296,0.251461833715439,-0.039390288293362,-0.022554520517588,-0.000761701259762,-0.036743026226759,-0.030263254418969,0.058226116001606,0.024853006005287,-0.027872214093804,0.001091987127438,0.018723718822002,-0.064275361597538,0.265588402748108,-0.023572852835059));
res += mul(Get(s2,-dx,-dy), float4x4(-0.028851103037596,-0.107732675969601,-0.115119002759457,0.093065008521080,0.016385532915592,-0.013083724305034,0.079594433307648,-0.261457413434982,0.034067291766405,0.027300359681249,0.063548207283020,0.020270410925150,0.005643968936056,-0.055140174925327,0.052631102502346,-0.091940045356750));
res += mul(Get(s2,-dx,0), float4x4(-0.018870294094086,0.046625591814518,-0.029049539938569,0.019790796563029,-0.031188169494271,0.062680095434189,-0.059381585568190,0.047495923936367,0.002167862141505,-0.000254951562965,-0.006511911749840,-0.193079695105553,-0.076317273080349,0.242843106389046,0.022116634994745,0.081966698169708));
res += mul(Get(s2,-dx,dy), float4x4(0.019240533933043,-0.028585620224476,0.013996944762766,-0.197609186172485,0.007960382848978,-0.085299544036388,0.007247671484947,0.068024344742298,-0.002215473679826,-0.127501964569092,-0.008710680529475,-0.126920595765114,-0.014109126292169,-0.163790389895439,-0.026166202500463,0.019887292757630));
res += mul(Get(s2,0,-dy), float4x4(0.009960415773094,0.065319336950779,0.088456235826015,-0.210530623793602,-0.024231836199760,0.272127628326416,-0.197200939059258,0.000554442231078,0.078382886946201,-0.012356298044324,0.327150166034698,-0.046255677938461,-0.053898368030787,0.096685975790024,0.152617245912552,0.201411768794060));
res += mul(Get(s2,0,0), float4x4(0.021164484322071,0.030332162976265,0.019339138641953,-0.091370895504951,0.066428512334824,-0.202362135052681,-0.164465159177780,-0.117677167057991,-0.085801959037781,0.440649747848511,-1.003569841384888,0.062214910984039,0.074304655194283,0.079148046672344,0.039309706538916,0.566178619861603));
res += mul(Get(s2,0,dy), float4x4(-0.002355000469834,-0.071793287992477,0.058622486889362,0.041147723793983,0.021071564406157,-0.308064639568329,0.035217750817537,-0.055312991142273,-0.001296278205700,-0.164813339710236,-0.100796483457088,0.011542170308530,0.000180373579497,-0.011720992624760,-0.135207861661911,0.024503486230969));
res += mul(Get(s2,dx,-dy), float4x4(0.031149474903941,-0.065730370581150,0.013871058821678,0.054772067815065,-0.014239284209907,0.000721566262655,0.075664684176445,0.044004473835230,0.022126924246550,0.017785601317883,0.141192868351936,-0.035128567367792,-0.023506768047810,0.070606335997581,-0.052713457494974,0.084817767143250));
res += mul(Get(s2,dx,0), float4x4(-0.005485665518790,0.026744559407234,-0.048879548907280,0.111134938895702,0.020760111510754,-0.092082768678665,-0.042751323431730,0.066265836358070,0.014653045684099,-0.191799864172935,-0.287059187889099,0.038765374571085,-0.002153701614588,0.023693062365055,0.128983229398727,0.158170521259308));
res += mul(Get(s2,dx,dy), float4x4(-0.027414033189416,0.002755100373179,0.107373923063278,0.029923452064395,0.054517764598131,-0.011829630471766,-0.065043114125729,-0.014921505935490,-0.014617391861975,-0.014412612654269,-0.145859777927399,-0.001343789161183,0.006714074872434,0.015757059678435,-0.024067517369986,0.084915667772293));
res = max(float4(0, 0, 0, 0), res) + float4(1.008100032806396,0.056351259350777,0.014320693910122,-0.006850216537714) * min(float4(0, 0, 0, 0), res);
return res;
}
