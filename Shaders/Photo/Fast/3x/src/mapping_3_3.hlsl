sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0601607151329517,-0.0027248370461166,0.0411958359181881,-0.0601195618510246);
res += mul(Get(s0,-dx,-dy), float4x4(0.0150000620633364,0.0556641295552254,0.0514401979744434,-0.0690419003367424,0.0500934533774853,0.0223502293229103,0.0400689542293549,-0.0286841895431280,-0.0592729002237320,0.0623655803501606,0.0682853013277054,-0.0009551252005622,0.0825011283159256,-0.0026944018900394,-0.0198898166418076,-0.0265239197760820));
res += mul(Get(s1,-dx,-dy), float4x4(0.0962713137269020,-0.0302341375499964,0.0743410438299179,0.0450676865875721,0.3902407884597778,0.1017012223601341,0.1136555671691895,0.0378890857100487,0.1775295734405518,0.0226370971649885,0.0834233611822128,-0.1159214749932289,0.1332569569349289,0.0278491172939539,0.0070291617885232,-0.1333059668540955));
res += mul(Get(s2,-dx,-dy), float4x4(0.1814721226692200,0.0778457447886467,-0.0550499334931374,-0.0734407156705856,-0.1482061743736267,-0.2192804962396622,-0.1393475532531738,0.1052561253309250,0.0915597304701805,0.1341962963342667,0.0178796965628862,-0.1056833416223526,-0.0604196451604366,0.0564720183610916,-0.1277166754007339,-0.0872711762785912));
res += mul(Get(s0,-dx,0), float4x4(-0.2160916626453400,-0.0496902465820312,-0.0238073505461216,0.1474115550518036,0.1250700354576111,-0.0987359136343002,-0.0547783710062504,0.1193581148982048,-0.4314690530300140,-0.1083643063902855,-0.3145011961460114,-0.9283393621444702,0.0909882038831711,-0.0201174803078175,0.0170140396803617,-0.1114213541150093));
res += mul(Get(s1,-dx,0), float4x4(0.2225386947393417,0.0152112497016788,0.1471671760082245,-0.0239847470074892,0.0468071736395359,-0.0317079648375511,0.1936897784471512,0.2313433736562729,-0.0115083791315556,-0.0033201042097062,0.0878103375434875,0.0034559194464236,0.0362954512238503,-0.0018750729504973,0.1316228955984116,-0.0293421801179647));
res += mul(Get(s2,-dx,0), float4x4(0.3634383976459503,0.1321086734533310,0.2689629495143890,-0.2418944090604782,-0.4563770592212677,-0.3025283217430115,-0.2791604399681091,0.0656712725758553,-0.0390235595405102,-0.1022243648767471,0.2944631874561310,0.0240024738013744,0.2503906190395355,0.2314385324716568,0.1832065284252167,-0.3016614615917206));
res += mul(Get(s0,-dx,dy), float4x4(-0.1521662920713425,0.0752314180135727,-0.0475100763142109,-0.0234325453639030,-0.0196112859994173,0.1405418813228607,-0.0047208126634359,0.0566937439143658,-0.1251289993524551,-0.0206017252057791,-0.0109606543555856,-0.1355132609605789,-0.0895104035735130,-0.0076167541556060,-0.0430654920637608,-0.0954911336302757));
res += mul(Get(s1,-dx,dy), float4x4(0.1266682296991348,0.0291394628584385,0.0123961800709367,0.0358199179172516,-0.0509004779160023,-0.0323926955461502,-0.0187945701181889,0.0868228524923325,-0.0481053143739700,0.0044309776276350,-0.0108741531148553,-0.0438105985522270,-0.0318123027682304,-0.1428289115428925,-0.0669019669294357,0.0602336674928665));
res += mul(Get(s2,-dx,dy), float4x4(0.0448378510773182,-0.0418016016483307,-0.1972102075815201,0.1749808788299561,-0.1067181006073952,-0.1213477998971939,0.0393816418945789,-0.0947479233145714,0.1400096714496613,0.0469183884561062,-0.0031436844728887,0.0205613300204277,0.0598154477775097,0.1605282872915268,0.0900044590234756,-0.1330292075872421));
res += mul(Get(s0,0,-dy), float4x4(-0.0201372411102057,-0.0076569975353777,-0.1063359752297401,-0.0341148413717747,0.0050906534306705,-0.0681173279881477,-0.0745927542448044,-0.0383247695863247,0.1390204578638077,-0.0740974843502045,-0.0581313185393810,-0.0514430254697800,-0.0385615415871143,-0.0208992529660463,-0.1515880376100540,-0.1416104435920715));
res += mul(Get(s1,0,-dy), float4x4(0.0498041994869709,0.0729600042104721,0.1535885781049728,-0.0084261307492852,-0.3257732391357422,0.0160085130482912,0.1453527659177780,-0.0517454519867897,-0.1053040623664856,0.0690530315041542,0.0908851101994514,-0.0307670347392559,-0.0797934308648109,0.0518022514879704,-0.0384441614151001,0.0440663769841194));
res += mul(Get(s2,0,-dy), float4x4(-0.0470544919371605,-0.0402665473520756,0.0976496934890747,-0.1230119988322258,-0.0471459850668907,-0.0898354724049568,-0.1187629774212837,0.0074514639563859,0.0527598746120930,0.1311780512332916,-0.1370891928672791,0.1186367124319077,-0.1714385747909546,0.0266416259109974,0.1710790395736694,0.0204442758113146));
res += mul(Get(s0,0,0), float4x4(0.1972928643226624,0.0189518388360739,0.0563238374888897,-0.1367654949426651,0.3809798359870911,0.1696245670318604,0.2928067445755005,-0.0682383701205254,0.5488293766975403,-0.0867830887436867,0.1440706402063370,0.1125514730811119,-0.6008478403091431,-0.0130904726684093,0.1575608849525452,-0.3016038537025452));
res += mul(Get(s1,0,0), float4x4(-0.1963116675615311,0.0516656562685966,-0.0714418143033981,0.0182404462248087,-0.3702792227268219,0.0995369106531143,-0.0102809686213732,-0.1966583877801895,0.1481182575225830,-0.0805999264121056,-0.1645212620496750,0.0050049927085638,0.1969008296728134,0.2151248455047607,0.0081304265186191,0.0125335892662406));
res += mul(Get(s2,0,0), float4x4(-0.4614447951316833,-0.1138953268527985,-0.2614997029304504,0.1367522627115250,0.1431879252195358,-0.0794322341680527,0.0360841304063797,-0.3289674222469330,0.1077528670430183,-0.2241863608360291,-0.0758667066693306,0.5221174359321594,-0.3580422699451447,0.2221533209085464,-0.0954802930355072,0.1832178980112076));
res += mul(Get(s0,0,dy), float4x4(-0.0021431192290038,0.2278825789690018,0.0085278628394008,-0.0630085989832878,-0.0169261079281569,0.0367552749812603,0.0276002679020166,-0.0347467586398125,0.0624755360186100,0.2078921347856522,0.1868396997451782,0.2040211856365204,0.0395715311169624,-0.1267744898796082,-0.1027984172105789,-0.3177570402622223));
res += mul(Get(s1,0,dy), float4x4(-0.1515494287014008,-0.1115586459636688,-0.3697068095207214,0.0964722484350204,0.1104351654648781,0.1415679603815079,-0.0524632781744003,-0.0141432546079159,0.0533448308706284,-0.0034062482882291,-0.0743911489844322,0.0702471435070038,0.0361637882888317,0.0713696703314781,-0.1959514021873474,0.0702158138155937));
res += mul(Get(s2,0,dy), float4x4(0.0305277034640312,0.0615978799760342,-0.2021148949861526,0.0128523176535964,-0.0515911504626274,-0.0103016244247556,0.0544862300157547,-0.1850845664739609,-0.0930640622973442,0.2901881337165833,0.0138818593695760,-0.0592384152114391,-0.1506643146276474,0.2674447596073151,0.1257677525281906,-0.0625952407717705));
res += mul(Get(s0,dx,-dy), float4x4(0.0379024855792522,-0.0078434823080897,-0.0349395573139191,0.0197288561612368,-0.0172798484563828,0.0164992865175009,0.0898473858833313,0.0848836898803711,-0.0973597541451454,0.0870529264211655,-0.0146284429356456,0.0689105167984962,0.0472714155912399,-0.1016825959086418,-0.0639122053980827,-0.0054403617978096));
res += mul(Get(s1,dx,-dy), float4x4(-0.0007719330023974,0.0044848383404315,0.1257600933313370,0.0699286982417107,0.1519588232040405,-0.1386407762765884,0.0958535820245743,-0.2014263719320297,0.1154582649469376,-0.0906539410352707,0.0383430644869804,-0.0567840859293938,0.0399279259145260,0.1590221077203751,-0.0202189814299345,-0.0665858089923859));
res += mul(Get(s2,dx,-dy), float4x4(0.0419778823852539,0.0189492125064135,0.0373879559338093,-0.0170060917735100,0.0315794721245766,-0.0947799980640411,-0.0636296868324280,-0.0829361975193024,-0.0737404897809029,0.0013952327426523,0.0250553842633963,0.0276822131127119,-0.0686692818999290,0.2853758335113525,-0.0391248315572739,-0.0949483513832092));
res += mul(Get(s0,dx,0), float4x4(-0.0813146159052849,0.2021349817514420,0.0166027080267668,0.0285110007971525,-0.1415376961231232,0.0676529407501221,0.0600190944969654,0.1454524099826813,-0.2941998243331909,0.0538795329630375,0.1914114803075790,0.0448864065110683,0.1639356315135956,-0.1872046887874603,-0.2347546070814133,-0.0141719486564398));
res += mul(Get(s1,dx,0), float4x4(-0.0493808947503567,0.1141358017921448,0.0447023250162601,-0.2049813419580460,0.1414754688739777,0.1762109696865082,0.1008001491427422,0.2141752839088440,0.0708125159144402,0.0502148345112801,-0.0300455652177334,-0.0063726315274835,0.0310889743268490,-0.0834817886352539,-0.0785554051399231,-0.1956325620412827));
res += mul(Get(s2,dx,0), float4x4(0.1449991762638092,-0.1932960897684097,-0.2684242427349091,0.1190437003970146,0.0687233805656433,-0.3430264592170715,0.0280676316469908,-0.0414928384125233,-0.1690287142992020,0.1337855160236359,0.1018392965197563,-0.0377023629844189,0.1559326797723770,0.0883477181196213,0.0173462536185980,-0.0454863905906677));
res += mul(Get(s0,dx,dy), float4x4(0.0164168961346149,0.0846802741289139,0.0089840628206730,-0.1665649414062500,-0.0435570888221264,-0.1182197481393814,-0.0263473074883223,-0.0926633551716805,-0.0761710405349731,-0.1221132352948189,0.0384958237409592,-0.0906552672386169,0.0553599931299686,0.1104441210627556,-0.1289644539356232,0.0821172520518303));
res += mul(Get(s1,dx,dy), float4x4(-0.0310667008161545,0.1334359049797058,0.0016308075282723,-0.0319938063621521,-0.0780585408210754,0.0084571298211813,-0.0551145859062672,0.0455908514559269,-0.0205357242375612,0.0960797816514969,-0.0241509303450584,0.1108667254447937,0.0469755679368973,0.2658684849739075,-0.0227825734764338,0.1367996037006378));
res += mul(Get(s2,dx,dy), float4x4(-0.1610143184661865,0.1863130182027817,-0.0971962139010429,-0.0313382707536221,0.1637399494647980,-0.0978011339902878,0.0109993992373347,0.0198396705091000,0.0462760776281357,-0.0471211113035679,0.0930592343211174,-0.1587795764207840,0.0468219332396984,0.0164690110832453,0.0320485085248947,-0.0207408964633942));
res = max(float4(0, 0, 0, 0), res) + float4(0.2650871574878693,-0.9461249113082886,1.8127596378326416,-0.0289582107216120) * min(float4(0, 0, 0, 0), res);
return res;
}
