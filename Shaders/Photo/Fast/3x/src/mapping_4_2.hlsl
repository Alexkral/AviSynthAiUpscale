sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.245621606707573,-0.454717606306076,-0.295187085866928,-0.305462300777435);
res += mul(Get(s0,-dx,-dy), float4x4(-0.118719749152660,-0.002327098976821,-0.128341048955917,-0.012664986774325,-0.049375113099813,0.012569840066135,-0.037915259599686,-0.120818279683590,0.065038315951824,-0.024192476645112,-0.071166522800922,-0.071538001298904,-0.123181767761707,0.089389964938164,0.091573491692543,-0.088811688125134));
res += mul(Get(s0,-dx,0), float4x4(0.122408732771873,-0.170645833015442,0.119038626551628,-0.200975656509399,0.144847497344017,0.064088203012943,0.249891802668571,0.342956811189651,-0.055116843432188,0.126407995820045,-0.173537984490395,-0.086310163140297,-0.111381053924561,0.234396487474442,0.006094965152442,0.144785746932030));
res += mul(Get(s0,-dx,dy), float4x4(0.055088173598051,0.103306591510773,0.056640025228262,0.069657854735851,0.082491002976894,0.000456631125417,-0.008049573749304,-0.093322113156319,-0.222041592001915,0.061863701790571,-0.056881103664637,-0.142674013972282,-0.054573792964220,-0.042151600122452,-0.049329921603203,-0.128144353628159));
res += mul(Get(s0,0,-dy), float4x4(0.030604822561145,0.012356258928776,-0.219876378774643,-0.071044832468033,-0.170446529984474,-0.207493484020233,-0.054433941841125,-0.280936807394028,-0.033971928060055,-0.137004837393761,0.136070877313614,-0.038433909416199,0.011998082511127,0.009048069827259,0.065305940806866,-0.023857647553086));
res += mul(Get(s0,0,0), float4x4(-0.264604419469833,0.032743465155363,0.628456175327301,0.097257643938065,-0.622433006763458,-0.614998459815979,0.078249506652355,-0.375585198402405,-0.049800544977188,0.218813598155975,-0.184270009398460,0.079640448093414,0.420118182897568,0.283940643072128,-0.008088956587017,0.166217371821404));
res += mul(Get(s0,0,dy), float4x4(-0.177001819014549,0.094190977513790,0.313199818134308,-0.281713396310806,0.157906755805016,0.323995858430862,0.149074703454971,0.053444307297468,-0.027710044756532,0.221993893384933,0.102811783552170,-0.080573044717312,-0.381665378808975,-0.415648251771927,0.005208140704781,-0.035224705934525));
res += mul(Get(s0,dx,-dy), float4x4(0.051158547401428,0.002146954648197,-0.049268815666437,0.031825598329306,0.088869236409664,-0.132959529757500,-0.007175734266639,0.034600790590048,-0.165914952754974,0.202996671199799,0.133798554539680,-0.110333718359470,-0.039128351956606,-0.137867808341980,0.034745678305626,-0.022830383852124));
res += mul(Get(s0,dx,0), float4x4(0.015882214531302,0.056456770747900,0.157080486416817,0.003559379372746,0.120221234858036,0.121817030012608,-0.049230821430683,0.099017225205898,0.139703005552292,0.014502311125398,-0.325403273105621,-0.148130044341087,-0.144691303372383,-0.104704461991787,0.038895718753338,-0.152851730585098));
res += mul(Get(s0,dx,dy), float4x4(0.018448153510690,0.067759312689304,0.047185041010380,-0.004144282545894,-0.185940578579903,0.108819991350174,0.166817322373390,-0.040483713150024,-0.272628068923950,0.007600578945130,0.057734631001949,-0.081094704568386,0.130883693695068,-0.176567748188972,-0.076457783579826,0.020530091598630));
res += mul(Get(s1,-dx,-dy), float4x4(-0.187702476978302,0.146642461419106,0.095342159271240,0.079136334359646,-0.159847721457481,0.101922824978828,-0.132589653134346,-0.121402673423290,-0.008095030672848,0.019558828324080,0.122447885572910,-0.071787551045418,-0.054333180189133,0.094360992312431,-0.139064416289330,0.079608663916588));
res += mul(Get(s1,-dx,0), float4x4(0.164223238825798,0.042908478528261,-0.024620752781630,0.159062698483467,-0.231464400887489,-0.209349408745766,-0.066586382687092,0.022709894925356,-0.022399667650461,0.095181107521057,0.005225579719990,0.123775348067284,-0.135144829750061,0.194444522261620,0.071705758571625,-0.113792382180691));
res += mul(Get(s1,-dx,dy), float4x4(-0.022888576611876,-0.260333091020584,-0.010151550173759,-0.130467817187309,0.110664732754230,0.027326421812177,0.062076434493065,0.071075968444347,-0.015328925102949,-0.077817566692829,0.056529078632593,-0.119522772729397,-0.071363449096680,0.023728350177407,0.022753251716495,0.049147814512253));
res += mul(Get(s1,0,-dy), float4x4(-0.007677302695811,-0.068313553929329,-0.313519805669785,-0.236538290977478,0.222488209605217,0.108305916190147,-0.421565443277359,-0.434387952089310,0.090327322483063,-0.024004114791751,0.201891362667084,0.113054551184177,-0.080177493393421,0.160275265574455,-0.016005489975214,-0.267599165439606));
res += mul(Get(s1,0,0), float4x4(0.012392655946314,0.697900414466858,-0.130782991647720,-0.074487589299679,0.384765714406967,0.007967332378030,-0.337067037820816,-0.499505072832108,-0.323342025279999,0.223625347018242,-0.069742299616337,-0.285560488700867,0.004715683870018,0.160568937659264,0.166304320096970,0.349954783916473));
res += mul(Get(s1,0,dy), float4x4(0.043498400598764,-0.135480716824532,0.093041971325874,0.061841130256653,-0.138791739940643,-0.059405636042356,0.094599410891533,-0.103242456912994,0.120625950396061,0.023280601948500,0.078780226409435,0.065563373267651,0.047143742442131,-0.182964310050011,-0.055073570460081,0.011930952779949));
res += mul(Get(s1,dx,-dy), float4x4(-0.168453350663185,0.009520797990263,-0.271044194698334,-0.109764993190765,0.082641541957855,-0.031330052763224,-0.101396463811398,0.134533315896988,-0.010418358258903,0.197260275483131,0.140694826841354,-0.153825581073761,0.004902577493340,-0.043561775237322,0.025458959862590,0.025143846869469));
res += mul(Get(s1,dx,0), float4x4(-0.171674445271492,-0.035882964730263,-0.108540758490562,-0.276634722948074,0.050246488302946,-0.089902862906456,-0.284082651138306,0.147360667586327,0.181752488017082,-0.290021598339081,-0.357577234506607,0.084073886275291,0.110703073441982,0.061748102307320,0.048284482210875,0.021784478798509));
res += mul(Get(s1,dx,dy), float4x4(-0.271500021219254,-0.130357921123505,0.099794887006283,-0.175698235630989,0.026717511937022,0.018653361126781,-0.012895764783025,0.113643459975719,-0.087737858295441,0.209499195218086,0.138739645481110,-0.024584885686636,-0.105570726096630,-0.060663718730211,-0.055356651544571,-0.036255832761526));
res += mul(Get(s2,-dx,-dy), float4x4(-0.037355452775955,-0.307290792465210,-0.015271936543286,0.217389330267906,-0.110057003796101,-0.058851487934589,0.038377184420824,-0.084945440292358,0.058773010969162,-0.027828764170408,-0.030257433652878,0.171084463596344,0.097890868782997,-0.076242156326771,-0.192440330982208,-0.187674924731255));
res += mul(Get(s2,-dx,0), float4x4(0.095211371779442,0.206863194704056,-0.071454703807831,0.133783265948296,0.035449169576168,0.160893827676773,-0.021261351183057,0.177255094051361,0.282555848360062,-0.147755891084671,0.019845152273774,0.100613012909889,-0.109066575765610,-0.136637851595879,-0.130935981869698,-0.047042153775692));
res += mul(Get(s2,-dx,dy), float4x4(0.009076641872525,-0.002245186129585,-0.031711492687464,0.204567328095436,-0.035666424781084,-0.077334649860859,0.017212422564626,-0.139262512326241,-0.023075163364410,-0.178999885916710,-0.007856816053391,0.009549139998853,-0.088070839643478,0.061350159347057,-0.114200197160244,-0.061981722712517));
res += mul(Get(s2,0,-dy), float4x4(-0.067451149225235,0.033980052918196,0.026470623910427,0.216741845011711,0.147798418998718,-0.042373966425657,0.049585964530706,0.177947744727135,0.177061095833778,-0.196618288755417,0.207453534007072,0.388530135154724,-0.039932165294886,-0.119311928749084,0.276693880558014,0.288584738969803));
res += mul(Get(s2,0,0), float4x4(0.081110209226608,-0.051466997712851,0.005824699997902,-0.294381469488144,-0.071600340306759,0.120296522974968,-0.199870869517326,-0.507014930248260,0.053358510136604,-0.179646715521812,-0.101332075893879,0.027463464066386,-0.142393976449966,-0.427341431379318,0.056349281221628,0.124743446707726));
res += mul(Get(s2,0,dy), float4x4(0.028446378186345,-0.007987855002284,-0.036524262279272,0.009800112806261,-0.198853537440300,-0.063518606126308,0.169890522956848,-0.088735051453114,0.298395097255707,-0.042677201330662,-0.032257575541735,0.195891872048378,0.120314836502075,0.106438152492046,-0.057070735841990,0.068095654249191));
res += mul(Get(s2,dx,-dy), float4x4(-0.073455922305584,0.069822445511818,-0.074855215847492,-0.203630208969116,-0.026005471125245,0.024760285392404,-0.116618931293488,-0.248793333768845,0.050100069493055,0.074501119554043,-0.120138995349407,-0.126788452267647,0.006635690573603,-0.007532379124314,0.207413449883461,-0.064296267926693));
res += mul(Get(s2,dx,0), float4x4(-0.091543577611446,-0.158800721168518,-0.004023462068290,0.077514700591564,-0.154058352112770,-0.110945157706738,-0.126264631748199,0.068675458431244,0.006049270741642,-0.269271582365036,-0.187751486897469,0.032327003777027,0.054308123886585,0.069850966334343,0.065876685082912,-0.017896672710776));
res += mul(Get(s2,dx,dy), float4x4(0.128384590148926,0.089738421142101,0.054800216108561,0.040679831057787,0.085864692926407,0.078148931264877,0.227838188409805,-0.015418293885887,0.097114548087120,0.040258560329676,0.038953144103289,0.103215016424656,0.019315835088491,-0.024987936019897,-0.018462106585503,0.067408762872219));
res = max(float4(0, 0, 0, 0), res) + float4(0.078215070068836,0.057502217590809,-0.028164681047201,0.031114334240556) * min(float4(0, 0, 0, 0), res);
return res;
}
