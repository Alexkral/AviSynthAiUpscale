sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0426597371697426,0.0315253846347332,0.0418373346328735,-0.0197539199143648);
res += mul(Get(s0,-dx,-dy), float4x4(-0.1986266076564789,0.0438781306147575,-0.0219082832336426,0.0347859710454941,0.0938094705343246,0.0511169470846653,0.0563721843063831,-0.0463322699069977,-0.0135106351226568,0.0728506967425346,0.0850993767380714,0.0761299505829811,-0.0485554449260235,-0.1114689558744431,-0.0454339981079102,0.0418677814304829));
res += mul(Get(s1,-dx,-dy), float4x4(-0.1779307276010513,-0.0374208055436611,-0.2350558787584305,0.0169313121587038,-0.0473848469555378,0.0248683989048004,0.0139541747048497,0.0056988317519426,0.0898652300238609,0.0856394171714783,0.0982394814491272,0.1712212711572647,0.0052233953028917,0.1947218775749207,0.3625955879688263,-0.0219343155622482));
res += mul(Get(s2,-dx,-dy), float4x4(0.0775668919086456,-0.1628558784723282,-0.0502797588706017,-0.0633643269538879,0.1088222563266754,-0.0460763126611710,0.0958340391516685,-0.0079809296876192,0.0120674893260002,-0.0463904477655888,-0.0268885120749474,-0.0753404647111893,-0.0776444077491760,0.0413283631205559,-0.0691119432449341,-0.0473172739148140));
res += mul(Get(s0,-dx,0), float4x4(-0.3040989935398102,0.4215183258056641,0.2168062627315521,0.2155898362398148,0.1563408076763153,0.0628031492233276,0.1688630580902100,0.0589757338166237,-0.0204936023801565,-0.0708902776241302,0.0026918686926365,0.0750966966152191,0.0823034942150116,0.0027820179238915,0.0123496968299150,-0.0535902790725231));
res += mul(Get(s1,-dx,0), float4x4(-0.1687211543321609,0.3366161882877350,-0.6464585065841675,0.0403260141611099,0.0433462224900723,-0.1155701801180840,-0.0290309507399797,-0.0856273993849754,0.1789091974496841,0.1545712649822235,0.1776331961154938,-0.0157401040196419,0.1089944913983345,-0.4152944087982178,0.0089786313474178,-0.0070322854444385));
res += mul(Get(s2,-dx,0), float4x4(-0.2648721337318420,-0.0698211938142776,0.1534547954797745,-0.1003002449870110,0.0921956375241280,-0.0085737258195877,0.0452481023967266,0.0416278578341007,0.0297016110271215,-0.0471184588968754,0.0514984503388405,0.0458476655185223,-0.4169534444808960,0.1706828624010086,-0.2109238207340240,0.2107534557580948));
res += mul(Get(s0,-dx,dy), float4x4(-0.1898451596498489,-0.0938446745276451,0.0539551898837090,-0.0246734414249659,0.0662633404135704,0.0218366086483002,0.0308399982750416,0.1272810697555542,-0.0128417899832129,-0.0757258683443069,0.1535252928733826,0.0741155371069908,-0.0489068552851677,0.0515640005469322,0.1038519814610481,-0.0215742494910955));
res += mul(Get(s1,-dx,dy), float4x4(-0.0737344697117805,-0.0893644243478775,-0.3191973268985748,-0.0458180345594883,-0.0087760202586651,0.1100876629352570,0.0360902994871140,-0.0767926126718521,0.0102254934608936,0.0642936900258064,0.0060306848026812,-0.0172382090240717,0.1847029775381088,0.3485625088214874,0.1684999316930771,-0.1840571910142899));
res += mul(Get(s2,-dx,dy), float4x4(0.1119201183319092,-0.1108284592628479,-0.0283220820128918,-0.0520397797226906,0.0107076577842236,0.0358129367232323,-0.0205761622637510,-0.1168531775474548,0.0037959422916174,0.0574713647365570,0.0420007295906544,-0.0049968059174716,-0.0586219727993011,-0.0108571173623204,-0.0485293120145798,-0.0207363441586494));
res += mul(Get(s0,0,-dy), float4x4(-0.1917286068201065,0.0318759866058826,-0.2429096400737762,0.1867016404867172,-0.0644456967711449,-0.0148356352001429,0.0498145446181297,0.0396250858902931,0.0154690966010094,-0.0737643092870712,0.2324220836162567,-0.3911299407482147,-0.1346271336078644,-0.1993052214384079,-0.2113467007875443,0.2180619984865189));
res += mul(Get(s1,0,-dy), float4x4(-0.0221117530018091,0.0726308450102806,-0.0955074802041054,-0.0123278126120567,0.0183623991906643,-0.0735789388418198,0.1313740313053131,-0.0424698106944561,-0.0999125614762306,-0.1296469718217850,-0.0331828482449055,0.1273306906223297,-0.0274954941123724,0.1982547640800476,-0.1228823065757751,0.0771228745579720));
res += mul(Get(s2,0,-dy), float4x4(0.0661998540163040,0.1997539401054382,-0.0132354227825999,0.1076769307255745,-0.0799163654446602,0.0861552655696869,-0.0305234789848328,0.0441113859415054,0.0769260451197624,0.0205406229943037,-0.0145420068874955,0.0063368803821504,0.1781937777996063,0.0090424055233598,0.0882686004042625,0.0683701783418655));
res += mul(Get(s0,0,0), float4x4(-0.5324870347976685,-0.0692382678389549,-0.0797858610749245,0.3631206452846527,-0.2271854132413864,0.1426729708909988,0.0967958718538284,-0.2294931560754776,0.2763930857181549,0.2332243323326111,0.0093641867861152,0.3988775312900543,-0.1134980097413063,-0.2274851202964783,-0.1408112645149231,0.1470286697149277));
res += mul(Get(s1,0,0), float4x4(-0.1890015155076981,-0.2928930222988129,-0.1087419912219048,-0.0204542726278305,-0.1237762793898582,-0.1364351660013199,0.1347710490226746,0.3156273961067200,-0.2953411340713501,0.0976248458027840,-0.4386377334594727,-0.1628013700246811,-0.4547644555568695,-0.2056691646575928,0.1958069205284119,-0.4094609320163727));
res += mul(Get(s2,0,0), float4x4(-0.3689529299736023,0.5383650064468384,-0.2146505415439606,0.0112876277416945,-0.1128975600004196,-0.0998176857829094,-0.0507509559392929,0.0411603823304176,-0.0329922549426556,0.1088452413678169,-0.0019544742535800,0.1897202134132385,0.4027921855449677,-0.2215951234102249,0.2085318267345428,-0.2255153208971024));
res += mul(Get(s0,0,dy), float4x4(0.0433945395052433,0.1247233599424362,-0.0563350170850754,-0.0768849328160286,-0.0988004505634308,-0.2994859218597412,0.3806480765342712,0.2201227247714996,-0.0300317332148552,-0.0835474729537964,0.0256039444357157,-0.0929860100150108,-0.1279367059469223,-0.1506211906671524,-0.0356145128607750,-0.1066842004656792));
res += mul(Get(s1,0,dy), float4x4(0.0055909124203026,0.0728569254279137,-0.1093385294079781,-0.1314597576856613,-0.0386595688760281,0.1043323948979378,-0.1336218863725662,-0.1709576994180679,-0.0442101769149303,-0.0563060492277145,0.0022630402818322,0.0056435880251229,-0.0566111877560616,0.1330053508281708,-0.3527159988880157,-0.2394988238811493));
res += mul(Get(s2,0,dy), float4x4(0.1109703034162521,0.0741404742002487,-0.0618281103670597,-0.0451473444700241,0.0168858859688044,0.0001062462324626,-0.0932302102446556,-0.0932022184133530,-0.0639994665980339,-0.2762591540813446,0.1667749136686325,-0.0116669721901417,0.0967416092753410,-0.0717465728521347,0.0858856365084648,0.0910370945930481));
res += mul(Get(s0,dx,-dy), float4x4(0.1078018099069595,0.0367925912141800,-0.0449692010879517,0.0882166028022766,-0.0330350846052170,0.0322408713400364,-0.0237124431878328,0.0012637046165764,0.0081067876890302,0.0112681780010462,0.0554588884115219,-0.0752096176147461,0.0202120952308178,-0.0856620520353317,-0.0857864692807198,-0.0405641756951809));
res += mul(Get(s1,dx,-dy), float4x4(-0.2083512097597122,-0.1848166286945343,-0.0082859853282571,0.0053333174437284,-0.0690004229545593,-0.0491061098873615,0.0179752260446548,-0.0199237130582333,-0.0303073879331350,-0.0461844988167286,-0.0184724722057581,0.0042751911096275,-0.0601700805127621,0.1122047007083893,-0.0503745749592781,0.1738407015800476));
res += mul(Get(s2,dx,-dy), float4x4(0.0353137254714966,-0.0693713128566742,0.0567875988781452,-0.0392127893865108,-0.0128777706995606,-0.0703209042549133,-0.0336296185851097,-0.0546324849128723,-0.0047054640017450,0.0601564459502697,0.0417075939476490,0.0277823582291603,-0.0715535506606102,0.0707065314054489,0.0367007032036781,0.0830007791519165));
res += mul(Get(s0,dx,0), float4x4(0.0994402989745140,0.0872026830911636,0.0011973730288446,-0.0102404961362481,0.0052534514106810,0.0310734920203686,0.1202635988593102,-0.0607520081102848,0.1944593191146851,-0.0230822116136551,0.2434669286012650,0.0740058198571205,-0.0769504830241203,-0.0428229942917824,-0.2345815449953079,-0.0644530877470970));
res += mul(Get(s1,dx,0), float4x4(0.0771487578749657,0.2154815346002579,-0.0368862673640251,0.0210568066686392,0.0919270217418671,-0.0373565852642059,-0.0319794826209545,-0.0794203951954842,0.1093506813049316,0.0533845201134682,-0.0300460066646338,-0.0619657747447491,0.2332798689603806,0.1683944612741470,-0.0985601916909218,-0.0025784841272980));
res += mul(Get(s2,dx,0), float4x4(-0.4446606934070587,-0.2853910326957703,-0.1104595959186554,-0.2084278017282486,0.0179996360093355,0.0057205180637538,-0.0522933751344681,-0.0416485480964184,0.0701786577701569,0.0566308312118053,0.0150912152603269,0.0427191257476807,-0.0323870852589607,0.1294752061367035,0.0652170032262802,0.0653977245092392));
res += mul(Get(s0,dx,dy), float4x4(0.0323038324713707,-0.0204927902668715,0.0025814506225288,0.0893095433712006,-0.0666367113590240,-0.1641115993261337,0.1109535694122314,-0.0380033068358898,0.0680133253335953,0.0316749773919582,0.1205345243215561,0.0421591438353062,0.0391308031976223,-0.0808459967374802,0.0717313736677170,0.0446114167571068));
res += mul(Get(s1,dx,dy), float4x4(0.0405845940113068,0.0552050471305847,0.0843835473060608,0.0145438062027097,0.0883287861943245,-0.0091583654284477,0.0210164096206427,0.0438472107052803,0.0192917957901955,0.0221627540886402,-0.0181239359080791,-0.0165739879012108,-0.0707423761487007,0.0072069400921464,-0.1336900442838669,-0.2141587734222412));
res += mul(Get(s2,dx,dy), float4x4(0.0099705429747701,-0.1768951267004013,0.0281207431107759,-0.1121451109647751,0.0105272559449077,-0.0461375452578068,0.0637577176094055,0.0192635729908943,-0.0033657655585557,0.0954985767602921,-0.0018430914497003,-0.0461722128093243,-0.0153602855280042,0.0135994674637914,0.0530690886080265,-0.0372428521513939));
res = max(float4(0, 0, 0, 0), res) + float4(0.3324409127235413,0.7266933917999268,0.7082533240318298,0.4901168346405029) * min(float4(0, 0, 0, 0), res);
return res;
}
