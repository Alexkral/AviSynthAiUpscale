sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.060175184160471,0.020574480295181,0.082105688750744,0.076663352549076);
res += mul(Get(s0,-dx,-dy), float4x4(-0.102855630218983,-0.111344106495380,-0.077184058725834,0.058219503611326,-0.119461998343468,0.006326353177428,-0.277298271656036,-0.004933342803270,0.164579436182976,-0.012092496268451,0.016314752399921,-0.071096308529377,-0.043890736997128,-0.106894582509995,0.002599078230560,-0.059754740446806));
res += mul(Get(s0,-dx,0), float4x4(0.047300867736340,0.307097673416138,-0.001070980681106,-0.044298883527517,0.200527042150497,0.384792685508728,-0.248821884393692,0.005631043575704,0.094627439975739,-0.239883482456207,0.134181484580040,-0.004493420012295,0.180769056081772,-0.190952241420746,-0.157856464385986,-0.123254589736462));
res += mul(Get(s0,-dx,dy), float4x4(0.038779001682997,0.025149550288916,-0.039787955582142,-0.071400873363018,0.005971274804324,0.191633537411690,-0.113376811146736,0.065289691090584,0.046366315335035,-0.184386476874352,0.131553471088409,0.012352535501122,0.010204185731709,0.124407954514027,0.237183108925819,0.023414937779307));
res += mul(Get(s0,0,-dy), float4x4(-0.087807424366474,0.062607809901237,0.009929706342518,0.536927402019501,-0.117108963429928,-0.214391574263573,-0.087889544665813,-0.273193925619125,0.412481158971786,-0.245274186134338,0.531125366687775,0.162460759282112,-0.293728172779083,0.053343921899796,-0.059854626655579,-0.086704485118389));
res += mul(Get(s0,0,0), float4x4(-0.219854816794395,0.728764533996582,-0.186468228697777,-0.443647533655167,-0.055295858532190,-0.103352285921574,-0.228683471679688,-0.104392528533936,-0.656345844268799,0.778221428394318,-0.565242350101471,0.000035263390600,0.288725763559341,-0.250844210386276,-0.036455739289522,0.055580258369446));
res += mul(Get(s0,0,dy), float4x4(0.225879997014999,-0.158708781003952,-0.017264427617192,0.239432707428932,0.199392303824425,0.147327721118927,-0.081392705440521,0.011098057962954,0.259499520063400,-0.120439641177654,0.194703251123428,0.004405896179378,-0.295723944902420,0.387745767831802,0.051374223083258,-0.072923235595226));
res += mul(Get(s0,dx,-dy), float4x4(-0.002126810839400,0.021504841744900,0.049014247953892,-0.071551635861397,-0.277957379817963,-0.159280955791473,-0.187079772353172,0.088468752801418,-0.022172193974257,-0.054274696856737,0.117668226361275,0.102741539478302,-0.076731666922569,-0.172659948468208,-0.001201328588650,-0.125940173864365));
res += mul(Get(s0,dx,0), float4x4(-0.058667004108429,-0.031287718564272,-0.057654891163111,-0.023151015862823,0.115398325026035,0.013298876583576,-0.202844455838203,-0.246457010507584,0.005036583170295,-0.398430168628693,-0.231019094586372,-0.079503536224365,0.260080963373184,-0.044959310442209,0.209422096610069,0.129408612847328));
res += mul(Get(s0,dx,dy), float4x4(0.038328692317009,0.144110396504402,0.120760403573513,-0.064499802887440,0.165212109684944,0.448299527168274,-0.007969099096954,0.023095127195120,-0.000272147561191,0.123257495462894,0.028999598696828,0.045508887618780,-0.204863205552101,-0.013172507286072,-0.303972691297531,0.092823632061481));
res += mul(Get(s1,-dx,-dy), float4x4(0.010535669513047,-0.019511424005032,-0.024056782945991,0.022958943620324,0.010099603794515,0.141724988818169,0.001943950657733,-0.065676897764206,0.074861608445644,0.084421932697296,-0.209556996822357,0.094730861485004,-0.032596208155155,0.112386062741280,-0.388254076242447,-0.182444617152214));
res += mul(Get(s1,-dx,0), float4x4(0.002520446898416,-0.131054535508156,0.119319699704647,-0.011543664149940,-0.055905893445015,-0.033003624528646,-0.295073986053467,0.056478075683117,-0.017150452360511,0.203530684113503,0.047730311751366,-0.195622935891151,0.034781802445650,-0.135097891092300,0.371999859809875,-0.388923138380051));
res += mul(Get(s1,-dx,dy), float4x4(-0.027663515880704,0.028924072161317,-0.054621513932943,-0.014960619620979,-0.208343327045441,-0.010175243020058,-0.052805095911026,-0.128187745809555,-0.017178127542138,-0.068631693720818,-0.086141608655453,0.005603703670204,-0.102070175111294,-0.116654232144356,-0.236235082149506,-0.147138252854347));
res += mul(Get(s1,0,-dy), float4x4(-0.670074045658112,0.078327514231205,0.042670216411352,-0.221958816051483,0.109540387988091,0.183604925870895,-0.311760574579239,-0.360035121440887,0.374608993530273,-0.036746568977833,0.120634980499744,0.115990340709686,-0.027130266651511,0.172096163034439,-0.262984335422516,-0.242174357175827));
res += mul(Get(s1,0,0), float4x4(0.286840528249741,0.385473489761353,-0.277151316404343,-0.117480628192425,-0.077460825443268,-0.020379129797220,0.386366426944733,0.031082937493920,-0.057442914694548,-0.007854645140469,-0.169343262910843,0.056866146624088,-0.411919772624969,0.173544853925705,-0.038798496127129,0.416556775569916));
res += mul(Get(s1,0,dy), float4x4(0.120848849415779,-0.208897024393082,0.038938283920288,0.054209500551224,0.111415080726147,-0.050005856901407,0.011456075124443,-0.127517983317375,-0.138788968324661,-0.418535470962524,-0.209390252828598,0.064322099089622,0.288430780172348,-0.626773834228516,-0.245134308934212,0.101227685809135));
res += mul(Get(s1,dx,-dy), float4x4(-0.016933444887400,-0.069052025675774,0.014310945756733,0.046664834022522,0.020363917574286,0.051944907754660,-0.032557670027018,-0.118396110832691,0.136412024497986,0.164220452308655,0.024110596626997,0.080397285521030,-0.063647620379925,-0.013515342026949,-0.015542491339147,0.144996568560600));
res += mul(Get(s1,dx,0), float4x4(-0.157600283622742,-0.325776219367981,-0.007081610150635,-0.287503153085709,0.083366714417934,0.031970240175724,-0.016135331243277,0.152245014905930,-0.109711445868015,0.184304222464561,-0.074529364705086,0.028907006606460,0.265155196189880,-0.081046253442764,0.001208747155033,0.075915873050690));
res += mul(Get(s1,dx,dy), float4x4(0.086401067674160,0.104737855494022,0.153481513261795,-0.012975263409317,-0.253318876028061,-0.041338525712490,-0.012113986536860,-0.063443548977375,0.002957149408758,0.005979690235108,-0.000399407785153,0.072869278490543,-0.009513737633824,-0.039623517543077,-0.115106530487537,-0.036776904016733));
res += mul(Get(s2,-dx,-dy), float4x4(-0.088069029152393,0.042604491114616,0.127665445208549,0.019561594352126,-0.014468511566520,-0.026440568268299,0.048849254846573,0.023073680698872,0.373664855957031,-0.009861264377832,0.516128242015839,-0.002695735078305,-0.023995114490390,0.108238525688648,-0.300672382116318,0.045828592032194));
res += mul(Get(s2,-dx,0), float4x4(-0.016064502298832,0.074743382632732,0.133719533681870,-0.053253274410963,-0.164246708154678,0.073721691966057,-0.010832136496902,0.289151638746262,-0.074037320911884,0.024283060804009,0.249670773744583,0.114489048719406,-0.036908343434334,-0.081197217106819,-0.154869452118874,0.042295612394810));
res += mul(Get(s2,-dx,dy), float4x4(0.135902434587479,0.050157926976681,0.081576101481915,-0.036375202238560,-0.018148848786950,0.040880825370550,-0.207436978816986,0.070630401372910,0.108404286205769,-0.200515568256378,0.044269833713770,0.002018930157647,-0.093377210199833,-0.104826055467129,-0.063988544046879,0.000880652631167));
res += mul(Get(s2,0,-dy), float4x4(-0.335079640150070,-0.223118647933006,0.055472172796726,-0.281099647283554,0.110138319432735,0.072377368807793,-0.339967995882034,0.058348607271910,-0.153416439890862,-0.026777939870954,0.283415079116821,-0.174002811312675,0.576362133026123,-0.143890634179115,0.170806571841240,0.217972189188004));
res += mul(Get(s2,0,0), float4x4(0.190543860197067,0.105419076979160,-0.016812127083540,-0.114734143018723,-0.306860834360123,-0.161107435822487,0.311834514141083,-0.217667594552040,-0.117483854293823,-0.165417775511742,0.176395028829575,0.084055937826633,-0.390474289655685,-0.316285610198975,0.453850835561752,0.150698572397232));
res += mul(Get(s2,0,dy), float4x4(0.006597163155675,0.018483387306333,0.042767357081175,-0.144731923937798,0.240848734974861,0.068305484950542,-0.084545917809010,-0.003061291528866,0.186227723956108,-0.377680987119675,0.245073020458221,0.004065158776939,-0.083491951227188,-0.076533921062946,-0.128707528114319,0.030260289087892));
res += mul(Get(s2,dx,-dy), float4x4(-0.259248256683350,-0.263463765382767,-0.026631550863385,-0.138525098562241,-0.162695586681366,0.012246145866811,-0.106315083801746,-0.195209547877312,0.144124448299408,0.041713684797287,0.091693490743637,-0.053909618407488,0.396189570426941,-0.089619502425194,0.020350925624371,0.107617832720280));
res += mul(Get(s2,dx,0), float4x4(0.122309632599354,0.104713886976242,0.305462509393692,-0.016426132991910,0.023252660408616,-0.201548457145691,0.111175708472729,0.066384822130203,-0.058503597974777,-0.130919903516769,0.261016130447388,-0.068847276270390,-0.096895553171635,-0.035422988235950,-0.259640187025070,-0.010729320347309));
res += mul(Get(s2,dx,dy), float4x4(0.009413228370249,0.003694611368701,0.022809574380517,-0.075560085475445,-0.112839266657829,0.101335920393467,-0.076768927276134,-0.118103437125683,-0.040341772139072,-0.075950510799885,0.115888133645058,-0.048300426453352,0.015621392056346,-0.021759634837508,0.034475795924664,-0.002929195063189));
res = max(float4(0, 0, 0, 0), res) + float4(-0.083714708685875,0.577606856822968,-0.123558886349201,0.852417826652527) * min(float4(0, 0, 0, 0), res);
return res;
}
