sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0063810148276389,0.0053475787863135,0.0039798291400075,0.0344365797936916);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0069579738192260,0.1124675795435905,-0.0796794891357422,-0.0603024512529373,-0.0168605875223875,0.0482751056551933,0.0908117964863777,0.0674813762307167,-0.0317276231944561,0.0923752933740616,-0.0793095976114273,0.1298337131738663,0.0766054019331932,-0.0529278591275215,0.0909599065780640,-0.0702779293060303));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0680417194962502,0.0947305485606194,0.0172185357660055,-0.0846589058637619,-0.2128320485353470,0.0393362715840340,-0.2723173499107361,-0.0761746615171432,0.0219377968460321,0.0833129808306694,0.0881816893815994,0.0091289347037673,0.1637860983610153,0.0963909924030304,-0.0835740491747856,-0.0533437766134739));
res += mul(Get(s2,-dx,-dy), float4x4(0.1605620235204697,0.0546774677932262,-0.0156187452375889,0.0419894978404045,0.1890655159950256,-0.0662829205393791,-0.0631195455789566,0.0420134738087654,-0.0867770239710808,-0.1010265052318573,0.0547933280467987,-0.0254230573773384,0.1850050985813141,0.0190591309219599,-0.0733949765563011,0.0267900116741657));
res += mul(Get(s0,-dx,0), float4x4(-0.0015177273890004,-0.0273172706365585,0.0035422730725259,0.1202910915017128,-0.0467590354382992,0.1343272626399994,0.0145470192655921,-0.2847181856632233,0.0996082797646523,0.1124019771814346,0.1440730243921280,-0.2440782785415649,0.1143069639801979,0.1248321980237961,-0.2292664051055908,0.0800038129091263));
res += mul(Get(s1,-dx,0), float4x4(0.0822135731577873,0.2234156876802444,0.3014812469482422,-0.2803035378456116,-0.2131323516368866,-0.0271735247224569,0.1796664446592331,0.1631079614162445,0.0492496825754642,0.1000194847583771,0.0528555363416672,-0.2231945395469666,-0.0036366607528180,0.1155538707971573,0.1578775048255920,-0.0883628427982330));
res += mul(Get(s2,-dx,0), float4x4(-0.0654251128435135,0.0960192978382111,-0.3553821742534637,-0.1638966202735901,-0.1806252449750900,-0.0694614946842194,-0.1627356112003326,0.0736194029450417,0.0999967753887177,0.0273010488599539,-0.3854646682739258,0.0380725152790546,-0.0125494729727507,0.0069737061858177,-0.0830405652523041,-0.1648191213607788));
res += mul(Get(s0,-dx,dy), float4x4(0.1814157217741013,0.0654186233878136,0.1475418657064438,-0.2063556611537933,0.0035307297948748,-0.0213044211268425,-0.1285971105098724,0.0032623803708702,0.0295269358903170,-0.0856307670474052,0.0810902789235115,-0.0155085874721408,-0.0175720769912004,-0.0994539335370064,-0.0467989444732666,0.1800983548164368));
res += mul(Get(s1,-dx,dy), float4x4(0.0673591792583466,-0.1716324985027313,-0.1596565395593643,-0.1209684833884239,-0.0456890352070332,0.1741949915885925,-0.1083492711186409,-0.0830398499965668,0.0041895760223269,-0.0404595211148262,-0.0028043536003679,-0.0030686745885760,0.2351281642913818,0.0502214990556240,-0.0535845309495926,-0.1426979452371597));
res += mul(Get(s2,-dx,dy), float4x4(-0.1775380969047546,-0.0042983856983483,-0.0408980734646320,0.0093782478943467,0.0811272859573364,0.0475875250995159,-0.0496777780354023,0.0618822574615479,-0.3105763792991638,-0.0858234539628029,-0.0383994132280350,0.1816094666719437,-0.0101969763636589,-0.0464224964380264,0.0683052316308022,-0.0479664653539658));
res += mul(Get(s0,0,-dy), float4x4(-0.4364450871944427,0.0028588264249265,-0.3914884924888611,0.1744125187397003,-0.0742471441626549,0.1086205169558525,-0.2422958314418793,-0.0318672172725201,0.0859450995922089,0.1659231185913086,0.2180144488811493,0.0055353259667754,0.0875956118106842,-0.2298358380794525,-0.1543398350477219,0.2334740757942200));
res += mul(Get(s1,0,-dy), float4x4(-0.2664322257041931,-0.3063366413116455,-0.5236300230026245,0.4603804647922516,0.1419367492198944,-0.2774002254009247,-0.2921808063983917,0.0054001552052796,0.0185893531888723,0.1041051298379898,-0.2574555575847626,0.0943639799952507,-0.1207383647561073,-0.1107580661773682,-0.0189472846686840,-0.0349189378321171));
res += mul(Get(s2,0,-dy), float4x4(-0.1732055395841599,-0.0971777066588402,0.0089426096528769,0.0709028840065002,0.1692341119050980,-0.0903629586100578,-0.1021706089377403,0.3340463638305664,0.0203251056373119,-0.1821425855159760,-0.2294540107250214,-0.0692464709281921,-0.1078443676233292,0.1972803920507431,-0.1417025774717331,0.0490232557058334));
res += mul(Get(s0,0,0), float4x4(0.2687278985977173,-0.0631255209445953,0.7211229801177979,-0.1024058237671852,-0.1681389659643173,-0.8190421462059021,-0.6312229633331299,0.2035055458545685,-0.4543635249137878,-0.1810340136289597,0.2558363676071167,-0.1725740879774094,0.1251376718282700,0.0857161357998848,0.0769856721162796,-0.2590554952621460));
res += mul(Get(s1,0,0), float4x4(-0.3056490719318390,-0.9262413978576660,-0.5099785327911377,1.4079656600952148,0.2259342223405838,0.1199689209461212,0.3731610178947449,0.2812364101409912,-0.3543528020381927,-0.4458486735820770,-0.2373408228158951,0.3097879588603973,0.3014211654663086,-0.0079170558601618,0.3327308893203735,-0.0515358448028564));
res += mul(Get(s2,0,0), float4x4(0.0002941952843685,-1.1379342079162598,0.0018931075464934,1.1004998683929443,-0.0368671305477619,0.0904148593544960,-0.1172480657696724,-0.3331476747989655,0.1615581661462784,0.0026196076069027,-0.1465449333190918,0.0235275533050299,0.0497230924665928,0.3950654268264771,0.4561522006988525,0.0339696146547794));
res += mul(Get(s0,0,dy), float4x4(-0.0638370290398598,-0.0524064525961876,-0.1661163717508316,-0.0227502770721912,-0.0873315855860710,-0.0247459076344967,-0.3479438722133636,0.1201162487268448,0.1887046694755554,-0.0615568161010742,-0.2551051080226898,0.0537921525537968,-0.0530950799584389,0.0046432213857770,-0.1314679384231567,-0.0351850129663944));
res += mul(Get(s1,0,dy), float4x4(-0.0043379170820117,0.0507342368364334,0.0603709556162357,-0.1758036464452744,0.0938722789287567,-0.0779534876346588,0.1212555095553398,0.0764180421829224,0.0221200250089169,0.0106385974213481,0.0158603172749281,-0.1340091228485107,0.1323065012693405,0.0689080730080605,-0.0016739859711379,0.1428159475326538));
res += mul(Get(s2,0,dy), float4x4(0.3496655821800232,0.0635054334998131,-0.2063218504190445,-0.0738118439912796,-0.1509999781847000,0.1813357025384903,0.0535071343183517,0.0689619332551956,-0.1427677124738693,0.1175812333822250,0.0980916693806648,-0.2679436206817627,0.0056124655529857,-0.0475486442446709,-0.0978393629193306,-0.0959346592426300));
res += mul(Get(s0,dx,-dy), float4x4(-0.1275816857814789,-0.0552960187196732,-0.1391801536083221,0.0126610267907381,0.0298730153590441,0.1813323646783829,-0.0220314171165228,-0.0564663857221603,-0.0504012666642666,0.1382839232683182,-0.0529026240110397,0.0703933387994766,0.1440709829330444,-0.0245504658669233,0.0002113884838764,0.0303908269852400));
res += mul(Get(s1,dx,-dy), float4x4(-0.0435613729059696,0.0210046991705894,-0.2886059284210205,-0.0029287668876350,0.3160161972045898,-0.2796212732791901,0.4170596599578857,0.0402007326483727,-0.2818177640438080,-0.0317736789584160,-0.1924251914024353,0.0059422706253827,-0.1653508245944977,0.1670854389667511,0.0587685033679008,-0.0222023259848356));
res += mul(Get(s2,dx,-dy), float4x4(0.0977588966488838,-0.1482308804988861,0.1861613988876343,-0.0855678841471672,-0.2517635822296143,0.0368344075977802,0.0611330680549145,-0.1809544116258621,0.3788674771785736,0.0645068138837814,0.0348196029663086,0.1189662888646126,-0.1140341162681580,-0.0307070855051279,-0.0034811687655747,0.0358350984752178));
res += mul(Get(s0,dx,0), float4x4(0.1879817694425583,-0.1575912833213806,0.0047615501098335,0.2120743542909622,0.0567129477858543,0.2040945589542389,0.0398478507995605,0.0132367257028818,0.1270322352647781,0.1341958343982697,0.0022762164007872,0.0717912465333939,-0.3124524652957916,0.3791560232639313,0.2425236701965332,-0.1452462822198868));
res += mul(Get(s1,dx,0), float4x4(-0.6323615312576294,0.2822749614715576,-0.0886571034789085,-0.4065355062484741,-0.0094315139576793,0.3757862448692322,-0.1867226362228394,-0.5137194395065308,0.3228126764297485,0.1811715960502625,0.1464822590351105,-0.0470547974109650,0.0241215731948614,-0.1810910850763321,0.3180266916751862,-0.0836468935012817));
res += mul(Get(s2,dx,0), float4x4(-0.1330286264419556,0.0454264543950558,0.4861544966697693,-0.1271512806415558,0.2579382061958313,0.1673949509859085,0.0757760629057884,-0.3911888897418976,0.2357144653797150,0.2240972518920898,0.2547569572925568,-0.2736397981643677,0.1108154207468033,0.1125651746988297,-0.2605055570602417,-0.1112307533621788));
res += mul(Get(s0,dx,dy), float4x4(-0.0094467243179679,0.0806335732340813,0.0639005079865456,-0.0695922821760178,0.1383093297481537,-0.0118472175672650,0.1441916078329086,0.0070629338733852,-0.0967829823493958,-0.0586728006601334,-0.0032182892318815,-0.0260236933827400,-0.2343293428421021,-0.1530819833278656,0.0303747337311506,-0.0809380784630775));
res += mul(Get(s1,dx,dy), float4x4(0.1338115036487579,0.0587309524416924,-0.0060465196147561,-0.0887661874294281,-0.3016216754913330,-0.1660306453704834,-0.2460180222988129,0.0030128683429211,0.0349411480128765,0.0050794477574527,-0.0478285215795040,0.0315003953874111,-0.4320155978202820,-0.0214207060635090,-0.0763637870550156,0.1243252530694008));
res += mul(Get(s2,dx,dy), float4x4(-0.1394369453191757,0.0151806036010385,0.1368968337774277,0.0953610986471176,-0.2475107759237289,-0.0867810472846031,-0.0274814181029797,0.0873979926109314,-0.1886910498142242,-0.1582971960306168,-0.0148887475952506,0.2667561471462250,-0.1116053760051727,0.0544011257588863,0.0702566504478455,-0.0064537534490228));
res = max(float4(0, 0, 0, 0), res) + float4(-0.6784566640853882,-0.6389310956001282,0.8174570202827454,-0.3331897854804993) * min(float4(0, 0, 0, 0), res);
return res;
}
