sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.131286323070526,-0.125327005982399,0.026187656447291,0.026791343465447);
res += mul(Get(s0,-dx,-dy), float4x4(0.065480835735798,-0.159977108240128,0.014389858581126,0.076263286173344,0.167047187685966,-0.034580886363983,0.082914963364601,-0.008675356395543,-0.028916612267494,0.001013966044411,-0.140649989247322,-0.053149208426476,-0.159565672278404,0.037421837449074,0.035434488207102,0.039077084511518));
res += mul(Get(s0,-dx,0), float4x4(0.032547686249018,0.223770901560783,-0.133849680423737,-0.237678468227386,0.187481135129929,-0.286727458238602,-0.145305752754211,-0.115734674036503,0.046782333403826,0.091475702822208,-0.241767451167107,-0.477639406919479,0.191585928201675,0.192443966865540,0.079861938953400,0.257457673549652));
res += mul(Get(s0,-dx,dy), float4x4(0.220668464899063,-0.383269727230072,0.146149754524231,-0.072629705071449,-0.175292208790779,-0.113029032945633,-0.001488119247369,-0.393823295831680,-0.004071481525898,0.200768306851387,0.420461416244507,-0.014621046371758,0.038104455918074,0.786936104297638,-0.137965992093086,0.098949335515499));
res += mul(Get(s0,0,-dy), float4x4(0.152274727821350,0.204708755016327,0.348751634359360,-0.057322513312101,0.062159217894077,-0.072308242321014,0.223821833729744,0.162338748574257,0.043257642537355,0.136972934007645,-0.011375059373677,0.099939621984959,0.009103712625802,0.021944668143988,0.016066480427980,0.077334769070148));
res += mul(Get(s0,0,0), float4x4(-0.326773792505264,0.222370460629463,-0.410705387592316,-0.030493229627609,-0.408671408891678,0.417603224515915,0.062663234770298,0.061385177075863,0.189416468143463,0.051097795367241,-0.389133512973785,0.119145274162292,-0.498833984136581,-0.098969466984272,0.098602473735809,0.447136789560318));
res += mul(Get(s0,0,dy), float4x4(-0.363995254039764,-0.216978654265404,0.064116358757019,-0.233779862523079,0.200409531593323,-0.196393355727196,0.067886605858803,-0.170448288321495,-0.365819722414017,-0.499185055494308,-0.041049990803003,-0.319449663162231,0.001968283439055,-0.286799371242523,-0.253363519906998,0.205219715833664));
res += mul(Get(s0,dx,-dy), float4x4(0.107093095779419,0.061089180409908,0.087424471974373,0.106149896979332,-0.091565519571304,0.243521198630333,0.388327956199646,-0.064684681594372,0.139329940080643,0.084231726825237,0.201204463839531,-0.090565294027328,0.087552323937416,-0.185062691569328,-0.242295846343040,0.107568807899952));
res += mul(Get(s0,dx,0), float4x4(0.038811407983303,0.127121254801750,-0.050019707530737,0.123469717800617,0.329019069671631,-0.510619163513184,-0.089459948241711,-0.024461869150400,0.162113338708878,-0.063812553882599,0.186240673065186,-0.064850926399231,-0.159788370132446,-0.150974750518799,0.293824881315231,-0.045889031141996));
res += mul(Get(s0,dx,dy), float4x4(-0.050453882664442,-0.010048230178654,-0.146413862705231,0.122218810021877,0.108353286981583,0.402663975954056,-0.525800704956055,0.272149413824081,-0.117235057055950,0.033488355576992,-0.356244802474976,-0.310533851385117,-0.019176844507456,-0.116200961172581,0.252844125032425,0.134656921029091));
res += mul(Get(s1,-dx,-dy), float4x4(0.289024680852890,0.332376837730408,-0.024213649332523,0.057281572371721,-0.015956182032824,0.320062577724457,0.043037161231041,0.077137835323811,-0.112820982933044,0.196076720952988,-0.227269351482391,0.156056880950928,-0.058615233749151,-0.156702309846878,0.012139165773988,0.166081339120865));
res += mul(Get(s1,-dx,0), float4x4(-0.117949925363064,-0.008728887885809,-0.074903726577759,0.018893735483289,0.454958170652390,-0.343215018510818,0.013879066333175,-0.120371922850609,0.095473796129227,-0.086832217872143,0.046945340931416,-0.017018742859364,-0.216464474797249,-0.013364953920245,-0.151051938533783,-0.110686801373959));
res += mul(Get(s1,-dx,dy), float4x4(0.111899510025978,-0.110865801572800,0.136281296610832,0.064596086740494,-0.062039516866207,0.000259572814684,-0.300593346357346,0.301381230354309,-0.043076205998659,-0.068530261516571,0.275180339813232,-0.068769372999668,0.076226033270359,-0.141586408019066,0.120120555162430,0.105550467967987));
res += mul(Get(s1,0,-dy), float4x4(0.293880134820938,-0.257824122905731,0.224974438548088,-0.031090006232262,-0.051654223352671,-0.072410903871059,-0.077902719378471,0.194506570696831,-0.071294657886028,-0.131805554032326,-0.058272354304790,-0.121590532362461,-0.035428181290627,-0.009344661608338,0.120711378753185,0.094478413462639));
res += mul(Get(s1,0,0), float4x4(0.036745846271515,-0.400674819946289,-0.088485784828663,0.139565542340279,-0.014686482027173,-0.327950149774551,0.376461625099182,0.058773104101419,0.037629306316376,0.174690380692482,-0.079118639230728,0.045022323727608,-0.325825840234756,0.151652365922928,0.071076624095440,0.278160810470581));
res += mul(Get(s1,0,dy), float4x4(0.039079032838345,-0.580524325370789,-0.171986937522888,-0.011464978568256,0.030383100733161,0.259026080369949,0.404352277517319,0.030765116214752,0.067846208810806,-0.033993788063526,-0.108416378498077,-0.006269311066717,-0.077200002968311,-0.088610962033272,-0.080729953944683,-0.210668414831161));
res += mul(Get(s1,dx,-dy), float4x4(0.206065282225609,0.090681567788124,0.202357575297356,-0.170762121677399,-0.017091821879148,0.099957302212715,-0.114986270666122,0.093513920903206,-0.260876655578613,0.009704684838653,0.139157101511955,0.028218818828464,-0.033129401504993,-0.081193692982197,-0.092832721769810,0.032482661306858));
res += mul(Get(s1,dx,0), float4x4(0.091341726481915,0.137890368700027,-0.275237828493118,0.134360760450363,-0.203337639570236,-0.069384805858135,-0.793578863143921,-0.021897217258811,-0.148637562990189,-0.051337402313948,0.032538272440434,-0.020779514685273,0.233148008584976,-0.101072326302528,0.001164470333606,-0.063007876276970));
res += mul(Get(s1,dx,dy), float4x4(-0.175064027309418,-0.285550832748413,0.084987863898277,-0.029447456821799,0.007665496319532,-0.154943689703941,0.246382474899292,0.027784619480371,0.113454014062881,-0.175558045506477,-0.241464823484421,0.046896614134312,-0.066817857325077,0.023457020521164,-0.058762919157743,-0.055058971047401));
res += mul(Get(s2,-dx,-dy), float4x4(0.320933848619461,-0.155941575765610,-0.087715707719326,-0.033810425549746,0.134427100419998,-0.008003498427570,-0.145743355154991,0.190692067146301,0.040744576603174,0.023472297936678,0.010677776299417,0.107243642210960,0.274792820215225,0.030524004250765,-0.163385540246964,0.022125927731395));
res += mul(Get(s2,-dx,0), float4x4(-0.262865036725998,0.397164881229401,0.028714844956994,-0.472633272409439,-0.176503464579582,-0.057923011481762,-0.029789419844747,0.016286086291075,-0.019069798290730,0.058532208204269,-0.091170929372311,0.069206923246384,-0.325253397226334,-0.127976074814796,0.290783882141113,-0.196188479661942));
res += mul(Get(s2,-dx,dy), float4x4(-0.190807163715363,-0.315867185592651,0.033355791121721,-0.114564947783947,-0.072349175810814,-0.125805363059044,0.118432968854904,-0.239846602082253,-0.002028342802078,0.094553172588348,0.124252535402775,0.109062306582928,0.114054381847382,0.292713105678558,0.060645345598459,0.116595193743706));
res += mul(Get(s2,0,-dy), float4x4(0.340968251228333,-0.144083052873611,0.136565387248993,-0.169161856174469,0.243452101945877,-0.399431467056274,0.389829128980637,-0.102672941982746,-0.194994240999222,0.020415538921952,-0.003566361032426,0.072995752096176,-0.156947091221809,0.025054961442947,0.189380571246147,0.148555889725685));
res += mul(Get(s2,0,0), float4x4(-0.362103432416916,0.466564983129501,-0.206339865922928,0.561326444149017,-0.337301880121231,0.263475567102432,-0.048585496842861,0.194517299532890,0.088217183947563,-0.166974127292633,-0.065118893980980,0.240040838718414,-0.331519186496735,-0.379362165927887,-0.227191850543022,-0.066768176853657));
res += mul(Get(s2,0,dy), float4x4(-0.272711873054504,-0.147595062851906,-0.105657853186131,-0.284457057714462,-0.213371381163597,-0.169540777802467,-0.363079845905304,0.160113796591759,0.055455271154642,0.293526649475098,-0.086052708327770,-0.077811911702156,-0.194163858890533,-0.200376972556114,0.079362548887730,0.071328975260258));
res += mul(Get(s2,dx,-dy), float4x4(0.027149910107255,0.220967173576355,0.130523219704628,-0.024102635681629,0.256374329328537,0.099676623940468,0.122685112059116,-0.142424866557121,-0.421557366847992,-0.077141754329205,-0.193368867039680,0.250131756067276,0.099762625992298,0.215760305523872,-0.113513991236687,-0.119783967733383));
res += mul(Get(s2,dx,0), float4x4(0.145538344979286,-0.337503105401993,0.244071900844574,-0.266901284456253,0.354231506586075,0.316661328077316,0.116068311035633,-0.183089002966881,0.349456846714020,-0.484279930591583,0.292153567075729,-0.089865453541279,0.051664177328348,-0.377219080924988,0.024507720023394,-0.076057247817516));
res += mul(Get(s2,dx,dy), float4x4(0.432733774185181,0.194125562906265,-0.060291044414043,0.029046695679426,0.191689208149910,-0.167166307568550,0.086687952280045,-0.005358105525374,0.431691557168961,0.166234791278839,-0.012477485463023,0.051487307995558,0.066857725381851,0.019496258348227,-0.016407581046224,0.079194873571396));
res = max(float4(0, 0, 0, 0), res) + float4(0.044237673282623,0.270941197872162,-0.580869674682617,0.462292879819870) * min(float4(0, 0, 0, 0), res);
return res;
}
