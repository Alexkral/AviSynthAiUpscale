sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float3 res = float3(0.0779257640242577,0.0930510610342026,0.1031633988022804);
res += mul(Get(s0,-dx,-dy), float4x3(0.0092027215287089,0.0085190013051033,0.0086264116689563,0.0074915536679327,0.0197059717029333,0.0123761547729373,0.0035135380458087,-0.0042781359516084,-0.0035426551476121,-0.0035004788078368,-0.0030959984287620,-0.0041073639877141));
res += mul(Get(s1,-dx,-dy), float4x3(0.0007089794962667,0.0143879586830735,0.0134008238092065,-0.0114034395664930,-0.0055416221730411,-0.0030475414823741,0.0007326837512664,0.0028071866836399,0.0004600239626598,-0.0298765096813440,-0.0323573350906372,-0.0313144735991955));
res += mul(Get(s2,-dx,-dy), float4x3(-0.0110617289319634,-0.0084231877699494,-0.0068974038586020,-0.0063145691528916,0.0127945784479380,0.0019512026337907,-0.0071138064377010,-0.0047598164528608,0.0002129950444214,-0.0120512153953314,-0.0062277712859213,-0.0087934862822294));
res += mul(Get(s0,-dx,0), float4x3(-0.0190152991563082,-0.0185023080557585,-0.0026782217901200,-0.0023956508375704,-0.0177622996270657,-0.0096872691065073,0.0058489530347288,0.0154330935329199,0.0149868279695511,-0.0114858839660883,-0.0127275818958879,-0.0012590102851391));
res += mul(Get(s1,-dx,0), float4x3(0.0476865284144878,0.0607541166245937,0.0522127225995064,0.0032077364157885,-0.0031859758310020,-0.0085589671507478,0.0001982135145226,-0.0014024040428922,-0.0063291406258941,-0.0935370996594429,-0.1032033488154411,-0.0919967144727707));
res += mul(Get(s2,-dx,0), float4x3(-0.0421952158212662,-0.0476015284657478,-0.0302334856241941,0.0046629682183266,-0.0108995921909809,-0.0248217787593603,-0.0099469898268580,-0.0121475579217076,-0.0144006721675396,-0.0549367666244507,-0.0662768483161926,-0.0404653400182724));
res += mul(Get(s0,-dx,dy), float4x3(0.0018521371530369,-0.0061137825250626,-0.0153622189536691,0.0097532970830798,0.0107593936845660,0.0069865989498794,-0.0006334722856991,0.0001859685435193,-0.0100367134436965,-0.0081248832866549,0.0166227016597986,0.0230727177113295));
res += mul(Get(s1,-dx,dy), float4x3(0.0048281690105796,0.0154719492420554,0.0192829668521881,-0.0026553533971310,-0.0062918253242970,-0.0034499466419220,-0.0029708482325077,-0.0016998923383653,0.0032311556860805,-0.0155029287561774,-0.0217957161366940,-0.0285565406084061));
res += mul(Get(s2,-dx,dy), float4x3(-0.0186391863971949,-0.0191816892474890,-0.0296856369823217,0.0131060210987926,-0.0049001439474523,0.0068511348217726,-0.0026674615219235,-0.0056729489006102,-0.0039721336215734,0.0013361430028453,0.0052108578383923,-0.0164247993379831));
res += mul(Get(s0,0,-dy), float4x3(0.0030660883057863,0.0119591923430562,0.0166579317301512,-0.1127024069428444,-0.0219771414995193,-0.0096821207553148,0.0109392674639821,-0.0232226699590683,-0.0130907297134399,-0.0205960366874933,0.0364480763673782,0.0335527509450912));
res += mul(Get(s1,0,-dy), float4x3(0.0177428964525461,0.0431856215000153,0.0284378416836262,0.0332728661596775,0.0235350485891104,0.0016617665532976,-0.0463023222982883,-0.0149422446265817,-0.0099379885941744,0.0327793061733246,-0.0710347741842270,-0.0608150288462639));
res += mul(Get(s2,0,-dy), float4x3(0.0759029313921928,-0.0042882128618658,-0.0013182634720579,0.0349217019975185,-0.0721132010221481,-0.0448975265026093,0.0259786639362574,0.0065041370689869,0.0058589000254869,-0.0026129831094295,-0.0607459284365177,-0.0562408566474915));
res += mul(Get(s0,0,0), float4x3(0.2854470014572144,0.4147630631923676,0.4495209753513336,0.1388768851757050,0.1724071949720383,0.2213947474956512,0.1397004723548889,0.0723444670438766,0.1411154717206955,0.1257511377334595,-0.0283342711627483,-0.0956339091062546));
res += mul(Get(s1,0,0), float4x3(0.2402658909559250,-0.1119276806712151,-0.1248422712087631,0.0053310934454203,0.0292113535106182,0.0348349139094353,-0.6878183484077454,-0.6914630532264709,-0.6260533928871155,0.0388222150504589,0.1845659762620926,0.0332591608166695));
res += mul(Get(s2,0,0), float4x3(0.1970050930976868,0.2814009785652161,0.2060378193855286,-0.3189436197280884,0.0206212438642979,0.2819059789180756,0.0563718117773533,0.0692472830414772,0.0483109802007675,0.2566790580749512,0.2485485970973969,0.2572609484195709));
res += mul(Get(s0,0,dy), float4x3(-0.0069474703632295,-0.0154053261503577,0.0440604910254478,-0.0199742037802935,0.0155025450512767,0.0103693902492523,0.0097215222194791,0.0288553647696972,0.0051631010137498,0.0051758890040219,-0.0943890288472176,0.0175150036811829));
res += mul(Get(s1,0,dy), float4x3(0.0195259079337120,0.0621425136923790,-0.0238728523254395,0.0024094462860376,0.0073203505016863,0.0027861271519214,-0.0199524350464344,0.0078413002192974,0.0032201868016273,-0.0074508893303573,-0.0364406593143940,0.0455765724182129));
res += mul(Get(s2,0,dy), float4x3(-0.0010064966045320,-0.0089855967089534,0.0762571170926094,0.0177532043308020,0.0514707677066326,-0.0111179444938898,-0.0035722688771784,-0.0034864821936935,0.0247735753655434,-0.0191864129155874,-0.0132903316989541,0.0122486706823111));
res += mul(Get(s0,dx,-dy), float4x3(0.0285559333860874,-0.0105896769091487,-0.0107558937743306,0.0165748242288828,0.0367308035492897,0.0216693859547377,0.0481273233890533,-0.0459196381270885,-0.0178868975490332,-0.0098936045542359,0.0045773428864777,0.0061329514719546));
res += mul(Get(s1,dx,-dy), float4x3(-0.0134642003104091,0.0202793888747692,0.0060335258021951,-0.0377581752836704,0.0206179805099964,0.0042985160835087,0.0262201204895973,0.0165189113467932,0.0149482199922204,-0.0174861475825310,-0.0335113294422626,-0.0174910984933376));
res += mul(Get(s2,dx,-dy), float4x3(-0.0164851937443018,-0.0135929910466075,-0.0108699621632695,0.0049570724368095,0.0030607404187322,-0.0052646701224148,-0.0021334160119295,-0.0045591257512569,-0.0069880406372249,0.0211745370179415,-0.0124016618356109,-0.0065451893024147));
res += mul(Get(s0,dx,0), float4x3(-0.0351671762764454,-0.0098988441750407,0.0444623082876205,0.0054227653890848,0.0379714444279671,0.0182993840426207,-0.0661904215812683,-0.0119026824831963,0.1121228858828545,0.0345643535256386,-0.0332272015511990,-0.0405793264508247));
res += mul(Get(s1,dx,0), float4x3(0.0556431040167809,-0.0306359399110079,-0.0303589478135109,0.0293018613010645,-0.0114490222185850,-0.0748829767107964,-0.0467706881463528,-0.0353363268077374,0.0029105946887285,0.0167146939784288,0.1001228317618370,0.0213120132684708));
res += mul(Get(s2,dx,0), float4x3(-0.0048931119963527,-0.0271867457777262,-0.0066980710253119,-0.0195385795086622,-0.0036335673648864,0.0008703688508831,-0.0579127371311188,-0.0635368525981903,-0.0282798800617456,-0.0076641277410090,-0.0013428800739348,0.0316125564277172));
res += mul(Get(s0,dx,dy), float4x3(-0.0079345731064677,-0.0002526822790969,-0.0107953716069460,-0.0109374197199941,-0.0258088875561953,-0.0080816457048059,0.0082512134686112,0.0145108904689550,-0.0196429304778576,-0.0152704566717148,-0.0160225946456194,0.0335850939154625));
res += mul(Get(s1,dx,dy), float4x3(-0.0195770636200905,-0.0034279909450561,0.0319822542369366,-0.0054313633590937,-0.0041831713169813,0.0131624704226851,0.0103190578520298,0.0028104968369007,-0.0022707290481776,0.0304256733506918,-0.0038958047516644,-0.0295137446373701));
res += mul(Get(s2,dx,dy), float4x3(-0.0033616086002439,0.0181168746203184,0.0089825000613928,0.0147390179336071,0.0016165467677638,-0.0007197749800980,0.0101185394451022,0.0074915052391589,-0.0231084786355495,-0.0073899067938328,-0.0043996679596603,0.0048873913474381));
return float4(res, 0);
}
