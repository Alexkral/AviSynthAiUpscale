sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.091971635818481,0.252419114112854,0.044147212058306,0.170001760125160);
res += mul(Get(s0,-dx,-dy), float4x4(0.114717125892639,0.096598386764526,-0.080388978123665,0.193825006484985,-0.014032469131052,0.073846198618412,-0.049153722822666,-0.036539882421494,-0.125950247049332,-0.292941868305206,-0.008635228499770,-0.166280284523964,-0.021197348833084,-0.032207176089287,0.054811239242554,-0.135928019881248));
res += mul(Get(s0,-dx,0), float4x4(-0.046274755150080,-0.084411211311817,-0.223174870014191,-0.196178331971169,0.107715286314487,0.018291184678674,0.471041589975357,-0.061761274933815,-0.118095807731152,0.175762444734573,0.028835387900472,-0.142798185348511,-0.111554525792599,0.019150085747242,-0.129065409302711,-0.040002360939980));
res += mul(Get(s0,-dx,dy), float4x4(-0.061635334044695,-0.148759394884109,-0.018479146063328,-0.258893847465515,0.100222386419773,0.012059654109180,-0.251965194940567,0.057135257869959,-0.011283029802144,0.097535833716393,0.103713460266590,-0.089596308767796,-0.139147415757179,-0.112721569836140,0.082156583666801,-0.099269710481167));
res += mul(Get(s0,0,-dy), float4x4(0.054832506924868,-0.031383205205202,-0.040407344698906,0.108191020786762,-0.239842936396599,-0.019330702722073,0.107929766178131,0.063624382019043,-0.285097956657410,0.251133918762207,0.194058030843735,-0.095215164124966,-0.354686528444290,-0.015297115780413,0.076094955205917,-0.046620137989521));
res += mul(Get(s0,0,0), float4x4(-0.358484596014023,-0.249671742320061,0.140221610665321,-0.195989638566971,-0.169798195362091,-0.048706438392401,-0.055002022534609,-0.019934605807066,0.021607114002109,-0.035344075411558,0.146627113223076,0.114247351884842,0.678108155727386,-0.160452336072922,0.784844636917114,-0.750964999198914));
res += mul(Get(s0,0,dy), float4x4(-0.210336595773697,-0.405923604965210,0.010786559432745,0.129219636321068,0.306348860263824,0.096347868442535,0.348785281181335,-0.257233649492264,0.206419125199318,0.174258813261986,0.191864266991615,0.381654560565948,0.042163547128439,0.233129173517227,-0.092269681394100,-0.011364613659680));
res += mul(Get(s0,dx,-dy), float4x4(-0.045256394892931,0.070739232003689,-0.017239462584257,-0.029109926894307,-0.085177138447762,0.091329544782639,0.004853379447013,-0.131918549537659,-0.108120404183865,0.187379285693169,-0.086710967123508,-0.080878525972366,-0.258711487054825,0.183944985270500,-0.106938958168030,0.002135023241863));
res += mul(Get(s0,dx,0), float4x4(-0.098823234438896,0.033729054033756,0.099441096186638,0.050389431416988,0.099798433482647,0.345790445804596,-0.184944137930870,-0.069360032677650,0.594019949436188,-0.206006079912186,-0.529945969581604,0.327157050371170,-0.170272484421730,0.202562123537064,-0.524525880813599,0.048674710094929));
res += mul(Get(s0,dx,dy), float4x4(-0.058139469474554,0.455226540565491,-0.151312842965126,0.105299621820450,0.116567686200142,-0.034555375576019,-0.083992511034012,-0.130068331956863,0.204107940196991,-0.242588132619858,0.017625318840146,0.150120168924332,-0.177763640880585,0.031737662851810,-0.046081051230431,0.114180125296116));
res += mul(Get(s1,-dx,-dy), float4x4(-0.027001671493053,0.042524538934231,-0.149660974740982,0.310233175754547,0.120094642043114,-0.153631865978241,-0.047484986484051,-0.011137795634568,-0.005174555350095,0.279959440231323,-0.215231552720070,-0.142408758401871,-0.075294353067875,0.025395642966032,0.009794521145523,-0.117535576224327));
res += mul(Get(s1,-dx,0), float4x4(-0.010593394748867,0.052928980439901,-0.244212582707405,0.327176988124847,0.055346876382828,-0.299528062343597,-0.005482893902808,-0.172697618603706,0.025327220559120,-0.155764341354370,-0.028691438958049,-0.222424075007439,-0.114505358040333,-0.040643777698278,0.108892858028412,-0.283422976732254));
res += mul(Get(s1,-dx,dy), float4x4(-0.091960661113262,0.156299829483032,-0.043010454624891,0.118214212357998,-0.033847466111183,0.074777849018574,0.192027419805527,0.018821051344275,-0.023723090067506,0.352447777986526,0.026168083772063,-0.161040231585503,-0.014892363920808,0.089708380401134,0.058477930724621,-0.092579327523708));
res += mul(Get(s1,0,-dy), float4x4(-0.087037838995457,0.188667371869087,0.288206338882446,-0.337765127420425,0.230373933911324,-0.000714021502063,-0.183591738343239,0.092143483459949,0.000311031413730,0.550876021385193,-0.199652671813965,0.014559096656740,-0.058434572070837,-0.195685893297195,0.488652616739273,-0.021109117195010));
res += mul(Get(s1,0,0), float4x4(0.033248595893383,-0.189988061785698,0.298276156187057,-0.056148286908865,-0.051709763705730,0.096773259341717,0.605917572975159,-0.231173589825630,-0.166160896420479,0.184560507535934,-0.065165035426617,0.085311822593212,-0.332377970218658,-0.095610208809376,-0.416615515947342,0.388628095388412));
res += mul(Get(s1,0,dy), float4x4(-0.055568121373653,0.121823333203793,-0.014395160600543,0.150636166334152,-0.082601457834244,0.236079260706902,0.161273762583733,-0.141790166497231,-0.041345812380314,0.212754935026169,0.018371328711510,-0.213734805583954,0.104403786361217,0.335446655750275,-0.115165539085865,0.020300148054957));
res += mul(Get(s1,dx,-dy), float4x4(0.185505434870720,-0.175858497619629,-0.121374838054180,-0.201055571436882,0.230787768959999,0.471791893243790,-0.221965849399567,0.040775086730719,0.005323357880116,0.238021075725555,-0.008741418831050,-0.035675413906574,0.007467470131814,0.087108694016933,0.105805359780788,-0.171698093414307));
res += mul(Get(s1,dx,0), float4x4(0.712988317012787,0.331145435571671,-0.304965436458588,0.116236262023449,-0.155243054032326,-0.069081671535969,0.189191266894341,-0.337130755186081,-0.038531046360731,0.007234499324113,-0.050167325884104,-0.018630014732480,0.549826145172119,-0.018822597339749,0.228666901588440,-0.199988469481468));
res += mul(Get(s1,dx,dy), float4x4(0.039224527776241,-0.057349007576704,-0.046293269842863,-0.063242264091969,0.032392855733633,-0.218298241496086,-0.301817536354065,-0.060627967119217,-0.023021699860692,0.157920166850090,0.042707629501820,-0.076824441552162,0.075299300253391,0.042636219412088,0.245972454547882,0.171524599194527));
res += mul(Get(s2,-dx,-dy), float4x4(0.021667020395398,0.181352943181992,-0.036807414144278,-0.031740818172693,-0.103678181767464,-0.080949142575264,0.066855408251286,-0.165935754776001,0.132284462451935,-0.003806926077232,0.015956019982696,-0.108191579580307,0.021441061049700,0.044714208692312,0.029114743694663,0.017437828704715));
res += mul(Get(s2,-dx,0), float4x4(0.155099689960480,-0.052328210324049,-0.256041705608368,0.154969155788422,-0.015977852046490,-0.112587422132492,-0.189507856965065,-0.211596667766571,0.128862872719765,-0.065276212990284,0.225200131535530,0.060740746557713,-0.072216562926769,0.021227436140180,0.192025139927864,0.002756781643257));
res += mul(Get(s2,-dx,dy), float4x4(0.047239903360605,0.173734232783318,-0.223841175436974,0.056148961186409,-0.080018430948257,-0.021092742681503,0.138056039810181,-0.155607938766479,0.078460834920406,0.005527105182409,-0.061311516910791,0.105109304189682,-0.026647316291928,-0.265405684709549,0.088043980300426,-0.024585470557213));
res += mul(Get(s2,0,-dy), float4x4(0.135376274585724,-0.240994498133659,-0.108636654913425,0.103175796568394,-0.024723637849092,-0.039188191294670,-0.142973735928535,0.129197508096695,-0.005145732313395,-0.268020957708359,0.241405397653580,-0.028734249994159,-0.010737850330770,-0.115753568708897,-0.074293717741966,-0.038316290825605));
res += mul(Get(s2,0,0), float4x4(0.197960138320923,-0.280840367078781,-0.220652386546135,0.207158312201500,-0.505054354667664,0.161417722702026,0.402734875679016,-0.447345077991486,-0.112195141613483,0.108906164765358,0.335129767656326,-0.272139757871628,0.171925306320190,-0.678571760654449,-0.032286345958710,0.335724830627441));
res += mul(Get(s2,0,dy), float4x4(0.041831538081169,0.054008178412914,-0.287039548158646,0.011360995471478,0.070085987448692,-0.076249323785305,-0.107708744704723,0.643271863460541,0.134593531489372,-0.178669899702072,0.096174657344818,-0.447779089212418,-0.023324435576797,-0.954633116722107,0.068573594093323,-0.036910150200129));
res += mul(Get(s2,dx,-dy), float4x4(0.153546914458275,-0.151515826582909,-0.078137069940567,0.002088425215334,0.013856649398804,0.158989161252975,-0.110961064696312,0.310185283422470,-0.011167120188475,-0.021422684192657,-0.069339588284492,0.185433417558670,0.013472187332809,0.014162645675242,0.038295041769743,0.022897630929947));
res += mul(Get(s2,dx,0), float4x4(0.021793158724904,-0.610160052776337,-0.271873205900192,-0.426044434309006,0.110500626266003,-0.142467856407166,-0.259323209524155,0.427601128816605,-0.297271609306335,0.025882471352816,0.112664885818958,0.209091961383820,0.037527553737164,-0.493285477161407,0.112536288797855,0.095807805657387));
res += mul(Get(s2,dx,dy), float4x4(0.131892681121826,-0.266494035720825,-0.159916281700134,-0.132563754916191,0.019580472260714,-0.066731192171574,-0.038406617939472,0.068426951766014,0.029579853639007,-0.008046684786677,0.142468243837357,-0.294668972492218,0.052970938384533,-0.710728168487549,0.079307571053505,-0.178283721208572));
res = max(float4(0, 0, 0, 0), res) + float4(0.785958409309387,0.012812061235309,0.597810447216034,0.093359157443047) * min(float4(0, 0, 0, 0), res);
return res;
}
