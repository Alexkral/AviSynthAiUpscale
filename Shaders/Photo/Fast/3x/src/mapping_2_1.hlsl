sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0197050664573908,-0.1416980475187302,-0.1409527659416199,-0.1164483129978180);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0355933867394924,-0.0921907424926758,-0.1151875033974648,-0.0035170563496649,0.0266682878136635,0.0194629374891520,0.0713430568575859,0.0864590555429459,0.0532896146178246,0.0218765400350094,0.0196592751890421,0.1048440635204315,0.0540171973407269,0.2569601237773895,-0.1357137709856033,-0.0120038548484445));
res += mul(Get(s1,-dx,-dy), float4x4(0.1643110513687134,0.1336247026920319,0.0970668643712997,-0.1146557331085205,-0.0769295245409012,-0.0764122605323792,0.1434554904699326,-0.2852617204189301,0.0003121519403066,0.1342512071132660,-0.0845716670155525,-0.1292204409837723,0.1065848693251610,0.0717454850673676,-0.2402877658605576,-0.0079987160861492));
res += mul(Get(s2,-dx,-dy), float4x4(0.0802727565169334,0.0529620051383972,0.0314033590257168,-0.0905632376670837,0.0175623130053282,0.1093081235885620,0.1102384403347969,-0.0438616536557674,-0.0155114438384771,0.0898296162486076,-0.0271097812801600,0.1211763098835945,-0.1259901225566864,-0.1016042754054070,0.2405133694410324,-0.0665786415338516));
res += mul(Get(s0,-dx,0), float4x4(-0.0957429409027100,0.0686748772859573,-0.0639036670327187,0.1732950061559677,-0.0665837377309799,0.0822626128792763,-0.0024039105046540,0.3207207620143890,-0.0830271616578102,-0.1997321993112564,0.1352697610855103,0.0220749173313379,0.0783224180340767,0.1365313678979874,-0.2990586161613464,-0.0530406050384045));
res += mul(Get(s1,-dx,0), float4x4(0.1997186392545700,0.0020512968767434,0.1608391553163528,0.1858521550893784,-0.2869739532470703,-0.0236914474517107,0.0800914019346237,0.5817836523056030,0.0301265548914671,-0.3224053978919983,0.0842507705092430,-0.1575707942247391,0.3659434020519257,0.1530098468065262,-0.0070036211982369,-0.3756271004676819));
res += mul(Get(s2,-dx,0), float4x4(0.0209229327738285,-0.0922996252775192,-0.0228984393179417,-0.0030900798738003,0.0086034620180726,0.0509148761630058,-0.0283433385193348,0.0731090903282166,0.0529083833098412,0.2750843465328217,-0.1628156155347824,0.0527694113552570,-0.1801020503044128,-0.0217535607516766,0.1412516087293625,-0.1250728964805603));
res += mul(Get(s0,-dx,dy), float4x4(-0.0132743492722511,-0.0326602831482887,-0.0888146534562111,-0.0004589148738887,-0.0263953041285276,0.0515074022114277,0.0166309792548418,0.0876414477825165,0.0407667495310307,-0.0923592224717140,-0.0135144703090191,-0.0409363955259323,-0.0230150762945414,0.0672008097171783,0.0911810919642448,0.0113449860364199));
res += mul(Get(s1,-dx,dy), float4x4(0.1828492730855942,-0.0066785449162126,0.2038447111845016,0.1173791289329529,-0.1237874180078506,-0.0274410899728537,0.0530783832073212,-0.1500903964042664,0.0263831168413162,-0.1216163039207458,-0.0287894457578659,-0.0201058164238930,0.0836280733346939,0.1229147613048553,-0.1110529601573944,0.0281238630414009));
res += mul(Get(s2,-dx,dy), float4x4(0.0260979291051626,-0.1074916869401932,-0.0177565086632967,-0.0062961992807686,-0.0108515294268727,-0.0190378818660975,0.0249941386282444,0.0503038465976715,-0.0212963521480560,0.0479044876992702,-0.0236387737095356,0.0420628190040588,-0.2516822814941406,-0.0705623403191566,0.2449436187744141,0.0414860136806965));
res += mul(Get(s0,0,-dy), float4x4(0.0114570297300816,0.1193275675177574,-0.0140199940651655,0.1366087198257446,0.0105686765164137,0.0909189507365227,0.1418344527482986,0.4537718594074249,-0.1897874623537064,0.0246786624193192,-0.0958735421299934,-0.1050076484680176,0.0996091663837433,-0.1309699416160583,-0.0184663329273462,0.0803193598985672));
res += mul(Get(s1,0,-dy), float4x4(0.2923732101917267,-0.0811819136142731,0.0046475394628942,-0.1539077460765839,-0.2737776935100555,0.0681433603167534,0.0156099954620004,-0.0947619453072548,0.2018325179815292,0.0912302434444427,-0.1365592181682587,0.2935974001884460,0.2505275011062622,-0.1175352558493614,-0.0068852556869388,0.1232406944036484));
res += mul(Get(s2,0,-dy), float4x4(0.0866982266306877,0.2352432906627655,-0.1219830960035324,0.0693733990192413,-0.0630609765648842,-0.0352309532463551,0.2170346677303314,0.4265432655811310,-0.1265517622232437,0.0229879878461361,0.1123538166284561,0.0037120727356523,-0.0145040862262249,0.0881333351135254,-0.0006633450393565,0.1112847253680229));
res += mul(Get(s0,0,0), float4x4(0.0410138964653015,0.3404552638530731,-0.1201633438467979,-0.1903035193681717,-0.0785055533051491,0.1624922007322311,0.0305995550006628,0.0644466131925583,0.1194564923644066,0.3972277045249939,0.0759303420782089,0.0585011057555676,0.0159597732126713,-0.1715216040611267,-0.0832479447126389,0.0504822321236134));
res += mul(Get(s1,0,0), float4x4(0.2221491932868958,-0.0742086321115494,0.3091801702976227,-0.0843103528022766,-0.2239712923765182,0.2257850170135498,-0.6382569670677185,0.0925391539931297,0.1482995003461838,0.6961165070533752,-0.3357117772102356,0.3298162519931793,0.1369865089654922,0.4923447370529175,0.5721559524536133,-0.3005335628986359));
res += mul(Get(s2,0,0), float4x4(-0.0048214872367680,0.0231339745223522,0.1844077706336975,-0.1132981330156326,-0.1485037803649902,-0.0058177597820759,0.1486719548702240,0.0939185619354248,-0.1025297269225121,0.2382199019193649,0.5937783718109131,0.1341712176799774,0.5935636758804321,0.4965339303016663,-0.1769430935382843,0.6124900579452515));
res += mul(Get(s0,0,dy), float4x4(0.0228873603045940,-0.0495229102671146,-0.0584129057824612,-0.0243500266224146,-0.0619093999266624,0.0639849975705147,0.0508700385689735,0.1957637071609497,-0.0059462194330990,0.0297800656408072,0.0013612731127068,-0.0955058634281158,0.0121155669912696,0.0607301257550716,0.1036492586135864,0.0262925103306770));
res += mul(Get(s1,0,dy), float4x4(0.2033848017454147,0.0411069765686989,-0.2086067050695419,-0.1490188390016556,0.0946829393506050,0.0656317993998528,-0.1780127882957458,-0.1130452081561089,-0.0492602325975895,-0.0324299335479736,-0.1949315667152405,0.1034409776329994,-0.0331715159118176,0.0433109924197197,0.1478999853134155,-0.0825502425432205));
res += mul(Get(s2,0,dy), float4x4(0.0418781042098999,-0.1132417246699333,0.0231340397149324,0.0082531971856952,0.0120586073026061,-0.0554371401667595,0.0987118333578110,-0.1617066413164139,-0.0788369327783585,-0.0754967704415321,0.0270341951400042,-0.0403467454016209,-0.3251274228096008,0.1547848135232925,0.2502394616603851,-0.2816660702228546));
res += mul(Get(s0,dx,-dy), float4x4(-0.0102765811607242,-0.0169775374233723,-0.2249448001384735,0.0666524916887283,0.0899204909801483,-0.0071447659283876,-0.0487754419445992,-0.0014920836547390,0.0605606995522976,-0.1150052323937416,-0.1429028362035751,0.1228127032518387,0.0646653845906258,-0.0739946365356445,-0.2675400674343109,0.2683364450931549));
res += mul(Get(s1,dx,-dy), float4x4(0.1811829656362534,-0.0031678702216595,0.0765989124774933,-0.0294265821576118,-0.0944407135248184,0.0481732003390789,0.0652954652905464,-0.1081242784857750,0.1761042028665543,0.0527628995478153,-0.2270169854164124,-0.0254306513816118,0.0766328722238541,-0.0531416051089764,-0.1025545522570610,-0.0675354152917862));
res += mul(Get(s2,dx,-dy), float4x4(0.0972197130322456,-0.0786943361163139,-0.1214771494269371,0.0200487747788429,-0.1609308272600174,0.0286517031490803,-0.1079931482672691,-0.0814440995454788,0.0316728577017784,-0.1225691735744476,0.0062637240625918,-0.0504425466060638,-0.0057983202859759,-0.0738210007548332,-0.1141326278448105,0.0167379379272461));
res += mul(Get(s0,dx,0), float4x4(0.0795632973313332,0.0412046015262604,0.4641235470771790,0.2094844728708267,-0.1154734417796135,0.2346129119396210,0.3386731743812561,0.0156704541295767,0.0247775092720985,0.1056805849075317,0.1446605473756790,-0.1059688553214073,0.0413382798433304,-0.1127209216356277,-0.0180667955428362,0.2531661689281464));
res += mul(Get(s1,dx,0), float4x4(0.1702941060066223,0.0129431253299117,0.0741275846958160,-0.1442262083292007,0.0429518483579159,0.0615353174507618,-0.1792435497045517,-0.2053112685680389,-0.1136124134063721,-0.2417882829904556,0.0205407924950123,-0.2084394991397858,-0.1603117138147354,0.1521958112716675,-1.6567704677581787,-0.0891850814223289));
res += mul(Get(s2,dx,0), float4x4(-0.0724320188164711,0.0521363168954849,-0.2226667106151581,-0.0016485766973346,-0.0289407707750797,0.0070102019235492,-0.7790316939353943,-0.2971145510673523,-0.1055840626358986,-0.2235841453075409,0.5690877437591553,-0.2079935371875763,-0.1176564320921898,-0.4484825432300568,0.0805407166481018,-0.1257338672876358));
res += mul(Get(s0,dx,dy), float4x4(-0.0396229326725006,-0.0323428586125374,0.1798650026321411,0.1010456904768944,-0.1694901287555695,0.0215025097131729,-0.0227059815078974,-0.1852204203605652,0.0217499751597643,0.0069235600531101,-0.0771090537309647,0.1122562810778618,-0.0129948128014803,0.1006703823804855,0.3960500061511993,-0.0379157811403275));
res += mul(Get(s1,dx,dy), float4x4(0.1782214194536209,-0.1123811826109886,-0.0333257839083672,-0.1474908888339996,-0.0589816384017467,0.1285232156515121,-0.2463528811931610,-0.0034086636733264,0.1088715046644211,0.0244301222264767,-0.0553198158740997,0.0519891120493412,0.0842057093977928,-0.2015659213066101,-0.3603373169898987,-0.2718769907951355));
res += mul(Get(s2,dx,dy), float4x4(0.0430147275328636,-0.0375904813408852,-0.4838905930519104,-0.1577482521533966,-0.0544121563434601,-0.0712370499968529,-0.3189173340797424,-0.0843832716345787,0.0074304179288447,-0.0364600531756878,0.0674601569771767,-0.0277563761919737,-0.1284066438674927,-0.2111369669437408,-0.1245130077004433,-0.2178738862276077));
res = max(float4(0, 0, 0, 0), res) + float4(2.6101827621459961,-0.0118706859648228,0.0632797330617905,0.5937054753303528) * min(float4(0, 0, 0, 0), res);
return res;
}
