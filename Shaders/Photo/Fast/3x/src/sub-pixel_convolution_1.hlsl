sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float3 res = float3(0.0812208354473114,0.0969006344676018,0.1062491536140442);
res += mul(Get(s0,-dx,-dy), float4x3(0.0110623510554433,0.0019024893408641,0.0057045230641961,-0.0030592631082982,-0.0018048031488433,0.0051419460214674,-0.0102772265672684,0.0032331920228899,-0.0025664437562227,-0.0116565478965640,0.0171376559883356,0.0192336849868298));
res += mul(Get(s1,-dx,-dy), float4x3(-0.0327205434441566,-0.0046696476638317,-0.0037913832347840,0.0073109841905534,-0.0074453549459577,-0.0043616155162454,0.0127272233366966,0.0257034152746201,0.0141791440546513,0.0247875414788723,-0.0324968844652176,-0.0366457179188728));
res += mul(Get(s2,-dx,-dy), float4x3(0.0067413141950965,-0.0105383414775133,-0.0013575584162027,0.0309430211782455,-0.0271842479705811,-0.0069031016901135,0.0093698026612401,-0.0001979835506063,-0.0033923562150449,-0.0115404352545738,-0.0206312853842974,-0.0161692332476377));
res += mul(Get(s0,-dx,0), float4x3(-0.0172608289867640,0.0270279720425606,0.0416870564222336,-0.0209997911006212,0.0126885799691081,0.0341249294579029,0.0092594670131803,-0.0171590521931648,-0.0357350371778011,0.0482435747981071,-0.0024960730224848,-0.0378566049039364));
res += mul(Get(s1,-dx,0), float4x3(0.0852605104446411,0.0170141533017159,-0.0374707952141762,0.0032427913974971,0.0068373922258615,0.0192488469183445,-0.0190092790871859,-0.0327708385884762,-0.0163935832679272,0.0614581219851971,0.0870819762349129,0.0602776221930981));
res += mul(Get(s2,-dx,0), float4x3(0.0707157179713249,0.0788433700799942,0.0336083099246025,-0.1410140395164490,0.0067135030403733,0.1270212382078171,0.0058317976072431,0.0098127964884043,0.0151536120101810,0.0403604470193386,0.0278585329651833,0.0179970171302557));
res += mul(Get(s0,-dx,dy), float4x3(-0.0014257787261158,-0.0119521394371986,0.0098988600075245,-0.0099610332399607,-0.0034229422453791,0.0038635272067040,0.0081397090107203,0.0030220928601921,-0.0033996112179011,-0.0111780958250165,-0.0463949628174305,0.0054505490697920));
res += mul(Get(s1,-dx,dy), float4x3(-0.0065971994772553,0.0004971898160875,-0.0108176507055759,-0.0049629271961749,0.0048166471533477,0.0097748823463917,-0.0061058932915330,0.0066322986967862,0.0135886641219258,0.0043011936359107,0.0085959844291210,0.0405782684683800));
res += mul(Get(s2,-dx,dy), float4x3(-0.0023989696055651,0.0060971518978477,0.0535809285938740,0.0180449131876230,0.0296509359031916,-0.0133346505463123,0.0036367140710354,0.0013775357510895,0.0042251283302903,-0.0051140100695193,-0.0081018432974815,-0.0021737064234912));
res += mul(Get(s0,0,-dy), float4x3(0.0305000040680170,-0.0038492442108691,-0.0163009911775589,0.0292272735387087,0.0667844414710999,0.0400979407131672,0.1489523947238922,-0.0850414559245110,-0.0644631385803223,-0.0081655746325850,0.0236457400023937,0.0158205386251211));
res += mul(Get(s1,0,-dy), float4x3(0.0173648111522198,0.0522334948182106,0.0395927838981152,-0.0975667163729668,0.0282456986606121,0.0278097055852413,0.0057320967316628,-0.0209010094404221,-0.0148381674662232,-0.0188604369759560,-0.0536069385707378,-0.0285578072071075));
res += mul(Get(s2,0,-dy), float4x3(-0.0559482648968697,-0.0142669742926955,-0.0121998814865947,-0.0211040563881397,-0.0242052096873522,-0.0097319362685084,-0.0244389362633228,-0.0050767362117767,0.0049337930977345,0.0791542977094650,-0.0278310589492321,-0.0352466590702534));
res += mul(Get(s0,0,0), float4x3(0.1856399923563004,0.3058077692985535,0.4132713377475739,0.3110176324844360,0.4371567964553833,0.4753876328468323,0.0217944607138634,0.1027314066886902,0.4027792215347290,0.1388433575630188,-0.0646439343690872,-0.1003417521715164));
res += mul(Get(s1,0,0), float4x3(0.1602151840925217,-0.2086469829082489,-0.1374742388725281,0.0579625405371189,-0.0204957704991102,-0.1591126471757889,-0.6708130836486816,-0.6152952909469604,-0.4973812401294708,-0.0270563885569572,0.1658318489789963,-0.0407191254198551));
res += mul(Get(s2,0,0), float4x3(-0.2165623158216476,-0.2708696424961090,-0.2028916329145432,-0.1128753125667572,0.0327678993344307,0.1008846461772919,-0.0740007460117340,-0.1006397455930710,-0.0850725620985031,0.2524323463439941,0.2736271917819977,0.3611331582069397));
res += mul(Get(s0,0,dy), float4x3(-0.0059171551838517,-0.0035657885018736,0.0055691823363304,0.0254183150827885,0.0169869456440210,0.0019716101232916,0.0354125872254372,0.0481532849371433,-0.0398665070533752,-0.0105100013315678,-0.0524237491190434,0.0914482474327087));
res += mul(Get(s1,0,dy), float4x3(-0.0071397125720978,0.0362811274826527,-0.0192074775695801,-0.0104239536449313,-0.0080263968557119,0.0152315013110638,0.0182497333735228,0.0159868635237217,-0.0181731712073088,0.0054775876924396,-0.0540515407919884,-0.0387083142995834));
res += mul(Get(s2,0,dy), float4x3(-0.0011978044640273,-0.0000150934656631,-0.0469544194638729,0.0252460408955812,0.0277956984937191,0.0355625189840794,-0.0010521635413170,0.0005957146058790,-0.0138060227036476,-0.0050179380923510,0.0042226728983223,0.0156622827053070));
res += mul(Get(s0,dx,-dy), float4x3(-0.0188044924288988,-0.0106219612061977,-0.0059616537764668,0.0081580337136984,-0.0028667845763266,-0.0067230230197310,-0.0139215718954802,0.0151444869115949,0.0106355072930455,-0.0054132300429046,0.0009561727638356,0.0057696257717907));
res += mul(Get(s1,dx,-dy), float4x3(-0.0040417062118649,0.0105003984645009,0.0053152446635067,0.0121194105595350,0.0087783243507147,0.0043285647407174,0.0082149747759104,0.0058944807387888,0.0027483608573675,0.0122020160779357,0.0074194786138833,0.0037925241049379));
res += mul(Get(s2,dx,-dy), float4x3(0.0059237559325993,0.0090598491951823,0.0074027902446687,0.0171102881431580,-0.0046785557642579,-0.0077912760898471,-0.0004301215230953,-0.0048307953402400,-0.0010650621261448,-0.0047858627513051,-0.0072340928018093,-0.0073797884397209));
res += mul(Get(s0,dx,0), float4x3(-0.0106354840099812,-0.0172842759639025,-0.0201095640659332,0.0150359049439430,0.0068752570077777,0.0195587258785963,0.0144241973757744,-0.0020444667898118,-0.0208274777978659,-0.0033943306189030,0.0153582161292434,0.0041753267869353));
res += mul(Get(s1,dx,0), float4x3(0.0485557615756989,0.0407840721309185,0.0372931547462940,-0.0014916402287781,0.0009081533062272,0.0121573461219668,0.0098877931013703,0.0133076170459390,0.0072876266203821,-0.0279328413307667,-0.0235950946807861,-0.0318968929350376));
res += mul(Get(s2,dx,0), float4x3(0.0117682889103889,0.0200122166424990,0.0160696897655725,-0.0248061716556549,-0.0065932660363615,0.0108724907040596,0.0310314092785120,0.0323690809309483,0.0154424021020532,0.0205537695437670,0.0265307687222958,0.0155797870829701));
res += mul(Get(s0,dx,dy), float4x3(0.0029828432016075,0.0061112293042243,0.0054266438819468,0.0037071332335472,0.0054917181842029,0.0045226528309286,0.0044802306219935,-0.0021131937392056,-0.0066386475227773,-0.0133812045678496,-0.0025815954431891,-0.0080670528113842));
res += mul(Get(s1,dx,dy), float4x3(0.0022249568719417,0.0009498689905740,-0.0014868498547003,0.0015953708207235,0.0055432426743209,0.0083328019827604,-0.0014949315227568,-0.0061607412062585,-0.0001075301697711,0.0002886091242544,-0.0000741057665437,0.0040342188440263));
res += mul(Get(s2,dx,dy), float4x3(0.0010225879959762,0.0008094168151729,0.0014024309348315,-0.0002488299505785,0.0019903599750251,-0.0063178744167089,-0.0041731977835298,-0.0005782886291854,0.0152620784938335,0.0010695838136598,-0.0023503790143877,0.0013983596581966));
return float4(res, 0);
}
