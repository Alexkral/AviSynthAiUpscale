sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.180856928229332,0.252451777458191,0.051950760185719,0.131304785609245);
res += mul(Get(s0,-dx,-dy), float4x4(0.048709899187088,0.013747762888670,-0.009840060025454,-0.060768656432629,0.161507770419121,-0.205442205071449,0.018261944875121,-0.018965484574437,0.309983015060425,0.108877472579479,-0.034923881292343,-0.015581241808832,0.193892017006874,-0.017689950764179,-0.113229192793369,-0.016420474275947));
res += mul(Get(s0,-dx,0), float4x4(0.316315263509750,-0.268814086914063,0.077200986444950,-0.084905661642551,-0.058147203177214,-0.010908946394920,-0.408409982919693,0.179823145270348,-0.202041685581207,-0.133488774299622,0.131735026836395,-0.001316715381108,-0.101154513657093,0.165297865867615,0.224538609385490,0.303195685148239));
res += mul(Get(s0,-dx,dy), float4x4(0.176875099539757,-0.044494122266769,0.105480492115021,-0.181573465466499,0.014287776313722,-0.048137988895178,0.118321381509304,0.102118067443371,-0.018056448549032,0.023105729371309,-0.047596763819456,-0.058520603924990,0.045215707272291,0.042642202228308,-0.028242986649275,-0.349102914333344));
res += mul(Get(s0,0,-dy), float4x4(-0.037609297782183,-0.000415882037487,0.142742171883583,-0.139925613999367,-0.270276755094528,0.275898545980453,0.020533559843898,0.080783918499947,0.213316828012466,0.054661985486746,0.102837875485420,0.248916596174240,0.006436078343540,-0.246051222085953,0.140196859836578,0.009385132230818));
res += mul(Get(s0,0,0), float4x4(-0.133523404598236,0.555921435356140,-0.137030839920044,-0.226945042610168,-0.048557709902525,0.058461282402277,0.034192647784948,-0.048750448971987,-0.180263042449951,0.575440466403961,-0.328508228063583,-0.301380187273026,-0.107985630631447,-0.659880995750427,-0.049679011106491,0.502214670181274));
res += mul(Get(s0,0,dy), float4x4(0.286208808422089,0.010290926322341,0.045899853110313,0.103627011179924,0.108180254697800,0.094806924462318,0.293278664350510,0.509106218814850,-0.043861843645573,0.044141523540020,0.338266879320145,0.452886372804642,0.102406464517117,0.006498947273940,-0.141673609614372,-0.587871849536896));
res += mul(Get(s0,dx,-dy), float4x4(-0.016842149198055,0.075716093182564,0.125420883297920,0.117612339556217,0.132517427206039,0.236864238977432,-0.033706951886415,0.024978013709188,-0.377951055765152,-0.196090251207352,-0.027878636494279,0.085712753236294,0.170526787638664,0.121258154511452,0.017348052933812,0.039702799171209));
res += mul(Get(s0,dx,0), float4x4(0.076227642595768,-0.019777936860919,0.115382023155689,-0.123018570244312,0.099560499191284,-0.011890040710568,0.021980583667755,-0.157308369874954,-0.087541975080967,-0.228508576750755,0.212083712220192,0.075077280402184,0.102477304637432,0.100010916590691,-0.482623875141144,0.117135584354401));
res += mul(Get(s0,dx,dy), float4x4(0.057974688708782,0.036688841879368,0.043558381497860,-0.098953858017921,-0.194020017981529,0.092295698821545,-0.226409986615181,0.113071158528328,0.069695226848125,-0.095950648188591,-0.291468322277069,-0.177161961793900,0.105266667902470,-0.129585832357407,0.160132572054863,-0.079264782369137));
res += mul(Get(s1,-dx,-dy), float4x4(0.062445327639580,0.250338494777679,0.055474072694778,0.002020641462877,0.085873454809189,-0.029008584097028,-0.045503612607718,0.152640238404274,-0.312405258417130,0.273180931806564,-0.183461040258408,0.049057129770517,0.224936455488205,0.179447174072266,-0.059492200613022,0.172054231166840));
res += mul(Get(s1,-dx,0), float4x4(-0.074796840548515,0.248853668570518,-0.024651704356074,0.072895027697086,0.257289350032806,-0.118389144539833,0.015370449982584,0.115611299872398,-0.349925905466080,-0.260836780071259,-0.138341873884201,0.156302049756050,-0.124171957373619,-0.245628938078880,0.207651391625404,-0.025627836585045));
res += mul(Get(s1,-dx,dy), float4x4(0.016010971739888,0.093740321695805,-0.111360296607018,-0.161286145448685,0.137896418571472,-0.093237854540348,0.041655112057924,0.076123476028442,0.058938898146152,0.048412654548883,-0.153819069266319,0.180532217025757,-0.210398510098457,0.012794031761587,-0.187865987420082,-0.286798566579819));
res += mul(Get(s1,0,-dy), float4x4(-0.016598654910922,0.282150089740753,-0.224368646740913,0.119782999157906,0.228995159268379,-0.176510959863663,0.226471468806267,-0.113145649433136,-0.274192869663239,0.052592676132917,-0.218333318829536,0.019780188798904,-0.021492408588529,0.091789506375790,-0.018361628055573,0.261754900217056));
res += mul(Get(s1,0,0), float4x4(0.358801394701004,0.263990581035614,-0.352366238832474,-0.271869689226151,0.104686684906483,-0.000813329941593,0.030953131616116,0.015297563746572,-0.501269578933716,0.037318013608456,-0.322875291109085,0.070982120931149,-0.282646238803864,0.235603749752045,-0.088686533272266,-0.587116658687592));
res += mul(Get(s1,0,dy), float4x4(-0.294987022876740,0.218817666172981,0.167816370725632,0.217514425516129,-0.042405504733324,-0.026544058695436,-0.192993178963661,0.075449764728546,-0.107799530029297,0.100660607218742,-0.069242268800735,0.104422293603420,0.097662374377251,-0.042944598942995,-0.152971744537354,-0.025744576007128));
res += mul(Get(s1,dx,-dy), float4x4(-0.279938489198685,-0.070410184562206,0.036305982619524,0.210765898227692,-0.129130840301514,-0.042586266994476,0.126934975385666,-0.040651697665453,-0.146755173802376,0.005745051894337,-0.106905840337276,0.017988948151469,-0.077949270606041,0.082541979849339,-0.270708888769150,0.095567882061005));
res += mul(Get(s1,dx,0), float4x4(0.174923628568649,-0.147486314177513,0.212666571140289,-0.072060503065586,-0.282687634229660,-0.058969199657440,-0.148238539695740,0.100813470780849,-0.329702794551849,-0.009955115616322,-0.182533949613571,0.049167644232512,0.076045818626881,-0.308564215898514,0.209958434104919,0.051813993602991));
res += mul(Get(s1,dx,dy), float4x4(0.040815792977810,0.157694548368454,-0.008241379633546,-0.252760946750641,0.010012956336141,0.103160135447979,0.341877073049545,0.162276610732079,-0.151042252779007,-0.034131892025471,-0.238483980298042,0.032768882811069,-0.017412750050426,-0.266101121902466,-0.036915082484484,-0.164673328399658));
res += mul(Get(s2,-dx,-dy), float4x4(-0.028543461114168,-0.209155887365341,-0.088710039854050,0.025606624782085,0.013069888576865,-0.069247208535671,-0.359246850013733,-0.059006556868553,-0.061176162213087,0.335224866867065,-0.019862929359078,0.029694477096200,0.124900095164776,-0.040167398750782,0.129131436347961,-0.000500887457747));
res += mul(Get(s2,-dx,0), float4x4(0.096500627696514,-0.104124568402767,-0.023853484541178,-0.035305578261614,-0.132065042853355,0.097793065011501,0.104836575686932,-0.113108448684216,-0.078893013298512,-0.171277672052383,0.111734561622143,0.280180692672729,0.068031772971153,-0.073485977947712,0.150023162364960,0.013768803328276));
res += mul(Get(s2,-dx,dy), float4x4(-0.040317926555872,-0.041782826185226,-0.011227131821215,0.089280359447002,-0.013058488257229,-0.004708054009825,0.165301322937012,-0.025870870798826,0.042967636138201,0.092846222221851,0.167275428771973,0.146563261747360,0.154802322387695,-0.061596229672432,0.062454290688038,-0.102601483464241));
res += mul(Get(s2,0,-dy), float4x4(0.042101833969355,-0.738129734992981,-0.200947463512421,-0.034406498074532,0.127255871891975,-0.093206346035004,0.297128349542618,-0.165830224752426,-0.079854354262352,-0.373979985713959,-0.196203306317329,-0.053243197500706,0.024624926969409,0.021498542279005,0.177117422223091,0.016782915219665));
res += mul(Get(s2,0,0), float4x4(0.088929116725922,-0.481659054756165,0.130973532795906,0.137526720762253,0.138299599289894,-0.146176010370255,-0.177399992942810,-0.351169258356094,-0.016854526475072,-0.232946246862411,-0.512204468250275,-0.122487083077431,0.348406404256821,-0.296510159969330,0.003344964934513,0.023659305647016));
res += mul(Get(s2,0,dy), float4x4(-0.061493735760450,-0.076064400374889,0.020686283707619,-0.098635748028755,0.031851682811975,-0.040587250143290,-0.083517841994762,-0.185140475630760,-0.083367213606834,0.072540715336800,0.026204515248537,0.159295216202736,0.054280515760183,0.038815427571535,0.252384871244431,-0.054871827363968));
res += mul(Get(s2,dx,-dy), float4x4(-0.489638149738312,-0.077973805367947,0.106063060462475,0.064383342862129,-0.249019205570221,-0.071446508169174,0.180608287453651,0.022554537281394,0.470571279525757,0.197092622518539,-0.017068797722459,-0.180990457534790,0.106874942779541,0.039078943431377,0.061525985598564,-0.042898114770651));
res += mul(Get(s2,dx,0), float4x4(-1.189757347106934,0.073676250874996,0.255046010017395,0.024116968736053,0.040598101913929,-0.097032584249973,-0.134083211421967,0.009081918746233,0.042943164706230,0.145762652158737,-0.270425528287888,0.270257741212845,-0.003708973759785,-0.070030666887760,0.264325469732285,-0.014634300023317));
res += mul(Get(s2,dx,dy), float4x4(-0.378507524728775,0.002545485273004,-0.188532739877701,-0.357548207044601,-0.070680260658264,-0.006764668971300,-0.027169434353709,-0.092065699398518,0.347674071788788,0.098253130912781,0.444533556699753,0.294353544712067,0.243160486221313,0.052317589521408,-0.015088153071702,0.200302988290787));
res = max(float4(0, 0, 0, 0), res) + float4(0.028715301305056,-0.105430640280247,-0.315348029136658,-0.128129944205284) * min(float4(0, 0, 0, 0), res);
return res;
}
