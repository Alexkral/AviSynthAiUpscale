sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.1519375145435333,0.0330754406750202,0.1003228053450584,-0.0137384328991175);
res += mul(Get(s0,-dx,-dy), float4x4(0.0938930734992027,0.0020026308484375,0.0335732996463776,0.0130331087857485,-0.0480800308287144,-0.0015896109398454,-0.0328854396939278,-0.0620037689805031,0.0239182636141777,0.0754391700029373,0.1115920096635818,0.0385494455695152,-0.0600945316255093,0.0333298891782761,-0.1132218465209007,-0.1293849498033524));
res += mul(Get(s1,-dx,-dy), float4x4(0.0994456261396408,-0.0620299726724625,0.1503198295831680,0.2411577850580215,0.1575755029916763,0.2479840815067291,0.1838143020868301,0.0881441235542297,0.0025269808247685,-0.0082266721874475,0.0203301534056664,0.0264303497970104,0.0319652743637562,-0.2829631567001343,-0.0111809233203530,0.0067917895503342));
res += mul(Get(s2,-dx,-dy), float4x4(0.1090015321969986,0.2057519406080246,0.1733402013778687,0.0629986524581909,0.0200338773429394,0.0116310231387615,0.0253981389105320,-0.0414475649595261,0.0854241400957108,-0.0642787590622902,0.0437483303248882,-0.1293554753065109,0.0367769822478294,0.1080211549997330,-0.0276078488677740,0.0772543549537659));
res += mul(Get(s0,-dx,0), float4x4(-0.0376890338957310,0.0589605197310448,0.0052157482132316,0.0407339110970497,-0.3317181468009949,-0.0503599718213081,-0.0063287154771388,-0.0322932749986649,0.1308812052011490,-0.0629142001271248,0.0496666505932808,0.0299522615969181,-0.3094968199729919,-0.0167655386030674,-0.2500388026237488,-0.0460786931216717));
res += mul(Get(s1,-dx,0), float4x4(-0.2040650248527527,-0.0578958392143250,0.2054578363895416,0.3969909548759460,-0.1866720914840698,-0.2279241383075714,0.2432758510112762,0.5315138101577759,0.4544019103050232,0.1032502204179764,0.1395525336265564,0.1291969269514084,-0.1411931812763214,0.2190094888210297,-0.0203678924590349,0.0679488480091095));
res += mul(Get(s2,-dx,0), float4x4(-0.0501278601586819,-0.0777657181024551,0.0223246905952692,-0.0806455761194229,0.0520589463412762,0.1100581139326096,0.0592498332262039,-0.0619363337755203,-0.2756070494651794,0.0199396312236786,-0.1651243269443512,0.0157695580273867,0.0919293910264969,-0.0706966444849968,0.0713000074028969,-0.0355640463531017));
res += mul(Get(s0,-dx,dy), float4x4(-0.0122408857569098,0.0264745950698853,0.0254345145076513,0.0588350482285023,-0.2648990452289581,-0.0101087959483266,0.0187642890959978,-0.0653020739555359,0.0669149979948997,-0.0453890189528465,-0.0537945814430714,-0.1064249128103256,0.0396464653313160,0.0251049734652042,-0.0158228781074286,-0.1325053274631500));
res += mul(Get(s1,-dx,dy), float4x4(0.0247409101575613,-0.0352858044207096,0.0616389997303486,0.2598098218441010,-0.1715962439775467,0.0473746135830879,0.1680451482534409,-0.0334040485322475,0.0362647287547588,-0.1615910977125168,0.0057010618038476,-0.0191919207572937,-0.2251895815134048,-0.1148809567093849,-0.1174894422292709,-0.0480501390993595));
res += mul(Get(s2,-dx,dy), float4x4(0.2230987250804901,-0.0232615265995264,0.1378545165061951,0.0454278178513050,0.0132214594632387,0.0373144708573818,-0.0117618991062045,-0.0663048475980759,0.0302581191062927,0.0460615903139114,0.0250085182487965,0.0389423407614231,0.0353512763977051,-0.2124788165092468,0.0033913131337613,-0.2357439696788788));
res += mul(Get(s0,0,-dy), float4x4(0.0049089202657342,0.0498939864337444,0.0625018179416656,0.0569535829126835,-0.3002407550811768,-0.1692478060722351,-0.1373013854026794,-0.1043008640408516,0.1042627319693565,-0.2170441448688507,-0.0516079664230347,-0.1551981121301651,0.0420162007212639,0.0188469961285591,-0.0201044827699661,-0.2719230651855469));
res += mul(Get(s1,0,-dy), float4x4(0.1641429960727692,-0.1794252544641495,0.1893230378627777,0.2812714576721191,0.0466953665018082,0.4455479979515076,0.3439499139785767,-0.1741091310977936,-0.1792433559894562,-0.4699356853961945,0.0859091579914093,-0.2045232653617859,0.0656511411070824,-0.3517561256885529,-0.1695531159639359,0.1765831112861633));
res += mul(Get(s2,0,-dy), float4x4(0.1109574735164642,-0.4375617802143097,0.1541267186403275,-0.2347083836793900,0.0357716381549835,0.2386059910058975,0.0604499876499176,0.1238220781087875,-0.0337530337274075,-0.0092751262709498,-0.0041397917084396,0.1113536655902863,-0.0373108983039856,0.0001188539099530,0.0801065117120743,-0.0559834912419319));
res += mul(Get(s0,0,0), float4x4(-0.1755260378122330,-0.1761417537927628,0.0666677802801132,-0.0970658063888550,-0.7476532459259033,0.1232393756508827,-0.2149293124675751,-0.5176920890808105,-0.4198782145977020,0.0511960797011852,-0.2703481018543243,0.1678016036748886,0.2672391235828400,-0.2513942718505859,-0.2683312296867371,-0.1054666787385941));
res += mul(Get(s1,0,0), float4x4(0.4652622938156128,-0.0541974604129791,0.0692878589034081,0.4370523691177368,-0.5411205887794495,-0.5653685927391052,-0.3463185429573059,0.4554266333580017,-0.1693495810031891,0.6755303144454956,0.0028713992796838,-0.1167926564812660,0.1678742617368698,0.6203845143318176,0.5977972149848938,-0.1239965856075287));
res += mul(Get(s2,0,0), float4x4(-0.0645907670259476,0.4320976138114929,0.3868288099765778,0.5418270230293274,-0.3210930228233337,-0.0937106907367706,0.1790414452552795,-0.1521781831979752,-0.0075970068573952,0.2494101077318192,0.1899964660406113,0.2719433605670929,-0.2287964522838593,-0.4488340318202972,-0.1546988785266876,-0.5891396999359131));
res += mul(Get(s0,0,dy), float4x4(0.0347592718899250,-0.0849128216505051,-0.0873528495430946,0.0882669985294342,-0.4300813972949982,0.0245833490043879,-0.0514561310410500,-0.0921804681420326,0.1289204806089401,0.0972107574343681,0.0394584201276302,0.0593050867319107,-0.0247763730585575,0.0106776952743530,-0.0530470162630081,0.0737323611974716));
res += mul(Get(s1,0,dy), float4x4(0.0171776991337538,-0.0647977739572525,0.0806551650166512,0.3892868757247925,-0.3178811967372894,0.1310648173093796,-0.0967790931463242,0.0364824011921883,-0.0417155884206295,-0.3699335753917694,-0.0651888325810432,-0.0778545439243317,-0.1243136525154114,-0.2973024547100067,0.0214982647448778,0.1110453084111214));
res += mul(Get(s2,0,dy), float4x4(-0.0076251383870840,-0.0513467974960804,0.0155936107039452,-0.0647321492433548,0.0155637869611382,0.0103514399379492,0.0209889598190784,0.0369818806648254,0.2075928151607513,0.0047964239493012,0.1875252872705460,-0.0351945832371712,-0.3299930691719055,0.3250490427017212,0.0438947975635529,0.1164541393518448));
res += mul(Get(s0,dx,-dy), float4x4(0.0060611125081778,-0.0154653880745173,0.0221477281302214,-0.0043123280629516,-0.0090616829693317,-0.1874419450759888,-0.1861660629510880,-0.0194237139075994,-0.0923679172992706,-0.1842367798089981,-0.0081521701067686,0.0402565114200115,-0.3141988515853882,-0.2423699200153351,0.0777489021420479,0.0561609230935574));
res += mul(Get(s1,dx,-dy), float4x4(0.2289852350950241,-0.0187599100172520,0.0693862289190292,0.1921220719814301,0.0794991254806519,0.0764306336641312,0.0357606001198292,-0.0259525291621685,-0.1066542118787766,-0.1907651424407959,-0.3055593371391296,0.0402545705437660,0.0616541728377342,-0.0355258546769619,-0.1617937535047531,-0.1027277782559395));
res += mul(Get(s2,dx,-dy), float4x4(-0.0412291921675205,-0.1163934022188187,-0.2920700311660767,-0.1778937727212906,-0.0236888900399208,0.1516911983489990,-0.2270144969224930,-0.0972167626023293,0.0129746412858367,0.0827453434467316,0.0181116517633200,0.0915423259139061,0.1141070500016212,-0.0143129844218493,-0.0386288315057755,-0.0996348410844803));
res += mul(Get(s0,dx,0), float4x4(-0.0805176943540573,-0.0311030019074678,-0.0189839005470276,-0.1963223218917847,-0.0855328813195229,0.3312524557113647,0.0535687133669853,-0.2816087007522583,0.1188272535800934,0.0689956471323967,-0.0408526472747326,-0.0388876087963581,-0.0260173175483942,-0.0628708526492119,0.0830902829766273,0.0068340045399964));
res += mul(Get(s1,dx,0), float4x4(0.2722963988780975,-0.0829734206199646,0.0882091745734215,0.3656315803527832,0.0149515746161342,-0.0187253821641207,-0.2057446539402008,-0.2131009250879288,0.4643108248710632,0.2561313509941101,0.3543176054954529,-0.0976749807596207,-0.0658825188875198,0.0468366891145706,0.2551212012767792,0.2757523059844971));
res += mul(Get(s2,dx,0), float4x4(0.0309949833899736,0.1026087701320648,-0.0286845639348030,0.0031918634194881,0.1171254664659500,0.0864588245749474,-0.1501936912536621,0.0918298885226250,0.1064220964908600,0.0805715918540955,0.0191965568810701,-0.1446973085403442,0.1568870842456818,-0.0171214602887630,0.1607921719551086,0.1214973777532578));
res += mul(Get(s0,dx,dy), float4x4(-0.0046607502736151,0.0418500490486622,-0.0648550987243652,0.0069822017103434,-0.1479626148939133,0.0534973777830601,-0.0122786229476333,-0.2229129672050476,-0.0085404925048351,0.0329840108752251,0.1160251200199127,-0.0121087422594428,0.0062396586872637,0.0784658715128899,0.0164931863546371,0.0526672862470150));
res += mul(Get(s1,dx,dy), float4x4(0.1537440419197083,-0.1595074981451035,-0.0320064984261990,0.1517302393913269,-0.0293211080133915,0.0853559151291847,0.0580870322883129,-0.0725223869085312,0.0553516522049904,0.0170063171535730,-0.0897552520036697,-0.0476985126733780,0.1482654511928558,-0.1348073631525040,-0.0953786820173264,0.0966946482658386));
res += mul(Get(s2,dx,dy), float4x4(-0.1730132997035980,-0.0187558997422457,-0.1276649236679077,-0.0970216840505600,0.0083067081868649,0.0646267607808113,0.0299470499157906,-0.0078621134161949,-0.0265398211777210,0.0244417563080788,-0.0694036409258842,0.0228074863553047,0.4801365733146667,-0.1232732161879539,0.1898669004440308,-0.4920597672462463));
res = max(float4(0, 0, 0, 0), res) + float4(0.2394319176673889,-0.1544921547174454,-0.0495199151337147,0.0755656063556671) * min(float4(0, 0, 0, 0), res);
return res;
}
