sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.042253021150827,-0.171874567866325,0.010603309608996,-0.066115953028202);
res += mul(Get(s0,-dx,-dy), float4x4(0.053842369467020,-0.059252433478832,-0.145003810524940,-0.079716697335243,0.112225614488125,-0.113806828856468,-0.174844935536385,-0.205571278929710,0.073396109044552,-0.052799720317125,0.173096030950546,-0.049333672970533,-0.042134352028370,0.031996779143810,-0.063398577272892,0.017862251028419));
res += mul(Get(s0,-dx,0), float4x4(0.497370392084122,0.251693427562714,0.283234864473343,-0.432241797447205,0.323116391897202,0.349409610033035,0.127421274781227,-0.485279113054276,0.300970375537872,0.020958611741662,0.226727649569511,0.076993055641651,0.183171182870865,0.083526223897934,-0.171677127480507,0.038531221449375));
res += mul(Get(s0,-dx,dy), float4x4(-0.057723741978407,-0.148872420191765,-0.011388474144042,0.107861466705799,-0.285637617111206,0.045634645968676,0.042714089155197,0.324770480394363,0.116726763546467,-0.163443341851234,-0.599296033382416,-0.090851686894894,0.080941878259182,0.182496637105942,0.202036887407303,-0.035009425133467));
res += mul(Get(s0,0,-dy), float4x4(0.094634100794792,-0.052404303103685,-0.072158001363277,-0.054394774138927,0.167459875345230,-0.011942996643484,-0.078133851289749,-0.160025283694267,-0.163864210247993,-0.112955830991268,0.292618602514267,-0.058887988328934,0.108335308730602,-0.071129135787487,-0.056766569614410,0.020197739824653));
res += mul(Get(s0,0,0), float4x4(-0.098944574594498,-0.336908549070358,0.129099592566490,0.117581851780415,-0.459124922752380,-0.598773241043091,0.065352357923985,0.294907718896866,0.003957785200328,-0.379237800836563,0.321592062711716,0.252269923686981,-0.089348375797272,-0.158055409789085,-0.021628834307194,-0.213280454277992));
res += mul(Get(s0,0,dy), float4x4(0.223982766270638,0.228326126933098,-0.136573269963264,-0.042573813349009,0.031835507601500,0.220744550228119,-0.362865328788757,0.291790634393692,-0.044120144098997,-0.023439152166247,-0.407377272844315,-0.148055747151375,-0.313022285699844,-0.014446565881371,-0.049148116260767,-0.114756949245930));
res += mul(Get(s0,dx,-dy), float4x4(-0.043529141694307,-0.026153907179832,0.105339199304581,-0.259051114320755,0.083581209182739,-0.088633254170418,0.078510232269764,0.331145524978638,-0.063442759215832,0.076029650866985,-0.001938052941114,-0.016993917524815,0.001191781484522,-0.098101057112217,-0.021790694445372,-0.038939006626606));
res += mul(Get(s0,dx,0), float4x4(-0.217785790562630,0.138417750597000,-0.221098005771637,0.251524955034256,0.108201645314693,0.315184265375137,-0.084951378405094,-0.138608917593956,-0.078375920653343,0.029937347397208,-0.175226777791977,0.050962023437023,-0.044628966599703,-0.388420790433884,0.079229153692722,-0.169587627053261));
res += mul(Get(s0,dx,dy), float4x4(-0.160965889692307,-0.138825163245201,0.010309890843928,0.146903321146965,0.019191388040781,-0.100236006081104,0.163616135716438,-0.173421293497086,-0.029183346778154,0.038163822144270,-0.222233191132545,0.074559092521667,0.026798360049725,-0.116161577403545,-0.006526938173920,0.131571501493454));
res += mul(Get(s1,-dx,-dy), float4x4(-0.134566038846970,0.147413641214371,-0.200280874967575,-0.035372756421566,0.137792572379112,-0.103278726339340,-0.073198407888412,0.531257808208466,0.014854148030281,-0.173173069953918,0.077349610626698,0.134168386459351,-0.085830375552177,-0.299928456544876,0.007583419326693,0.114719673991203));
res += mul(Get(s1,-dx,0), float4x4(0.437974244356155,-0.065057203173637,-0.189511924982071,-0.189183622598648,-0.181011572480202,0.073227815330029,-0.001009405241348,-0.270945638418198,-0.128089711070061,0.135502159595490,0.038197252899408,-0.214325219392776,0.016043066978455,-0.172605484724045,0.188455685973167,0.074040524661541));
res += mul(Get(s1,-dx,dy), float4x4(0.028774773702025,-0.460094600915909,0.081462658941746,-0.032628271728754,-0.190794005990028,-0.407354265451431,-0.134452670812607,-0.077335380017757,-0.084107942879200,0.013175515457988,0.037422709167004,0.141960948705673,0.207872956991196,-0.058550313115120,-0.022544601932168,0.088638320565224));
res += mul(Get(s1,0,-dy), float4x4(0.003849797649309,-0.107249893248081,-0.333291351795197,-0.307384580373764,-0.025492664426565,0.325869083404541,0.174201175570488,-0.317889750003815,0.129070207476616,0.159129932522774,-0.230502545833588,0.041963834315538,0.034579847007990,-0.370673060417175,0.138567224144936,0.015451911836863));
res += mul(Get(s1,0,0), float4x4(-0.028762398287654,-0.011964753270149,0.283712804317474,0.479586780071259,0.446852147579193,0.066716767847538,0.112145334482193,-0.406498730182648,0.019160402938724,-0.073518157005310,0.382947325706482,0.072483189404011,-0.043428793549538,-0.529543220996857,-0.078942485153675,-0.255256503820419));
res += mul(Get(s1,0,dy), float4x4(0.294439524412155,-0.182299643754959,0.425146102905273,0.050103567540646,0.040155343711376,0.031622480601072,0.323698550462723,0.103543020784855,0.018512725830078,0.214591100811958,-0.243797644972801,0.107615731656551,-0.116088397800922,-0.141275718808174,-0.121098943054676,0.071728728711605));
res += mul(Get(s1,dx,-dy), float4x4(0.027083378285170,0.205721735954285,-0.017737083137035,0.013773873448372,-0.075957462191582,-0.121187835931778,0.086927071213722,-0.151319384574890,-0.052233181893826,-0.183216616511345,-0.097648076713085,0.156823351979256,-0.037899985909462,0.017710821703076,-0.066512502729893,-0.092012844979763));
res += mul(Get(s1,dx,0), float4x4(-0.175000652670860,-0.122725859284401,0.093279384076595,0.137126937508583,-0.117363236844540,-0.288565069437027,0.065856575965881,0.102658465504646,0.354766130447388,-0.044031437486410,0.168884530663490,-0.373537331819534,0.088249541819096,-0.154791340231895,0.097722537815571,0.082750022411346));
res += mul(Get(s1,dx,dy), float4x4(-0.159771099686623,-0.023647254332900,-0.150355756282806,0.007458019070327,-0.003329604631290,-0.082967974245548,-0.229451328516006,0.230577215552330,0.060689527541399,0.125917524099350,0.080412946641445,-0.020500225946307,-0.170393913984299,-0.075572498142719,-0.024460902437568,0.059501904994249));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004241138231009,0.273615062236786,-0.184191599488258,-0.491643369197845,-0.209693744778633,0.100877933204174,-0.099322237074375,-0.160380259156227,-0.107787452638149,-0.158236369490623,-0.071496650576591,0.092041343450546,0.058762870728970,0.183547809720039,0.311895996332169,0.103403098881245));
res += mul(Get(s2,-dx,0), float4x4(0.546506524085999,0.218195810914040,0.291099667549133,-0.178457826375961,-0.025208294391632,-0.349430322647095,0.185761108994484,0.048761844635010,0.195648565888405,-0.318027138710022,0.142347112298012,-0.007563418708742,0.145183876156807,0.066852204501629,0.199321642518044,-0.332990407943726));
res += mul(Get(s2,-dx,dy), float4x4(0.378253012895584,0.101372160017490,-0.223982840776443,-0.011523626744747,0.008334067650139,0.054061796516180,-0.021715078502893,0.274802207946777,0.053248893469572,-0.114967606961727,-0.094147570431232,0.030820209532976,0.123640209436417,0.149603083729744,0.046697728335857,0.223892778158188));
res += mul(Get(s2,0,-dy), float4x4(0.149516344070435,0.226139456033707,0.129655882716179,-0.174862861633301,0.160351186990738,0.463348060846329,-0.195937156677246,-0.415304929018021,0.219468966126442,-0.528262138366699,0.063154637813568,0.209964826703072,-0.214896783232689,-0.072334699332714,-0.088578119874001,-0.097171090543270));
res += mul(Get(s2,0,0), float4x4(-0.404359430074692,-0.879933178424835,-0.143861398100853,0.279306471347809,-0.241286888718605,-0.302531629800797,0.066790074110031,0.035949770361185,-0.415561378002167,-0.152337864041328,-0.342636853456497,-0.003053124528378,-0.404300868511200,-0.347329020500183,-0.161377131938934,0.246048405766487));
res += mul(Get(s2,0,dy), float4x4(-0.455920666456223,0.024683922529221,-0.207589030265808,-0.041167154908180,-0.129825502634048,0.085234038531780,-0.112200848758221,0.033993326127529,-0.321376621723175,-0.072546541690826,0.231334239244461,-0.006100048311055,-0.081959187984467,0.114230483770370,-0.466934412717819,-0.195084378123283));
res += mul(Get(s2,dx,-dy), float4x4(-0.148592412471771,-0.012212838977575,0.016436513513327,0.174970939755440,-0.014589300379157,0.120819501578808,0.014143440872431,0.124617382884026,-0.163632422685623,-0.289684504270554,0.043806582689285,0.210190162062645,0.192842245101929,0.126513630151749,-0.100054651498795,-0.002679269528016));
res += mul(Get(s2,dx,0), float4x4(0.214207738637924,0.285767674446106,0.007386854849756,0.019278701394796,-0.089232705533504,-0.067197360098362,0.069855324923992,-0.030380431562662,0.412117451429367,0.868828177452087,-0.124354444444180,-0.181666657328606,-0.195905774831772,-0.125622928142548,-0.106693975627422,0.028441198170185));
res += mul(Get(s2,dx,dy), float4x4(0.079589925706387,-0.118924207985401,0.136349752545357,-0.050111826509237,0.227971002459526,0.044460795819759,-0.004753521643579,0.079112239181995,0.239583820104599,0.162334993481636,0.179646015167236,0.040658697485924,0.127307280898094,-0.124979220330715,0.043356601148844,-0.193065643310547));
res = max(float4(0, 0, 0, 0), res) + float4(-0.577778577804565,-0.007624752819538,0.189364150166512,-0.670270323753357) * min(float4(0, 0, 0, 0), res);
return res;
}
