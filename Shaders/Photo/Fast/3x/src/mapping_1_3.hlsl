sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.1557587087154388,0.0062990118749440,0.0463437139987946,-0.0435210540890694);
res += mul(Get(s0,-dx,-dy), float4x4(-0.1840868443250656,-0.0724299103021622,-0.0242488235235214,-0.1018328368663788,0.2092181295156479,-0.0933099240064621,-0.0645844116806984,-0.0654883757233620,0.0224017035216093,-0.1886916905641556,0.1397839486598969,0.2386891692876816,0.0145937548950315,0.0354639962315559,-0.0821566134691238,0.0699501484632492));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0733777135610580,0.0632193461060524,0.0166016388684511,-0.0888400375843048,0.1323470026254654,0.1014534607529640,0.0245932843536139,0.0472031906247139,0.0364345759153366,-0.0130670238286257,-0.0053967433050275,-0.0669592916965485,0.1731527298688889,0.0774231478571892,0.2592462003231049,-0.2002456039190292));
res += mul(Get(s2,-dx,-dy), float4x4(0.2158990800380707,-0.0974474549293518,0.0455446429550648,0.1078019812703133,0.0432822592556477,-0.0428854860365391,-0.1464091837406158,-0.0599136985838413,-0.0298774261027575,0.0438376031816006,-0.1420441865921021,-0.0306905731558800,-0.0366986058652401,-0.1093946769833565,0.0596560724079609,0.0382437407970428));
res += mul(Get(s0,-dx,0), float4x4(0.2477350383996964,-0.1526883691549301,0.0662956014275551,-0.0317381434142590,0.0659181326627731,0.1438614279031754,0.1635916233062744,-0.0241737980395555,-0.1398810744285583,-0.0107362521812320,0.1584236025810242,0.2546695768833160,0.3494969010353088,-0.4215286374092102,0.0386211127042770,-0.3635849654674530));
res += mul(Get(s1,-dx,0), float4x4(0.1847892105579376,-0.2650178074836731,0.0668848156929016,-0.2779584527015686,0.3825493156909943,0.1083820313215256,-0.1441712230443954,0.0930563136935234,0.0150087894871831,-0.0703996941447258,0.1600971519947052,0.0451114028692245,0.0788115113973618,0.0304309856146574,-0.1092175021767616,0.3479890823364258));
res += mul(Get(s2,-dx,0), float4x4(-0.0433125346899033,0.0707294270396233,0.1751264631748199,-0.1572663187980652,0.1600609868764877,-0.2266342192888260,-0.0399066507816315,0.1387840360403061,0.0604682043194771,0.0061393701471388,0.0233003534376621,-0.2417315691709518,-0.1350184231996536,0.0759000331163406,-0.0878652855753899,-0.2355495393276215));
res += mul(Get(s0,-dx,dy), float4x4(-0.1654651015996933,0.2627992630004883,0.0108347525820136,0.0051662391051650,-0.1054662838578224,0.0585298724472523,0.0358287096023560,0.0827059596776962,0.0669758245348930,-0.0581669993698597,0.0225772932171822,0.0180350150913000,-0.0011164126917720,0.3016491830348969,-0.0690628662705421,-0.0578363016247749));
res += mul(Get(s1,-dx,dy), float4x4(-0.1967731416225433,0.1499858498573303,-0.0256980061531067,-0.0590974316000938,-0.1772913634777069,0.0435305163264275,-0.0511416830122471,0.2969115078449249,-0.0658735632896423,0.0671744197607040,-0.0178234335035086,0.0102898757904768,-0.0020479927770793,0.0922980830073357,0.0042040082626045,-0.1362062245607376));
res += mul(Get(s2,-dx,dy), float4x4(0.2640985846519470,-0.0245796907693148,-0.0469882115721703,-0.0489177741110325,0.1641416251659393,0.0479300841689110,-0.0107337692752481,-0.0955739393830299,0.2872391045093536,-0.0411916747689247,-0.1546226590871811,-0.0657138898968697,-0.0027099780272692,-0.0550080016255379,-0.0526115298271179,0.0235955398529768));
res += mul(Get(s0,0,-dy), float4x4(0.1573334485292435,0.1240754574537277,0.0915643349289894,-0.3906636834144592,-0.0828468352556229,0.1631371378898621,-0.2030818909406662,0.2204522490501404,-0.0817038640379906,0.3257423341274261,0.0373263657093048,-0.5545728206634521,-0.2741269469261169,-0.1265966594219208,-0.0939971804618835,0.0965087190270424));
res += mul(Get(s1,0,-dy), float4x4(0.0603277571499348,0.1155410110950470,-0.0714656040072441,0.3264212906360626,-0.1398185640573502,0.2095947861671448,0.2797559797763824,-0.8175057172775269,0.0414696000516415,0.1082548946142197,-0.0942839831113815,0.1392576694488525,-0.1897130608558655,-0.0981126874685287,-0.0732579380273819,-0.2377575486898422));
res += mul(Get(s2,0,-dy), float4x4(-0.2512529194355011,0.0248221680521965,0.0459682531654835,0.1409126520156860,-0.1764228343963623,-0.2157789915800095,-0.0246480945497751,0.2129619717597961,-0.1595791727304459,-0.3246546983718872,-0.0527506619691849,-0.1343689262866974,0.0794132575392723,0.1755886375904083,-0.0502008311450481,-0.2963214516639709));
res += mul(Get(s0,0,0), float4x4(0.5303660631179810,-0.2492289096117020,0.5635061264038086,-0.0642756372690201,0.0731734409928322,-0.0729695633053780,-0.0071832560934126,-0.5081459283828735,0.7373076677322388,-0.2143416702747345,-0.1838430911302567,-0.2590723931789398,-0.5809445977210999,0.5979294180870056,0.2730965912342072,-0.2699947357177734));
res += mul(Get(s1,0,0), float4x4(-0.1877470314502716,-0.4911346733570099,-0.4939760565757751,-0.5921568274497986,0.1372462064027786,-0.0135933151468635,0.1204683408141136,0.1805071681737900,0.1373163610696793,-0.1997394710779190,-0.2525752484798431,-0.4757277369499207,-0.7882346510887146,0.8473787307739258,0.2448395490646362,0.0419842675328255));
res += mul(Get(s2,0,0), float4x4(0.0629917308688164,0.0317023321986198,0.2542557418346405,0.4103749990463257,0.8501504659652710,-0.5851780772209167,-0.0132580026984215,-0.3552446961402893,-0.2259887456893921,0.3477774560451508,0.1495695561170578,0.2123551666736603,0.2901392877101898,-0.3046473562717438,-0.2086120247840881,0.5199793577194214));
res += mul(Get(s0,0,dy), float4x4(0.2859102487564087,-0.1773778498172760,-0.1380559951066971,0.1885858327150345,0.1524513363838196,0.0470057129859924,-0.0979170724749565,-0.0256073195487261,-0.3326656222343445,0.1582957059144974,0.0327865481376648,0.1982315629720688,0.0837632864713669,-0.2496620714664459,-0.0892166346311569,0.1665476560592651));
res += mul(Get(s1,0,dy), float4x4(-0.1293909847736359,0.2518903315067291,0.1441875845193863,0.0069782938808203,-0.3894214928150177,-0.1247580200433731,-0.2832986116409302,-0.0794388279318810,0.0201071854680777,0.0445782504975796,-0.0132761122658849,0.0047551081515849,-0.1256584078073502,0.0485081449151039,-0.0964860469102859,0.1291115432977676));
res += mul(Get(s2,0,dy), float4x4(-0.1130790933966637,0.0330985300242901,0.0853994190692902,0.0205341055989265,-0.0527624413371086,-0.1178925782442093,0.0154515653848648,-0.0547741688787937,-0.4081102311611176,-0.0781303048133850,0.0408515818417072,0.1144413128495216,0.1186076179146767,0.0002211130340584,-0.0326647758483887,-0.0555967539548874));
res += mul(Get(s0,dx,-dy), float4x4(0.0135821485891938,-0.0066261878237128,0.1658612638711929,0.0222110450267792,-0.0373943112790585,-0.0267837047576904,-0.0844375938177109,-0.0938728898763657,-0.0642957612872124,-0.0560283213853836,0.1069093495607376,-0.0691150650382042,0.1669647842645645,-0.0600398555397987,0.0173442680388689,0.3069757223129272));
res += mul(Get(s1,dx,-dy), float4x4(0.0740940943360329,-0.0523679032921791,0.0701192766427994,0.1929476261138916,0.1588110029697418,-0.1474256217479706,0.1383104026317596,-0.0614428371191025,-0.0197948571294546,0.0101638650521636,0.0044818450696766,0.1025098338723183,-0.0351010560989380,-0.0399149432778358,-0.0184735227376223,0.1290023624897003));
res += mul(Get(s2,dx,-dy), float4x4(0.0702704265713692,0.0507283173501492,0.0631208270788193,-0.0143447546288371,0.0893251523375511,0.1360487341880798,-0.1140336692333221,0.0731169879436493,0.0703182891011238,0.0848663747310638,0.0621335916221142,-0.0259778667241335,0.0177636183798313,0.0633749812841415,0.1573812067508698,-0.1400089412927628));
res += mul(Get(s0,dx,0), float4x4(0.0772088393568993,-0.1477796286344528,0.0113074593245983,0.0605088844895363,0.0516573973000050,-0.2218019664287567,0.0812354981899261,-0.1886613667011261,-0.3456020653247833,0.0793784484267235,-0.0373430065810680,-0.0072484975680709,-0.1587565988302231,0.1370065212249756,-0.0568392761051655,-0.1815443336963654));
res += mul(Get(s1,dx,0), float4x4(-0.0054654227569699,0.0994806289672852,-0.2074992656707764,0.0877108052372932,-0.2601409554481506,0.1378404349088669,-0.1317356228828430,0.1838700473308563,-0.0501101873815060,-0.1270372122526169,0.0045223613269627,-0.1921830177307129,0.0269499253481627,-0.2163956463336945,-0.0071436809375882,-0.1462906599044800));
res += mul(Get(s2,dx,0), float4x4(-0.2264301329851151,0.0568578615784645,-0.1343749463558197,-0.1171614527702332,-0.2494266778230667,0.2639761865139008,0.1015968769788742,-0.1699058860540390,0.6439350247383118,-0.0595313496887684,0.1564480960369110,0.1543515920639038,-0.0212283320724964,-0.0550186634063721,-0.0069034281186759,0.0514169409871101));
res += mul(Get(s0,dx,dy), float4x4(-0.0844933167099953,-0.0487878322601318,-0.0914218649268150,0.0498351864516735,-0.1765212118625641,0.1110522896051407,0.0716835781931877,-0.0251554064452648,0.0568405278027058,-0.0480398759245872,-0.2114848345518112,0.0349942930042744,0.2057531327009201,-0.2338669002056122,-0.1142151802778244,0.1271025240421295));
res += mul(Get(s1,dx,dy), float4x4(-0.0848718732595444,0.1212662309408188,0.0234560258686543,0.3252077400684357,0.1748514324426651,-0.3398889601230621,0.0126662049442530,0.2621525526046753,0.0098972003906965,-0.0034305476583540,0.0132765863090754,0.0909175649285316,0.0562104284763336,-0.0705671757459641,-0.0415909960865974,0.0719769150018692));
res += mul(Get(s2,dx,dy), float4x4(-0.0544292479753494,-0.1143216788768768,0.0429908297955990,-0.0849325731396675,-0.0837117359042168,0.1099916025996208,0.1819578856229782,-0.1218980923295021,-0.1795623600482941,-0.0098336078226566,-0.2456305027008057,0.0169940721243620,0.0260414313524961,0.0122105740010738,0.0061179571785033,0.0281985383480787));
res = max(float4(0, 0, 0, 0), res) + float4(0.5604179501533508,-0.9700543880462646,2.1592938899993896,0.4793086349964142) * min(float4(0, 0, 0, 0), res);
return res;
}
