sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0252847950905561,-0.0139355994760990,-0.1868969500064850,-0.0755353718996048);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0421152524650097,-0.0065629491582513,0.1091141402721405,0.0276988875120878,0.0384584814310074,0.0372753590345383,-0.2896476089954376,0.0215493086725473,0.1211345270276070,-0.1321361958980560,-0.1172228828072548,-0.0365639328956604,-0.1251401305198669,-0.0004647657915484,-0.0119817657396197,0.0512566305696964));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0480304919183254,0.0949240922927856,0.1526142209768295,0.0659966692328453,0.0809312239289284,-0.0786217004060745,0.0393717363476753,0.1214627400040627,0.0615934394299984,-0.0042930901981890,-0.0399286150932312,-0.0705183893442154,0.1395030319690704,-0.0153717081993818,-0.2277098596096039,0.1091449856758118));
res += mul(Get(s2,-dx,-dy), float4x4(0.0648665800690651,0.0955501049757004,0.0378292240202427,-0.0059371744282544,0.0623484104871750,-0.1373689323663712,-0.0017507976153865,-0.0499149598181248,0.0033651620615274,-0.0088814478367567,0.0174461733549833,0.0655277892947197,0.1130278110504150,0.1336240917444229,-0.2051307260990143,0.0619514770805836));
res += mul(Get(s0,-dx,0), float4x4(0.0047429362311959,0.1270565539598465,-0.5655626654624939,-0.0590506233274937,-0.0774014666676521,0.1279202848672867,-0.0266618095338345,0.0555428303778172,-0.1120843440294266,0.0384538359940052,0.1151268556714058,0.0047926171682775,-0.0025485365185887,0.0341864600777626,0.0213577896356583,-0.1010870411992073));
res += mul(Get(s1,-dx,0), float4x4(0.5539333224296570,-0.1682075709104538,0.2815051078796387,-0.0093146450817585,-0.0169979613274336,-0.0913239493966103,0.0854243934154510,0.0570956617593765,0.0943147242069244,0.0020718972664326,-0.2531807422637939,-0.0646211206912994,0.6612623929977417,0.0068141305819154,0.5101877450942993,0.3882220685482025));
res += mul(Get(s2,-dx,0), float4x4(-0.5137096643447876,-0.1980411857366562,-0.1594962626695633,-0.0433224216103554,-0.0853989198803902,-0.0065268659964204,-0.0096916845068336,-0.0266460292041302,0.0547526106238365,0.1046879217028618,0.0652583464980125,0.1584471911191940,0.1836214661598206,-0.2205233424901962,-0.2142870426177979,0.3142746388912201));
res += mul(Get(s0,-dx,dy), float4x4(0.0174202863126993,-0.1876272410154343,-0.1458735913038254,0.0941255167126656,-0.0007916092290543,0.0272595416754484,0.1831757724285126,-0.0030728578567505,0.0207977816462517,0.0768986344337463,-0.1640704125165939,0.0515639111399651,0.0186755601316690,0.0464264824986458,0.0634486675262451,-0.0108470972627401));
res += mul(Get(s1,-dx,dy), float4x4(0.0958586037158966,-0.0981590598821640,0.1270326972007751,-0.0496003068983555,0.0631070509552956,-0.0487552136182785,-0.0894807875156403,0.0395610369741917,-0.0124549679458141,0.1256448626518250,-0.1121011227369308,-0.1304324120283127,0.1498337537050247,0.2469915449619293,0.0145656485110521,0.1246648952364922));
res += mul(Get(s2,-dx,dy), float4x4(-0.1738764494657516,0.2278875559568405,0.1102038919925690,0.0004755249829032,0.0112760700285435,0.0965884253382683,-0.1362631022930145,-0.0897726118564606,0.0188076552003622,0.0027884754817933,0.1579896658658981,0.0184844825416803,0.0095965368673205,0.0856324881315231,0.0431203879415989,0.2145893126726151));
res += mul(Get(s0,0,-dy), float4x4(-0.1383711248636246,0.2210536003112793,-0.0592921450734138,-0.3945289552211761,-0.0288108605891466,0.0001431815617252,-0.0031287551391870,0.2728192210197449,0.1385885477066040,0.2305294275283813,-0.0135323395952582,-0.0997468456625938,-0.2662884891033173,0.0026232334785163,0.0126932170242071,0.0540730468928814));
res += mul(Get(s1,0,-dy), float4x4(0.2501684725284576,-0.0665495023131371,0.1299590617418289,0.0297581329941750,0.1237809360027313,-0.1114146262407303,-0.0714021548628807,0.0688657313585281,-0.1853673160076141,0.4942539930343628,0.1888493299484253,-0.2363976985216141,0.0584888420999050,-0.0016995270270854,0.0130353383719921,0.2500288784503937));
res += mul(Get(s2,0,-dy), float4x4(-0.0975350663065910,0.1432310640811920,-0.0204085446894169,0.2609312236309052,-0.0670192390680313,0.2480984181165695,-0.0059629525057971,-0.0325623564422131,0.1691612601280212,-0.2116821706295013,-0.0920483469963074,0.1333492398262024,0.0264685731381178,-0.0549177639186382,-0.0125263938680291,0.0778773650527000));
res += mul(Get(s0,0,0), float4x4(-0.0622700005769730,-0.4536611437797546,-0.5352559685707092,0.1215275451540947,0.0023794271983206,0.3329918086528778,-0.0999497994780540,-0.4406968951225281,0.5464164018630981,0.5516604781150818,-0.0513447187840939,-0.0885787084698677,-0.8422530889511108,-0.7781434059143066,-0.1718502640724182,-0.4982292950153351));
res += mul(Get(s1,0,0), float4x4(0.5532634854316711,-0.0178354997187853,0.4874851703643799,0.3998274207115173,-0.0582552775740623,-0.6645371913909912,-0.1381534934043884,-0.2516468167304993,-0.4722259938716888,-0.3844099044799805,0.0027540258597583,0.2235376834869385,-0.4279222190380096,-0.2711309790611267,0.1611709743738174,0.3804606199264526));
res += mul(Get(s2,0,0), float4x4(-0.0344254635274410,0.0241522416472435,-0.0725785493850708,-0.6327930688858032,-0.0398298054933548,-0.3084724843502045,0.0465436540544033,-0.1426053643226624,0.2388627529144287,0.5711342692375183,0.1588770151138306,0.2174715995788574,-0.1442165523767471,0.2534325420856476,0.1236601471900940,-0.0143378544598818));
res += mul(Get(s0,0,dy), float4x4(-0.0017787420656532,0.0957221686840057,-0.0122460452839732,0.1020829677581787,-0.1668175458908081,-0.2395656257867813,-0.0276864226907492,0.1568652093410492,0.2192903012037277,0.0250470470637083,-0.0004486516991165,0.2013360410928726,-0.2053976207971573,0.2136665284633636,-0.1660947650671005,-0.1348336040973663));
res += mul(Get(s1,0,dy), float4x4(0.2460941970348358,-0.0648786053061485,0.1676706522703171,0.1765310317277908,-0.0139654325321317,0.1287777274847031,-0.0419310256838799,0.0613753572106361,-0.0612751878798008,-0.3599774241447449,0.0415761806070805,-0.1407385766506195,-0.4045931398868561,0.1845881491899490,0.3240730464458466,0.0087957661598921));
res += mul(Get(s2,0,dy), float4x4(-0.0187753438949585,-0.1982476711273193,0.1714443117380142,-0.0813511610031128,0.0334564782679081,0.1766880601644516,0.0469958223402500,0.1456873416900635,0.0160519424825907,-0.0881213173270226,-0.0811115354299545,-0.0730235204100609,-0.0362783744931221,-0.0177957583218813,0.0552027747035027,0.0664225369691849));
res += mul(Get(s0,dx,-dy), float4x4(-0.0019034709548578,0.0433869771659374,-0.0839819386601448,-0.0590472780168056,-0.0264342222362757,-0.0809753686189651,-0.0705762505531311,0.1285892128944397,0.0708205550909042,0.2240377664566040,-0.0262293983250856,0.0112325949594378,0.1972625553607941,-0.1005743518471718,0.0298366937786341,0.0632718577980995));
res += mul(Get(s1,dx,-dy), float4x4(0.1056862846016884,-0.4690760076045990,0.0684363245964050,-0.0305099841207266,-0.0019750206265599,0.0056407423689961,-0.0518811456859112,-0.0751286521553993,0.0573899745941162,0.0416483171284199,-0.0085053052753210,0.0400457940995693,-0.1379700452089310,-0.1505351513624191,0.0187669396400452,-0.0609967187047005));
res += mul(Get(s2,dx,-dy), float4x4(-0.1559537947177887,0.0179943032562733,0.0144532211124897,0.0286840312182903,0.1109661161899567,-0.0485123507678509,0.0323669090867043,0.0953222662210464,-0.0341545864939690,0.0328774116933346,0.0241381861269474,-0.0005150645156391,-0.0400840565562248,0.0856027305126190,-0.0937310680747032,-0.0839537307620049));
res += mul(Get(s0,dx,0), float4x4(-0.1615369617938995,0.0040516820736229,0.0920833349227905,0.1350343227386475,-0.1354265064001083,0.2758831977844238,-0.0956065207719803,0.1292043030261993,0.0848461315035820,0.1094667539000511,-0.1694265753030777,-0.2912433147430420,0.3325116336345673,0.1022456884384155,0.2152446210384369,0.4014856815338135));
res += mul(Get(s1,dx,0), float4x4(-0.3604778945446014,-0.2358302474021912,0.1693350821733475,0.0547970384359360,0.1273341029882431,0.1184698641300201,-0.0491379871964455,0.0387192592024803,0.1596706658601761,-0.2718825042247772,0.1222157999873161,0.2101101279258728,-0.2746534943580627,-0.1770621240139008,0.0954585522413254,0.1167215481400490));
res += mul(Get(s2,dx,0), float4x4(0.3520413637161255,-0.1401659101247787,-0.1239639297127724,0.0256019849330187,-0.0037332163192332,0.0079864282160997,0.0314354933798313,0.0549950525164604,-0.1130618155002594,0.0469477102160454,0.0095029072836041,-0.0795121267437935,-0.1559574604034424,-0.1407674551010132,-0.0844101384282112,-0.1162979230284691));
res += mul(Get(s0,dx,dy), float4x4(-0.0682719051837921,0.0194297246634960,0.0000463862197648,-0.0035776176955551,0.1214742809534073,-0.0749372243881226,-0.0228466037660837,-0.1543487012386322,0.0841541886329651,-0.0587302558124065,-0.0497120693325996,0.1779324114322662,0.1120958104729652,-0.0999414101243019,0.0526072084903717,0.0404917225241661));
res += mul(Get(s1,dx,dy), float4x4(0.1769369244575500,0.2542565464973450,-0.2051584571599960,-0.1508226394653320,-0.0136300586163998,0.0353958904743195,-0.0146332513540983,0.0475700758397579,-0.0397455878555775,0.0350662283599377,-0.0128735657781363,-0.0241956152021885,0.0896661207079887,0.2779434025287628,0.0552580691874027,-0.0133420117199421));
res += mul(Get(s2,dx,dy), float4x4(0.0749082565307617,0.0302771329879761,0.0076183453202248,-0.0611282885074615,0.0644116178154945,-0.0253740716725588,-0.0534246899187565,-0.0359251089394093,-0.0438448749482632,-0.0662368908524513,0.0556167811155319,0.0339143946766853,-0.0298396702855825,-0.0657840222120285,-0.0528091154992580,-0.0932539403438568));
res = max(float4(0, 0, 0, 0), res) + float4(-0.0343572087585926,0.0300991870462894,0.1771846413612366,0.6200626492500305) * min(float4(0, 0, 0, 0), res);
return res;
}
