sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.432566523551941,-0.190928786993027,-0.021964721381664,-0.311647385358810);
res += mul(Get(s0,-dx,-dy), float4x4(-0.077740795910358,0.107939355075359,0.013417554087937,-0.011103143915534,-0.174072667956352,-0.098439015448093,0.025869045406580,0.128041326999664,-0.099821694195271,0.004505753982812,-0.028064269572496,0.042939126491547,0.063896924257278,-0.073008023202419,-0.031739171594381,-0.019030939787626));
res += mul(Get(s0,-dx,0), float4x4(0.064622044563293,-0.121329337358475,0.008153780363500,-0.118681266903877,-0.141475841403008,0.066925860941410,-0.107535034418106,0.409354925155640,0.105207845568657,-0.029741285368800,-0.028415841981769,-0.157047808170319,0.136294156312943,0.333269149065018,0.006877843756229,0.161749660968781));
res += mul(Get(s0,-dx,dy), float4x4(-0.016553867608309,0.160164386034012,0.033292442560196,0.057468857616186,0.179425776004791,0.095350749790668,0.010996794328094,0.034751128405333,0.070971533656120,-0.111376315355301,0.006060968618840,-0.065447308123112,0.144762575626373,0.063899427652359,0.104318231344223,0.027869451791048));
res += mul(Get(s0,0,-dy), float4x4(-0.202609315514565,0.390829741954803,0.051787171512842,-0.067294411361217,-0.015527555719018,-0.317294210195541,-0.032760325819254,0.031643435359001,0.124732904136181,-0.318739622831345,-0.007229696493596,-0.153474837541580,-0.016709204763174,-0.170008197426796,-0.028229400515556,0.055896196514368));
res += mul(Get(s0,0,0), float4x4(0.518826782703400,-0.299589484930038,-0.030948687344790,0.163016065955162,-0.453685015439987,0.294003665447235,0.158952862024307,-0.297614574432373,0.009730212390423,0.412676662206650,0.030088910833001,0.136977419257164,0.181068405508995,0.277181386947632,-0.243442386388779,-0.030858064070344));
res += mul(Get(s0,0,dy), float4x4(0.253039896488190,0.287073791027069,0.095667272806168,-0.189064055681229,0.384453266859055,-0.306621670722961,0.007927967235446,0.048633884638548,0.212341770529747,-0.273791611194611,0.028206232935190,-0.067676052451134,-0.216728121042252,0.052368190139532,0.376479089260101,-0.059527553617954));
res += mul(Get(s0,dx,-dy), float4x4(0.011486227624118,0.023396074771881,0.005772000644356,0.039020355790854,-0.018334098160267,-0.136706098914146,-0.029081121087074,0.063894569873810,0.254853516817093,-0.197114303708076,-0.055647838860750,-0.167690247297287,-0.101461417973042,-0.166290223598480,-0.062666758894920,-0.029950210824609));
res += mul(Get(s0,dx,0), float4x4(0.122626453638077,0.029842142015696,0.030553393065929,-0.101816959679127,0.216797068715096,0.059595782309771,-0.081763245165348,0.034554827958345,0.001770255039446,0.108869969844818,-0.022853303700686,-0.332062125205994,-0.173484385013580,0.005310547072440,-0.118206404149532,-0.150078356266022));
res += mul(Get(s0,dx,dy), float4x4(-0.035279966890812,0.166627466678619,0.041001312434673,-0.091805621981621,0.019486164674163,-0.057906791567802,0.007455178070813,-0.050878014415503,0.056569129228592,-0.054246187210083,0.042549528181553,-0.115652680397034,-0.078092299401760,-0.055802658200264,-0.064079225063324,0.013355747796595));
res += mul(Get(s1,-dx,-dy), float4x4(0.073088683187962,-0.000330294889864,-0.009993067011237,0.150207415223122,0.152810275554657,0.145713612437248,0.018279716372490,0.024383664131165,0.011313513852656,0.016891149803996,-0.014819417148829,-0.050301887094975,0.051968317478895,0.068573527038097,0.031373519450426,-0.023275662213564));
res += mul(Get(s1,-dx,0), float4x4(-0.028759377077222,-0.010919351130724,0.008969246409833,0.257997363805771,-0.174590751528740,-0.169256478548050,0.111424461007118,-0.041240811347961,0.083842664957047,0.071935556828976,-0.038697604089975,0.159051284193993,0.354384958744049,0.028858205303550,0.106843873858452,0.329555332660675));
res += mul(Get(s1,-dx,dy), float4x4(-0.073460325598717,-0.028619697317481,0.061309475451708,-0.058681935071945,0.029514959082007,-0.029987398535013,0.037445962429047,0.100434780120850,0.025203380733728,0.020462075248361,-0.008340797387064,-0.066869236528873,-0.158009350299835,0.025960884988308,0.057661380618811,0.030297318473458));
res += mul(Get(s1,0,-dy), float4x4(-0.426104903221130,0.236587360501289,0.039779506623745,-0.255466312170029,-0.121002241969109,0.395963698625565,0.031833697110415,-0.100838720798492,0.126976892352104,0.197443366050720,0.042404200881720,0.018385827541351,0.137195110321045,0.206518620252609,-0.006456585600972,0.065593555569649));
res += mul(Get(s1,0,0), float4x4(0.037632726132870,0.014724974520504,-0.097151562571526,-0.110435694456100,-0.433161675930023,-0.743896663188934,0.067489601671696,-0.435589641332626,-0.018633831292391,0.262049347162247,-0.049310624599457,-0.330641239881516,-0.088101625442505,0.011677976697683,-0.087231680750847,0.582853674888611));
res += mul(Get(s1,0,dy), float4x4(0.171954050660133,0.065131321549416,0.015131506137550,0.115817055106163,-0.002885687630624,0.155044436454773,0.080289334058762,-0.137293413281441,0.223553523421288,-0.153275102376938,-0.011779423803091,0.115509822964668,-0.038510099053383,0.002180941402912,0.008346505463123,0.020115274935961));
res += mul(Get(s1,dx,-dy), float4x4(-0.128000557422638,-0.052381083369255,0.045698694884777,-0.017861146479845,-0.048327419906855,0.072660893201828,-0.053576394915581,0.164015859365463,0.310297220945358,0.214247345924377,0.006730840075761,-0.276298552751541,-0.001887176651508,-0.038486778736115,-0.026686633005738,-0.095668315887451));
res += mul(Get(s1,dx,0), float4x4(-0.058807801455259,0.092047676444054,0.025003770366311,-0.200674101710320,-0.059662476181984,-0.033973403275013,-0.017357213422656,-0.328684002161026,-0.473991304636002,0.222381323575974,-0.048613633960485,0.130332022905350,-0.016710083931684,0.004065932240337,0.017081661149859,-0.199426293373108));
res += mul(Get(s1,dx,dy), float4x4(-0.076893031597137,-0.048293609172106,0.063273914158344,-0.190581247210503,0.013985135592520,-0.062270455062389,-0.014350822195411,-0.015658468008041,0.075176902115345,-0.108787409961224,-0.004054415039718,-0.082055605947971,-0.082954868674278,-0.016209462657571,-0.006023220717907,-0.030206782743335));
res += mul(Get(s2,-dx,-dy), float4x4(-0.049486543983221,-0.098012417554855,-0.058958701789379,0.126849517226219,0.029362116008997,0.001037377398461,0.002709353342652,0.013487868010998,-0.123193874955177,-0.045923911035061,0.007172096986324,0.095447935163975,-0.114605963230133,-0.011921852827072,0.016027214005589,0.032359138131142));
res += mul(Get(s2,-dx,0), float4x4(-0.003570111934096,0.054855469614267,-0.136815950274467,-0.314678907394409,0.071023240685463,-0.082217402756214,0.113986447453499,0.174662709236145,-0.170823991298676,-0.164091289043427,-0.005604876670986,0.041078176349401,-0.158188760280609,-0.148754730820656,0.058947008103132,-0.050636753439903));
res += mul(Get(s2,-dx,dy), float4x4(-0.030321741476655,-0.123480841517448,-0.041139364242554,-0.056879386305809,-0.005370231810957,0.142923906445503,0.008741998113692,-0.075829431414604,-0.114600978791714,0.071178957819939,0.036375217139721,-0.035118106752634,-0.039741482585669,0.041453681886196,-0.026567535474896,-0.032426193356514));
res += mul(Get(s2,0,-dy), float4x4(-0.209281519055367,-0.123412162065506,-0.028944419696927,-0.060729969292879,-0.008219059556723,0.024827158078551,0.042968165129423,0.064443148672581,-0.026214081794024,-0.310931503772736,-0.051594965159893,0.063756428658962,0.423473685979843,-0.529388844966888,0.097769878804684,0.143089532852173));
res += mul(Get(s2,0,0), float4x4(0.341151922941208,-0.042952682822943,0.041431721299887,-0.133994221687317,0.130641862750053,-0.108379267156124,-0.300081461668015,-0.498527526855469,-0.431073278188705,0.183563917875290,0.028995698317885,0.139189362525940,-0.411041021347046,0.154571756720543,-0.260875612497330,0.016784200444818));
res += mul(Get(s2,0,dy), float4x4(-0.203045308589935,0.066570274531841,-0.063404403626919,0.098706409335136,0.067617550492287,0.147132501006126,-0.004132888279855,0.041965771466494,0.138612627983093,-0.150867924094200,-0.009955250658095,0.197904139757156,0.067355424165726,-0.043117027729750,-0.001434948993847,-0.011112187989056));
res += mul(Get(s2,dx,-dy), float4x4(-0.017831753939390,0.032684270292521,0.052253052592278,-0.012682297267020,0.018220191821456,-0.052832327783108,-0.002100689103827,0.031874369829893,-0.080780364573002,-0.123708687722683,0.004941898398101,-0.009832457639277,0.043396405875683,-0.133116334676743,0.055006142705679,0.052998512983322));
res += mul(Get(s2,dx,0), float4x4(-0.072694003582001,0.013525442220271,0.047182675451040,0.301210880279541,-0.141787499189377,0.051134295761585,0.113516144454479,0.545506060123444,-0.114893332123756,0.075461655855179,-0.019710300490260,0.359282970428467,0.143370613455772,-0.083849564194679,0.016797527670860,-0.037888262420893));
res += mul(Get(s2,dx,dy), float4x4(0.141118094325066,0.026746608316898,0.066481560468674,0.077390365302563,0.230403482913971,0.040307726711035,0.041666164994240,0.067123569548130,-0.017176840454340,-0.106297336518764,-0.026040244847536,0.031115941703320,-0.061025016009808,0.002205572789535,-0.042658135294914,0.065729327499866));
res = max(float4(0, 0, 0, 0), res) + float4(0.077478609979153,0.270072788000107,0.945602536201477,0.094325765967369) * min(float4(0, 0, 0, 0), res);
return res;
}
