sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float3 res = float3(-0.000469781225547,-0.000603230495472,-0.001552609726787);
res += mul(Get(s0,-dx,-dy), float4x3(-0.000558437430300,-0.004534366540611,-0.002472075633705,0.002464444143698,-0.001050003338605,-0.001086152275093,0.012328118085861,0.006689955014735,0.001619223738089,-0.004259543959051,-0.001770756090991,0.000270114978775));
res += mul(Get(s0,-dx,0), float4x3(-0.001247418229468,-0.002665267558768,0.004204610362649,-0.003339358139783,-0.004130293149501,0.000981515622698,0.010619970969856,0.006873032078147,0.010348150506616,-0.027533641085029,-0.024012643843889,-0.010112551972270));
res += mul(Get(s0,-dx,dy), float4x3(-0.001432483317330,-0.001389479846694,0.002208919031546,0.003130842698738,0.002768396632746,-0.000757556059398,0.001559853320941,0.005628020036966,0.010677855461836,0.002029274823144,-0.000151275293319,-0.016329506412148));
res += mul(Get(s0,0,-dy), float4x3(0.010091548785567,0.004225463606417,0.001342418720014,0.012867862358689,-0.009959367103875,-0.014101174660027,-0.000555164995603,0.009029153734446,0.004665922373533,-0.021175956353545,-0.004143407102674,-0.000927944085561));
res += mul(Get(s0,0,0), float4x3(0.046310838311911,-0.036671865731478,-0.025644998997450,-0.045434169471264,0.011432684026659,0.040656305849552,-0.032626431435347,-0.051162064075470,-0.034216832369566,-0.022715995088220,-0.047818847000599,-0.046212796121836));
res += mul(Get(s0,0,dy), float4x3(-0.012877311557531,-0.025757323950529,0.034933056682348,0.013004869222641,0.019388277083635,-0.019459499046206,0.003384552663192,0.007848325185478,-0.002240315312520,-0.007555340416729,-0.007222493179142,-0.007003990001976));
res += mul(Get(s0,dx,-dy), float4x3(-0.001611653715372,0.001581100630574,0.004157531075180,-0.000459051952930,-0.000873175449669,-0.000352507719072,0.009539091028273,0.004043290391564,0.000342710496625,-0.004363777115941,-0.002768781967461,-0.003530429909006));
res += mul(Get(s0,dx,0), float4x3(-0.001125806360506,-0.001132270321250,0.003176752012223,-0.000536692445166,-0.003141536377370,-0.001847321167588,0.009789433330297,0.005331586580724,0.007768461015075,0.000453580432804,-0.002083192579448,-0.004860479850322));
res += mul(Get(s0,dx,dy), float4x3(0.006401258520782,-0.000128807325382,-0.003157070605084,0.000728635292035,-0.000390736531699,-0.000171893800143,-0.000306012923829,0.004769127815962,0.011218615807593,-0.000620037491899,0.002104335231707,0.000791358004790));
res += mul(Get(s1,-dx,-dy), float4x3(0.002428827807307,-0.007788783870637,-0.005317696835846,0.000758286914788,0.002502679824829,-0.002119329757988,0.001524142804556,0.000161505566211,0.000629572081380,0.002482333453372,0.000465884309961,-0.000345489155734));
res += mul(Get(s1,-dx,0), float4x3(0.000134359550430,-0.006252077408135,0.003253966569901,-0.007350041996688,0.002653134521097,0.002391424728557,0.005662326700985,-0.007392639759928,0.000096227755421,0.007183446548879,0.003955486696213,0.001838686759584));
res += mul(Get(s1,-dx,dy), float4x3(0.000325482309563,0.001054244348779,0.005429377779365,-0.006586506497115,0.002853424986824,0.004593350924551,-0.002165865851566,-0.004702457692474,0.006821044255048,0.005165863316506,0.009875962510705,0.011360600590706));
res += mul(Get(s1,0,-dy), float4x3(-0.018668442964554,0.001018432201818,0.009952628053725,-0.031073182821274,0.010804634541273,0.010748598724604,0.002423101803288,-0.007646443322301,-0.001358762499876,0.007376031950116,0.010902638547122,0.006188127677888));
res += mul(Get(s1,0,0), float4x3(0.002906075911596,0.032328177243471,-0.001910308608785,0.004507138859481,0.046243946999311,-0.023635733872652,-0.029758496209979,-0.019945310428739,0.027435734868050,0.057029098272324,0.020696792751551,0.002320079365745));
res += mul(Get(s1,0,dy), float4x3(0.003517849836498,-0.002821731381118,-0.020092036575079,0.006888849660754,0.004178948234767,-0.027866154909134,-0.021964754909277,-0.001787203247659,0.039966408163309,-0.006966379005462,0.005756513681263,0.046974901109934));
res += mul(Get(s1,dx,-dy), float4x3(0.005697939544916,0.000374599942006,0.000727802223992,-0.004168273415416,-0.002466944511980,0.001359732355922,-0.001529293018393,0.000556987710297,0.000972306181211,0.004895011428744,-0.001131203607656,-0.001144641428255));
res += mul(Get(s1,dx,0), float4x3(-0.000071520240454,-0.009307084605098,0.000486844743136,-0.006088568829000,0.001011973945424,0.003427126212046,0.002309527015314,0.007419472094625,-0.001802087062970,0.007439359091222,0.017689827829599,0.012432835064828));
res += mul(Get(s1,dx,dy), float4x3(-0.009486763738096,-0.008279231376946,0.004364087246358,-0.004517978057265,0.002941080136225,0.005135633982718,-0.003360866336152,0.005956680513918,-0.000927695538849,0.005361354444176,0.005122681148350,0.002105148043483));
res += mul(Get(s2,-dx,-dy), float4x3(-0.003687993856147,0.000550004770048,-0.000571080425289,-0.004942561499774,0.004627607762814,0.003219971433282,0.004530262202024,-0.000584561319556,-0.002499847440049,-0.002977934433147,-0.000492760213092,0.000579933228437));
res += mul(Get(s2,-dx,0), float4x3(-0.005961921531707,-0.017196774482727,-0.016128253191710,0.002255678176880,0.005509246140718,-0.008462389931083,0.009957195259631,0.010389171540737,0.009970143437386,-0.009190263226628,-0.005383922252804,-0.004075237549841));
res += mul(Get(s2,-dx,dy), float4x3(-0.002364261541516,0.000489802914672,0.002144498052076,-0.003517976496369,0.000005593341029,0.000979238422588,0.000405487575335,0.002345832297578,0.006544481497258,0.001310604740866,-0.002121737226844,-0.006202179938555));
res += mul(Get(s2,0,-dy), float4x3(0.018338276073337,0.008508972823620,0.001381329842843,-0.000506436859723,0.014181491918862,0.003659678623080,-0.014288550242782,-0.000112478679512,0.002292559016496,0.003866958897561,0.001002210658044,0.000853065983392));
res += mul(Get(s2,0,0), float4x3(-0.030586853623390,-0.012852648273110,0.017273895442486,0.042923614382744,-0.001162978936918,-0.037726014852524,0.012463998980820,-0.006911448668689,-0.021166745573282,0.014157945290208,0.024386217817664,0.014657419174910));
res += mul(Get(s2,0,dy), float4x3(0.006008180323988,0.001655473839492,-0.018352774903178,0.000441439682618,-0.016844755038619,-0.002128673484549,0.002126166829839,0.008386704139411,0.016711132600904,-0.000121457240311,-0.002590423217043,0.001774697448127));
res += mul(Get(s2,dx,-dy), float4x3(0.009843907319009,0.006859824527055,0.005324093159288,-0.001985145965591,0.000622630643193,0.000097453848866,-0.004381462465972,-0.001369808218442,0.000425367092248,0.004759636707604,-0.003594927722588,-0.004345242399722));
res += mul(Get(s2,dx,0), float4x3(0.008478273637593,0.010329797863960,0.010024946182966,0.004725677892566,0.000194772117538,-0.004407634958625,-0.017336804419756,-0.024094654247165,-0.016768394038081,0.007871211506426,0.020200960338116,0.020395604893565));
res += mul(Get(s2,dx,dy), float4x3(-0.002030801260844,-0.001921484246850,0.002815959276631,-0.000179652488441,-0.001291850698180,0.000230046513025,0.002160317730159,0.002694144845009,-0.004175936337560,-0.000597734819166,-0.004080392420292,-0.002939677331597));
return float4(res, 0);
}
